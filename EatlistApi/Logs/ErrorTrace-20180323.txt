2018-03-23T00:24:24.6778820+01:00  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T00:24:25.0582938+01:00  [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'__EFMigrationsHistory');" (0723d8ff)
2018-03-23T00:24:25.0636134+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'__EFMigrationsHistory');" (0723d8ff)
2018-03-23T00:24:25.0677462+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2018-03-23T00:24:25.0759969+01:00  [INF] Applying migration '"20180310212709_init"'. (0e2ac64d)
2018-03-23T00:24:25.8876135+01:00  [ERR] Failed executing DbCommand ("345"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'TblPosts.FileURL', N'RestaurantID', N'COLUMN';" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): Either the parameter @objname is ambiguous or the claimed @objtype (COLUMN) is wrong.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:a063bc45-e094-4dda-ba4f-9fd961084a2b
Error Number:15248,State:1,Class:11
2018-03-23T00:25:41.8914055+01:00  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T00:25:42.0444100+01:00  [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'__EFMigrationsHistory');" (0723d8ff)
2018-03-23T00:25:42.0471684+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'__EFMigrationsHistory');" (0723d8ff)
2018-03-23T00:25:42.0489655+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2018-03-23T00:25:42.0538385+01:00  [INF] Applying migration '"20180310212709_init"'. (0e2ac64d)
2018-03-23T00:25:42.1161464+01:00  [ERR] Failed executing DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'TblPosts.FileURL', N'RestaurantID', N'COLUMN';" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): Either the parameter @objname is ambiguous or the claimed @objtype (COLUMN) is wrong.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IEnumerable`1 migrationCommands, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.Design.Internal.MigrationsOperations.UpdateDatabase(String targetMigration, String contextType)
   at Microsoft.EntityFrameworkCore.Design.OperationExecutor.UpdateDatabase.<>c__DisplayClass0_1.<.ctor>b__0()
   at Microsoft.EntityFrameworkCore.Design.OperationExecutor.OperationBase.Execute(Action action)
ClientConnectionId:1e64a12e-84ba-4c35-9390-4c5388dc4b6f
Error Number:15248,State:1,Class:11
2018-03-23T00:27:22.6887507+01:00  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T00:27:22.8586130+01:00  [INF] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'__EFMigrationsHistory');" (0723d8ff)
2018-03-23T00:27:22.9554252+01:00  [INF] Executed DbCommand ("46"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);" (0723d8ff)
2018-03-23T00:27:22.9573706+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'__EFMigrationsHistory');" (0723d8ff)
2018-03-23T00:27:22.9600037+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2018-03-23T00:27:22.9707612+01:00  [INF] Applying migration '"20180219131356_init2"'. (0e2ac64d)
2018-03-23T00:27:23.1422071+01:00  [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);" (0723d8ff)
2018-03-23T00:27:23.1460047+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [AccessFailedCount] int NOT NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [Email] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [FullName] nvarchar(max) NULL,
    [IsRestaurant] bit NOT NULL,
    [LockoutEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [PasswordHash] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [RestaurantName] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [UserName] nvarchar(256) NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);" (0723d8ff)
2018-03-23T00:27:23.1494337+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [ChatMessages] (
    [ChatMessageID] int NOT NULL IDENTITY,
    [Message] nvarchar(max) NULL,
    CONSTRAINT [PK_ChatMessages] PRIMARY KEY ([ChatMessageID])
);" (0723d8ff)
2018-03-23T00:27:23.1821487+01:00  [INF] Executed DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [TblBookings] (
    [BookingID] int NOT NULL IDENTITY,
    [BookingStatusID] int NOT NULL,
    [BookingTime] datetime2 NOT NULL,
    [CreatedBy] nvarchar(max) NULL,
    [DateCreated] datetime2 NOT NULL,
    [Description] nvarchar(max) NULL,
    [DishID] int NOT NULL,
    [TableSize] int NOT NULL,
    CONSTRAINT [PK_TblBookings] PRIMARY KEY ([BookingID])
);" (0723d8ff)
2018-03-23T00:27:23.1963964+01:00  [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [TblBookingStatus] (
    [BookingStatusID] int NOT NULL IDENTITY,
    [CreatedBy] nvarchar(max) NULL,
    [DateCreated] datetime2 NOT NULL,
    [Description] nvarchar(max) NULL,
    [StatusName] nvarchar(max) NULL,
    CONSTRAINT [PK_TblBookingStatus] PRIMARY KEY ([BookingStatusID])
);" (0723d8ff)
2018-03-23T00:27:23.4061813+01:00  [INF] Executed DbCommand ("209"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [TblCommennts] (
    [CommentID] int NOT NULL IDENTITY,
    [Content] nvarchar(max) NULL,
    [CreatedBy] int NOT NULL,
    [DateCreated] datetime2 NOT NULL,
    [DatePosted] datetime2 NOT NULL,
    [Image] nvarchar(max) NULL,
    [PostID] int NOT NULL,
    CONSTRAINT [PK_TblCommennts] PRIMARY KEY ([CommentID])
);" (0723d8ff)
2018-03-23T00:27:23.6365463+01:00  [INF] Executed DbCommand ("230"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [TblFriendship] (
    [FriendshipID] int NOT NULL IDENTITY,
    [CreatedBy] nvarchar(max) NULL,
    [DateCreated] datetime2 NOT NULL,
    [FollowerID] nvarchar(max) NULL,
    CONSTRAINT [PK_TblFriendship] PRIMARY KEY ([FriendshipID])
);" (0723d8ff)
2018-03-23T00:27:23.6506691+01:00  [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [TblLikes] (
    [LikeID] int NOT NULL IDENTITY,
    [CreatedBy] nvarchar(max) NULL,
    [DateCreated] datetime2 NOT NULL,
    [PostID] int NOT NULL,
    CONSTRAINT [PK_TblLikes] PRIMARY KEY ([LikeID])
);" (0723d8ff)
2018-03-23T00:27:23.6742071+01:00  [INF] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [tblNotification] (
    [NotificationID] int NOT NULL IDENTITY,
    [DateCreated] datetime2 NOT NULL,
    [Message] nvarchar(max) NULL,
    [Recipient] nvarchar(max) NULL,
    [Source] nvarchar(max) NULL,
    CONSTRAINT [PK_tblNotification] PRIMARY KEY ([NotificationID])
);" (0723d8ff)
2018-03-23T00:27:23.6766448+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [TblPosts] (
    [PostID] int NOT NULL IDENTITY,
    [CreatedBy] nvarchar(max) NULL,
    [DateCreated] datetime2 NOT NULL,
    [FileType] nvarchar(max) NULL,
    [FileURL] nvarchar(max) NULL,
    CONSTRAINT [PK_TblPosts] PRIMARY KEY ([PostID])
);" (0723d8ff)
2018-03-23T00:27:23.6796118+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [TblTags] (
    [TagID] int NOT NULL IDENTITY,
    [CreatedBy] nvarchar(max) NULL,
    [DateCreated] datetime2 NOT NULL,
    [DishID] int NOT NULL,
    CONSTRAINT [PK_TblTags] PRIMARY KEY ([TagID])
);" (0723d8ff)
2018-03-23T00:27:23.6819648+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [TblToDoMeals] (
    [ToDoID] int NOT NULL IDENTITY,
    [CreatedBy] nvarchar(max) NULL,
    [DateCreated] datetime2 NOT NULL,
    [DishID] int NOT NULL,
    CONSTRAINT [PK_TblToDoMeals] PRIMARY KEY ([ToDoID])
);" (0723d8ff)
2018-03-23T00:27:23.7032807+01:00  [INF] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [tblUploads] (
    [UploadID] int NOT NULL IDENTITY,
    [FileUrl] nvarchar(max) NULL,
    [IsProfile] bit NOT NULL,
    [UserID] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_tblUploads] PRIMARY KEY ([UploadID])
);" (0723d8ff)
2018-03-23T00:27:23.7506852+01:00  [INF] Executed DbCommand ("47"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);" (0723d8ff)
2018-03-23T00:27:23.7756034+01:00  [INF] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);" (0723d8ff)
2018-03-23T00:27:23.8479795+01:00  [INF] Executed DbCommand ("72"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);" (0723d8ff)
2018-03-23T00:27:23.8518510+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);" (0723d8ff)
2018-03-23T00:27:23.8572415+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);" (0723d8ff)
2018-03-23T00:27:23.8850219+01:00  [INF] Executed DbCommand ("27"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [TblDishes] (
    [DishesID] int NOT NULL IDENTITY,
    [DateCreated] datetime2 NOT NULL,
    [Name] nvarchar(max) NULL,
    [RestaurantID] nvarchar(450) NULL,
    CONSTRAINT [PK_TblDishes] PRIMARY KEY ([DishesID]),
    CONSTRAINT [FK_TblDishes_AspNetUsers_RestaurantID] FOREIGN KEY ([RestaurantID]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);" (0723d8ff)
2018-03-23T00:27:24.0621355+01:00  [INF] Executed DbCommand ("176"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);" (0723d8ff)
2018-03-23T00:27:24.0762608+01:00  [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;" (0723d8ff)
2018-03-23T00:27:24.0785466+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);" (0723d8ff)
2018-03-23T00:27:24.0798894+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);" (0723d8ff)
2018-03-23T00:27:24.0810835+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);" (0723d8ff)
2018-03-23T00:27:24.0826256+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);" (0723d8ff)
2018-03-23T00:27:24.1093513+01:00  [INF] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;" (0723d8ff)
2018-03-23T00:27:24.1108991+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_TblDishes_RestaurantID] ON [TblDishes] ([RestaurantID]);" (0723d8ff)
2018-03-23T00:27:24.1131870+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20180219131356_init2', N'2.0.1-rtm-125');" (0723d8ff)
2018-03-23T00:27:24.1166711+01:00  [INF] Applying migration '"20180227075456_Booking"'. (0e2ac64d)
2018-03-23T00:27:24.4482616+01:00  [INF] Executed DbCommand ("270"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'TblBookings') AND [c].[name] = N'DishID');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [TblBookings] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [TblBookings] DROP COLUMN [DishID];" (0723d8ff)
2018-03-23T00:27:24.5527870+01:00  [INF] Executed DbCommand ("104"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'tblUploads') AND [c].[name] = N'UserID');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [tblUploads] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [tblUploads] ALTER COLUMN [UserID] nvarchar(max) NULL;" (0723d8ff)
2018-03-23T00:27:24.5934597+01:00  [INF] Executed DbCommand ("40"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'TblBookings') AND [c].[name] = N'TableSize');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [TblBookings] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [TblBookings] ALTER COLUMN [TableSize] int NULL;" (0723d8ff)
2018-03-23T00:27:24.6210391+01:00  [INF] Executed DbCommand ("27"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'TblBookings') AND [c].[name] = N'DateCreated');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [TblBookings] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [TblBookings] ALTER COLUMN [DateCreated] datetime2 NULL;" (0723d8ff)
2018-03-23T00:27:24.6418804+01:00  [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'TblBookings') AND [c].[name] = N'BookingStatusID');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [TblBookings] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [TblBookings] ALTER COLUMN [BookingStatusID] int NULL;" (0723d8ff)
2018-03-23T00:27:24.6466308+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [TblBookingDishes] (
    [BookingDishID] int NOT NULL IDENTITY,
    [BookingID] int NOT NULL,
    [DateCreated] datetime2 NULL,
    [DishID] int NOT NULL,
    CONSTRAINT [PK_TblBookingDishes] PRIMARY KEY ([BookingDishID]),
    CONSTRAINT [FK_TblBookingDishes_TblBookings_BookingID] FOREIGN KEY ([BookingID]) REFERENCES [TblBookings] ([BookingID]) ON DELETE CASCADE,
    CONSTRAINT [FK_TblBookingDishes_TblDishes_DishID] FOREIGN KEY ([DishID]) REFERENCES [TblDishes] ([DishesID]) ON DELETE CASCADE
);" (0723d8ff)
2018-03-23T00:27:24.6476204+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_TblBookings_BookingStatusID] ON [TblBookings] ([BookingStatusID]);" (0723d8ff)
2018-03-23T00:27:24.6487652+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_TblBookingDishes_BookingID] ON [TblBookingDishes] ([BookingID]);" (0723d8ff)
2018-03-23T00:27:24.6497454+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_TblBookingDishes_DishID] ON [TblBookingDishes] ([DishID]);" (0723d8ff)
2018-03-23T00:27:24.6517699+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [TblBookings] ADD CONSTRAINT [FK_TblBookings_TblBookingStatus_BookingStatusID] FOREIGN KEY ([BookingStatusID]) REFERENCES [TblBookingStatus] ([BookingStatusID]) ON DELETE NO ACTION;" (0723d8ff)
2018-03-23T00:27:24.6530131+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20180227075456_Booking', N'2.0.1-rtm-125');" (0723d8ff)
2018-03-23T00:27:24.6538261+01:00  [INF] Applying migration '"20180301113625_TestMarch1"'. (0e2ac64d)
2018-03-23T00:27:24.6822539+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [TblBookings] ADD [RestaurantID] nvarchar(max) NULL;" (0723d8ff)
2018-03-23T00:27:24.6826430+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20180301113625_TestMarch1', N'2.0.1-rtm-125');" (0723d8ff)
2018-03-23T00:27:24.6831771+01:00  [INF] Applying migration '"20180302151540_March2"'. (0e2ac64d)
2018-03-23T00:27:24.7188730+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [TblDishes] ADD [Description] nvarchar(max) NULL;" (0723d8ff)
2018-03-23T00:27:24.7547766+01:00  [INF] Executed DbCommand ("35"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [TblDishMedia] (
    [DishMediaID] int NOT NULL IDENTITY,
    [DishID] int NOT NULL,
    [Type] nvarchar(max) NULL,
    [Url] nvarchar(max) NULL,
    CONSTRAINT [PK_TblDishMedia] PRIMARY KEY ([DishMediaID]),
    CONSTRAINT [FK_TblDishMedia_TblDishes_DishID] FOREIGN KEY ([DishID]) REFERENCES [TblDishes] ([DishesID]) ON DELETE CASCADE
);" (0723d8ff)
2018-03-23T00:27:24.7575671+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_TblDishMedia_DishID] ON [TblDishMedia] ([DishID]);" (0723d8ff)
2018-03-23T00:27:24.7606261+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20180302151540_March2', N'2.0.1-rtm-125');" (0723d8ff)
2018-03-23T00:27:24.7618252+01:00  [INF] Applying migration '"20180310212709_init"'. (0e2ac64d)
2018-03-23T00:27:25.0275814+01:00  [INF] Executed DbCommand ("220"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'TblPosts.FileURL', N'RestaurantID', N'COLUMN';" (0723d8ff)
2018-03-23T00:27:25.0303334+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'TblPosts.FileType', N'Caption', N'COLUMN';" (0723d8ff)
2018-03-23T00:27:25.0314907+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [TblPosts] ADD [DishID] int NULL;" (0723d8ff)
2018-03-23T00:27:25.0339265+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [TblPostsMedia] (
    [PostMediaID] int NOT NULL IDENTITY,
    [FileType] nvarchar(max) NULL,
    [FileURL] nvarchar(max) NULL,
    [PostID] int NOT NULL,
    CONSTRAINT [PK_TblPostsMedia] PRIMARY KEY ([PostMediaID])
);" (0723d8ff)
2018-03-23T00:27:25.0356329+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20180310212709_init', N'2.0.1-rtm-125');" (0723d8ff)
2018-03-23T00:27:25.0363099+01:00  [INF] Applying migration '"20180315081519_CommentMod"'. (0e2ac64d)
2018-03-23T00:27:25.0863257+01:00  [INF] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'TblCommennts') AND [c].[name] = N'CreatedBy');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [TblCommennts] DROP CONSTRAINT [' + @var5 + '];');
ALTER TABLE [TblCommennts] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;" (0723d8ff)
2018-03-23T00:27:25.0907925+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20180315081519_CommentMod', N'2.0.1-rtm-125');" (0723d8ff)
2018-03-23T00:27:25.0918792+01:00  [INF] Applying migration '"20180319005726_UserInfo mod"'. (0e2ac64d)
2018-03-23T00:27:25.1731705+01:00  [INF] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [TblLikes] ADD [IsLiked] bit NOT NULL DEFAULT 0;" (0723d8ff)
2018-03-23T00:27:25.1745881+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [AspNetUsers] ADD [Address] nvarchar(max) NULL;" (0723d8ff)
2018-03-23T00:27:25.1758891+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [AspNetUsers] ADD [Bio] nvarchar(max) NULL;" (0723d8ff)
2018-03-23T00:27:25.2070386+01:00  [INF] Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [AspNetUsers] ADD [Dob] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.000';" (0723d8ff)
2018-03-23T00:27:25.2082205+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [AspNetUsers] ADD [Doi] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.000';" (0723d8ff)
2018-03-23T00:27:25.2104469+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [AspNetUsers] ADD [Gender] int NOT NULL DEFAULT 0;" (0723d8ff)
2018-03-23T00:27:25.2117303+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20180319005726_UserInfo mod', N'2.0.1-rtm-125');" (0723d8ff)
2018-03-23T00:27:25.2122905+01:00  [INF] Applying migration '"20180319025235_profilepic"'. (0e2ac64d)
2018-03-23T00:27:25.2422293+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [AspNetUsers] ADD [profilepic] nvarchar(max) NULL;" (0723d8ff)
2018-03-23T00:27:25.2438205+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20180319025235_profilepic', N'2.0.1-rtm-125');" (0723d8ff)
2018-03-23T00:27:25.2461958+01:00  [INF] Applying migration '"20180319221938_gender"'. (0e2ac64d)
2018-03-23T00:27:25.3336658+01:00  [INF] Executed DbCommand ("46"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var6 sysname;
SELECT @var6 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'TblLikes') AND [c].[name] = N'IsLiked');
IF @var6 IS NOT NULL EXEC(N'ALTER TABLE [TblLikes] DROP CONSTRAINT [' + @var6 + '];');
ALTER TABLE [TblLikes] DROP COLUMN [IsLiked];" (0723d8ff)
2018-03-23T00:27:25.5701500+01:00  [INF] Executed DbCommand ("236"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var7 sysname;
SELECT @var7 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'AspNetUsers') AND [c].[name] = N'Gender');
IF @var7 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var7 + '];');
ALTER TABLE [AspNetUsers] ALTER COLUMN [Gender] nvarchar(max) NULL;" (0723d8ff)
2018-03-23T00:27:25.5728563+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20180319221938_gender', N'2.0.1-rtm-125');" (0723d8ff)
2018-03-23T00:27:25.5736504+01:00  [INF] Applying migration '"20180322220755_react1"'. (0e2ac64d)
2018-03-23T00:27:25.6057258+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20180322220755_react1', N'2.0.1-rtm-125');" (0723d8ff)

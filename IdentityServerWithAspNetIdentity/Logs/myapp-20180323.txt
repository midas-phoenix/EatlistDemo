2018-03-23T00:28:14.0191828+01:00  [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation. (553c312b)
2018-03-23T00:31:01.1581440+01:00 0HLCG9JSA7JHV:00000001 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Register?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3 application/x-www-form-urlencoded 300 (ca22a1cb)
2018-03-23T00:31:03.0845295+01:00 0HLCG9JSA7JHV:00000001 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Register (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.RegisterViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T00:31:03.4317956+01:00 0HLCG9JSA7JHV:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T00:31:03.9125328+01:00 0HLCG9JSA7JHV:00000001 [INF] Executed DbCommand ("64"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T00:31:04.7026713+01:00 0HLCG9JSA7JHV:00000001 [INF] Executed DbCommand ("281"ms) [Parameters=["@p0='?' (Size = 450), @p1='?', @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?', @p6='?', @p7='?' (Size = 256), @p8='?', @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?', @p12='?', @p13='?', @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?', @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?', @p22='?' (Size = 256), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [Address], [Bio], [ConcurrencyStamp], [Dob], [Doi], [Email], [EmailConfirmed], [FullName], [Gender], [IsRestaurant], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RestaurantName], [SecurityStamp], [TwoFactorEnabled], [UserName], [profilepic])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);" (0723d8ff)
2018-03-23T00:31:04.7085533+01:00 0HLCG9JSA7JHV:00000001 [INF] User created a new account with password. (693a7015)
2018-03-23T00:31:05.1069103+01:00 0HLCG9JSA7JHV:00000001 [INF] Executed DbCommand ("17"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T00:31:05.2333546+01:00 0HLCG9JSA7JHV:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T00:31:05.2690949+01:00 0HLCG9JSA7JHV:00000001 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T00:31:05.2692938+01:00 0HLCG9JSA7JHV:00000001 [INF] User created a new account with password. (693a7015)
2018-03-23T00:31:05.3034902+01:00 0HLCG9JSA7JHV:00000001 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3". (d98d540e)
2018-03-23T00:31:05.3110793+01:00 0HLCG9JSA7JHV:00000001 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Register (IdentityServerWithAspNetIdentity)" in 2752.2539ms (afa2e885)
2018-03-23T00:31:05.3177409+01:00 0HLCG9JSA7JHV:00000001 [INF] Request finished in 4169.4726ms 302  (791a596a)
2018-03-23T00:31:05.3217823+01:00 0HLCG9JSA7JHV:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T00:31:05.3287106+01:00 0HLCG9JSA7JHV:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:31:05.3290754+01:00 0HLCG9JSA7JHV:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:31:05.3384290+01:00 0HLCG9JSA7JHV:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T00:31:05.6053489+01:00 0HLCG9JSA7JHV:00000002 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"577b005e-3526-4d8e-9464-3af1016c4985\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"99642db7fccb4d8c9a1648e0937fb097\",
  \"Nonce\": \"ef736a92245a485a95e0ef7d38a206a3\",
  \"SessionId\": \"ce0c252409e784ab68c6ee3d2a3bd553\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"99642db7fccb4d8c9a1648e0937fb097\",
    \"nonce\": \"ef736a92245a485a95e0ef7d38a206a3\"
  }
}" (9a175e33)
2018-03-23T00:31:05.6191253+01:00 0HLCG9JSA7JHV:00000002 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T00:31:05.6740531+01:00 0HLCG9JSA7JHV:00000002 [INF] Executed DbCommand ("15"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T00:31:05.7894341+01:00 0HLCG9JSA7JHV:00000002 [INF] Executed DbCommand ("11"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T00:31:05.7961179+01:00 0HLCG9JSA7JHV:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T00:31:07.1681434+01:00 0HLCG9JSA7JHV:00000002 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"577b005e-3526-4d8e-9464-3af1016c4985\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"99642db7fccb4d8c9a1648e0937fb097\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T00:31:07.1987502+01:00 0HLCG9JSA7JHV:00000002 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T00:31:07.2082723+01:00 0HLCG9JSA7JHV:00000002 [INF] Request finished in 1886.4648ms 302  (791a596a)
2018-03-23T00:31:09.1862033+01:00 0HLCG9JSA7JHV:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Register?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T00:31:09.1873032+01:00 0HLCG9JSA7JHV:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:31:09.1874063+01:00 0HLCG9JSA7JHV:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:31:09.1943693+01:00 0HLCG9JSA7JHV:00000003 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Register (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T00:31:09.6250338+01:00 0HLCG9JSA7JI0:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T00:31:09.6263343+01:00 0HLCG9JSA7JI0:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:31:09.6267030+01:00 0HLCG9JSA7JI0:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:31:09.6337152+01:00 0HLCG9JSA7JI0:00000001 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T00:31:09.6451784+01:00 0HLCG9JSA7JI0:00000001 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T00:31:19.1746348+01:00 0HLCG9JSA7JHV:00000003 [INF] Executing ViewResult, running view at path "/Views/Account/Register.cshtml". (9707eebe)
2018-03-23T00:31:19.1746340+01:00 0HLCG9JSA7JI0:00000001 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T00:31:19.9624087+01:00 0HLCG9JSA7JHV:00000003 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Register (IdentityServerWithAspNetIdentity)" in 10769.0064ms (afa2e885)
2018-03-23T00:31:19.9624318+01:00 0HLCG9JSA7JI0:00000001 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 10328.9758ms (afa2e885)
2018-03-23T00:31:19.9659352+01:00 0HLCG9JSA7JHV:00000003 [INF] Request finished in 10779.7713ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T00:31:19.9674422+01:00 0HLCG9JSA7JI0:00000001 [INF] Request finished in 10342.5055ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T00:31:32.4269700+01:00 0HLCG9JSA7JI0:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Register?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T00:31:32.4278180+01:00 0HLCG9JSA7JI0:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:31:32.4278822+01:00 0HLCG9JSA7JI0:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:31:32.4283347+01:00 0HLCG9JSA7JI0:00000002 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Register (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T00:31:32.4285827+01:00 0HLCG9JSA7JI0:00000002 [INF] Executing ViewResult, running view at path "/Views/Account/Register.cshtml". (9707eebe)
2018-03-23T00:31:32.4346776+01:00 0HLCG9JSA7JI0:00000002 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Register (IdentityServerWithAspNetIdentity)" in 6.5546ms (afa2e885)
2018-03-23T00:31:32.4348833+01:00 0HLCG9JSA7JI0:00000002 [INF] Request finished in 7.9838ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T00:32:01.3235365+01:00 0HLCG9JSA7JI0:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Register?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3 application/x-www-form-urlencoded 345 (ca22a1cb)
2018-03-23T00:32:01.3244183+01:00 0HLCG9JSA7JI0:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:32:01.3244722+01:00 0HLCG9JSA7JI0:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:32:01.3255768+01:00 0HLCG9JSA7JI0:00000003 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Register (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.RegisterViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T00:32:01.3365777+01:00 0HLCG9JSA7JI0:00000003 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T00:32:01.5153616+01:00 0HLCG9JSA7JI0:00000003 [INF] Executed DbCommand ("178"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T00:32:01.5898760+01:00 0HLCG9JSA7JI0:00000003 [WRN] User "ed5f8f3d-b990-428d-9be7-c313be7ea431" validation failed: "DuplicateUserName". (5dc28e15)
2018-03-23T00:32:01.5923949+01:00 0HLCG9JSA7JI0:00000003 [INF] Executing ViewResult, running view at path "/Views/Account/Register.cshtml". (9707eebe)
2018-03-23T00:32:01.6969241+01:00 0HLCG9JSA7JI0:00000003 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Register (IdentityServerWithAspNetIdentity)" in 372.2068ms (afa2e885)
2018-03-23T00:32:01.6973932+01:00 0HLCG9JSA7JI0:00000003 [INF] Request finished in 373.8319ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T00:34:55.5892674+01:00 0HLCG9JSA7JI3:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Register?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T00:34:55.5904123+01:00 0HLCG9JSA7JI3:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:34:55.5904786+01:00 0HLCG9JSA7JI3:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:34:55.5909550+01:00 0HLCG9JSA7JI3:00000001 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Register (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T00:34:55.5914990+01:00 0HLCG9JSA7JI3:00000001 [INF] Executing ViewResult, running view at path "/Views/Account/Register.cshtml". (9707eebe)
2018-03-23T00:34:55.5955972+01:00 0HLCG9JSA7JI3:00000001 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Register (IdentityServerWithAspNetIdentity)" in 4.9171ms (afa2e885)
2018-03-23T00:34:55.5958447+01:00 0HLCG9JSA7JI3:00000001 [INF] Request finished in 6.6397ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T00:35:22.2928604+01:00 0HLCG9JSA7JI3:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T00:35:22.2939710+01:00 0HLCG9JSA7JI3:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:35:22.2940831+01:00 0HLCG9JSA7JI3:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:35:22.2945304+01:00 0HLCG9JSA7JI3:00000002 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T00:35:22.2950256+01:00 0HLCG9JSA7JI3:00000002 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T00:35:22.2956141+01:00 0HLCG9JSA7JI3:00000002 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T00:35:22.2990828+01:00 0HLCG9JSA7JI3:00000002 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 4.8119ms (afa2e885)
2018-03-23T00:35:22.2994104+01:00 0HLCG9JSA7JI3:00000002 [INF] Request finished in 6.5649ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T00:35:43.5866336+01:00 0HLCG9JSA7JI3:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3 application/x-www-form-urlencoded 294 (ca22a1cb)
2018-03-23T00:35:43.5873490+01:00 0HLCG9JSA7JI3:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:35:43.5873990+01:00 0HLCG9JSA7JI3:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:35:43.6643669+01:00 0HLCG9JSA7JI3:00000003 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T00:35:43.6674798+01:00 0HLCG9JSA7JI3:00000003 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T00:35:43.6707461+01:00 0HLCG9JSA7JI3:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T00:35:43.6711776+01:00 0HLCG9JSA7JI3:00000003 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T00:35:43.6728780+01:00 0HLCG9JSA7JI3:00000003 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 73.975ms (afa2e885)
2018-03-23T00:35:43.6734480+01:00 0HLCG9JSA7JI3:00000003 [INF] Request finished in 86.7743ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T00:35:52.7075739+01:00 0HLCG9JSA7JI3:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/ForgotPassword   (ca22a1cb)
2018-03-23T00:35:52.7085097+01:00 0HLCG9JSA7JI3:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:35:52.7085755+01:00 0HLCG9JSA7JI3:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:35:52.7112847+01:00 0HLCG9JSA7JI3:00000004 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.ForgotPassword (IdentityServerWithAspNetIdentity)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2018-03-23T00:35:52.8765912+01:00 0HLCG9JSA7JI3:00000004 [INF] Executing ViewResult, running view at path "/Views/Account/ForgotPassword.cshtml". (9707eebe)
2018-03-23T00:35:53.5227789+01:00 0HLCG9JSA7JI3:00000004 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.ForgotPassword (IdentityServerWithAspNetIdentity)" in 811.4959ms (afa2e885)
2018-03-23T00:35:53.5231501+01:00 0HLCG9JSA7JI3:00000004 [INF] Request finished in 815.5342ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T00:35:59.1643057+01:00 0HLCG9JSA7JI3:00000005 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/ForgotPassword application/x-www-form-urlencoded 254 (ca22a1cb)
2018-03-23T00:35:59.1652568+01:00 0HLCG9JSA7JI3:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:35:59.1653128+01:00 0HLCG9JSA7JI3:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:35:59.1771139+01:00 0HLCG9JSA7JI3:00000005 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.ForgotPassword (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.ForgotPasswordViewModel"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T00:35:59.1809482+01:00 0HLCG9JSA7JI3:00000005 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T00:35:59.3387130+01:00 0HLCG9JSA7JI3:00000005 [INF] Executed DbCommand ("147"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2018-03-23T00:35:59.3413721+01:00 0HLCG9JSA7JI3:00000005 [INF] Executing RedirectResult, redirecting to "/Account/ForgotPasswordConfirmation". (d98d540e)
2018-03-23T00:35:59.3417930+01:00 0HLCG9JSA7JI3:00000005 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.ForgotPassword (IdentityServerWithAspNetIdentity)" in 167.8727ms (afa2e885)
2018-03-23T00:35:59.3422454+01:00 0HLCG9JSA7JI3:00000005 [INF] Request finished in 177.9196ms 302  (791a596a)
2018-03-23T00:35:59.3471207+01:00 0HLCG9JSA7JI3:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/ForgotPasswordConfirmation   (ca22a1cb)
2018-03-23T00:35:59.3493231+01:00 0HLCG9JSA7JI3:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:35:59.3495147+01:00 0HLCG9JSA7JI3:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:35:59.3609745+01:00 0HLCG9JSA7JI3:00000006 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.ForgotPasswordConfirmation (IdentityServerWithAspNetIdentity)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2018-03-23T00:35:59.5353549+01:00 0HLCG9JSA7JI3:00000006 [INF] Executing ViewResult, running view at path "/Views/Account/ForgotPasswordConfirmation.cshtml". (9707eebe)
2018-03-23T00:35:59.5429377+01:00 0HLCG9JSA7JI3:00000006 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.ForgotPasswordConfirmation (IdentityServerWithAspNetIdentity)" in 182.5686ms (afa2e885)
2018-03-23T00:35:59.5433183+01:00 0HLCG9JSA7JI3:00000006 [INF] Request finished in 196.3758ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T00:38:28.1565271+01:00 0HLCG9JSA7JI4:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/ForgotPassword   (ca22a1cb)
2018-03-23T00:38:28.1578211+01:00 0HLCG9JSA7JI4:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:38:28.1579092+01:00 0HLCG9JSA7JI4:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:38:28.1582860+01:00 0HLCG9JSA7JI4:00000001 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.ForgotPassword (IdentityServerWithAspNetIdentity)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2018-03-23T00:38:28.1584387+01:00 0HLCG9JSA7JI4:00000001 [INF] Executing ViewResult, running view at path "/Views/Account/ForgotPassword.cshtml". (9707eebe)
2018-03-23T00:38:28.1607656+01:00 0HLCG9JSA7JI4:00000001 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.ForgotPassword (IdentityServerWithAspNetIdentity)" in 2.6416ms (afa2e885)
2018-03-23T00:38:28.1609042+01:00 0HLCG9JSA7JI4:00000001 [INF] Request finished in 4.498ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T00:39:27.5546917+01:00 0HLCG9JSA7JI4:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T00:39:27.5556898+01:00 0HLCG9JSA7JI4:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:39:27.5557527+01:00 0HLCG9JSA7JI4:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:39:27.5562641+01:00 0HLCG9JSA7JI4:00000002 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T00:39:27.5564942+01:00 0HLCG9JSA7JI4:00000002 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T00:39:27.5568744+01:00 0HLCG9JSA7JI4:00000002 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T00:39:27.5594793+01:00 0HLCG9JSA7JI4:00000002 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 3.4759ms (afa2e885)
2018-03-23T00:39:27.5600151+01:00 0HLCG9JSA7JI4:00000002 [INF] Request finished in 5.3593ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T00:39:30.5802842+01:00 0HLCG9JSA7JI4:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Register?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T00:39:30.5810574+01:00 0HLCG9JSA7JI4:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:39:30.5811399+01:00 0HLCG9JSA7JI4:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:39:30.5814038+01:00 0HLCG9JSA7JI4:00000003 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Register (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T00:39:30.5814949+01:00 0HLCG9JSA7JI4:00000003 [INF] Executing ViewResult, running view at path "/Views/Account/Register.cshtml". (9707eebe)
2018-03-23T00:39:30.5837901+01:00 0HLCG9JSA7JI4:00000003 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Register (IdentityServerWithAspNetIdentity)" in 2.491ms (afa2e885)
2018-03-23T00:39:30.5841476+01:00 0HLCG9JSA7JI4:00000003 [INF] Request finished in 3.9096ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T00:40:07.7950676+01:00 0HLCG9JSA7JI4:00000004 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Register?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3 application/x-www-form-urlencoded 337 (ca22a1cb)
2018-03-23T00:40:07.7957920+01:00 0HLCG9JSA7JI4:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:40:07.7959617+01:00 0HLCG9JSA7JI4:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:40:07.7966451+01:00 0HLCG9JSA7JI4:00000004 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Register (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.RegisterViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T00:40:07.8123914+01:00 0HLCG9JSA7JI4:00000004 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T00:40:07.8160222+01:00 0HLCG9JSA7JI4:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T00:40:07.8206588+01:00 0HLCG9JSA7JI4:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 450), @p1='?', @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?', @p6='?', @p7='?' (Size = 256), @p8='?', @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?', @p12='?', @p13='?', @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?', @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?', @p22='?' (Size = 256), @p23='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [Address], [Bio], [ConcurrencyStamp], [Dob], [Doi], [Email], [EmailConfirmed], [FullName], [Gender], [IsRestaurant], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RestaurantName], [SecurityStamp], [TwoFactorEnabled], [UserName], [profilepic])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);" (0723d8ff)
2018-03-23T00:40:07.8412080+01:00 0HLCG9JSA7JI4:00000004 [INF] User created a new account with password. (693a7015)
2018-03-23T00:40:07.8437152+01:00 0HLCG9JSA7JI4:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T00:40:07.8470831+01:00 0HLCG9JSA7JI4:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T00:40:07.8475603+01:00 0HLCG9JSA7JI4:00000004 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T00:40:07.8475971+01:00 0HLCG9JSA7JI4:00000004 [INF] User created a new account with password. (693a7015)
2018-03-23T00:40:07.8477519+01:00 0HLCG9JSA7JI4:00000004 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3". (d98d540e)
2018-03-23T00:40:07.8478691+01:00 0HLCG9JSA7JI4:00000004 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Register (IdentityServerWithAspNetIdentity)" in 51.7798ms (afa2e885)
2018-03-23T00:40:07.8479927+01:00 0HLCG9JSA7JI4:00000004 [INF] Request finished in 53.0191ms 302  (791a596a)
2018-03-23T00:40:07.8502473+01:00 0HLCG9JSA7JI4:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T00:40:07.8510546+01:00 0HLCG9JSA7JI4:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:40:07.8511115+01:00 0HLCG9JSA7JI4:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:40:07.8514186+01:00 0HLCG9JSA7JI4:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T00:40:07.8521139+01:00 0HLCG9JSA7JI4:00000005 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"99642db7fccb4d8c9a1648e0937fb097\",
  \"Nonce\": \"ef736a92245a485a95e0ef7d38a206a3\",
  \"SessionId\": \"e819b73e8d06765ab4394b6d732a476d\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"99642db7fccb4d8c9a1648e0937fb097\",
    \"nonce\": \"ef736a92245a485a95e0ef7d38a206a3\"
  }
}" (9a175e33)
2018-03-23T00:40:07.8525433+01:00 0HLCG9JSA7JI4:00000005 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T00:40:07.8564970+01:00 0HLCG9JSA7JI4:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T00:40:07.8580271+01:00 0HLCG9JSA7JI4:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T00:40:07.8589188+01:00 0HLCG9JSA7JI4:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T00:40:07.8694622+01:00 0HLCG9JSA7JI4:00000005 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"99642db7fccb4d8c9a1648e0937fb097\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T00:40:07.8699390+01:00 0HLCG9JSA7JI4:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T00:40:07.8701716+01:00 0HLCG9JSA7JI4:00000005 [INF] Request finished in 20.3173ms 302  (791a596a)
2018-03-23T00:52:18.4000864+01:00 0HLCG9JSA7JI5:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Register?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T00:52:18.4016435+01:00 0HLCG9JSA7JI5:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:52:18.4017726+01:00 0HLCG9JSA7JI5:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:52:18.4023658+01:00 0HLCG9JSA7JI5:00000001 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Register (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T00:52:18.4025531+01:00 0HLCG9JSA7JI5:00000001 [INF] Executing ViewResult, running view at path "/Views/Account/Register.cshtml". (9707eebe)
2018-03-23T00:52:18.4070268+01:00 0HLCG9JSA7JI5:00000001 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Register (IdentityServerWithAspNetIdentity)" in 5.0129ms (afa2e885)
2018-03-23T00:52:18.4075682+01:00 0HLCG9JSA7JI5:00000001 [INF] Request finished in 7.4668ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T00:52:22.6830404+01:00 0HLCG9JSA7JI5:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T00:52:22.6842412+01:00 0HLCG9JSA7JI5:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:52:22.6843553+01:00 0HLCG9JSA7JI5:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:52:22.6849113+01:00 0HLCG9JSA7JI5:00000002 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T00:52:22.6850777+01:00 0HLCG9JSA7JI5:00000002 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T00:52:22.6855258+01:00 0HLCG9JSA7JI5:00000002 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T00:52:22.6890373+01:00 0HLCG9JSA7JI5:00000002 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 4.2363ms (afa2e885)
2018-03-23T00:52:22.6909292+01:00 0HLCG9JSA7JI5:00000002 [INF] Request finished in 7.9269ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T00:52:34.6646628+01:00 0HLCG9JSA7JI5:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3 application/x-www-form-urlencoded 276 (ca22a1cb)
2018-03-23T00:52:34.6657383+01:00 0HLCG9JSA7JI5:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:52:34.6658132+01:00 0HLCG9JSA7JI5:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:52:34.6664572+01:00 0HLCG9JSA7JI5:00000003 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T00:52:34.6670443+01:00 0HLCG9JSA7JI5:00000003 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T00:52:34.6870034+01:00 0HLCG9JSA7JI5:00000003 [INF] Executed DbCommand ("10"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T00:52:34.7701230+01:00 0HLCG9JSA7JI5:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T00:52:34.7747852+01:00 0HLCG9JSA7JI5:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T00:52:34.7754677+01:00 0HLCG9JSA7JI5:00000003 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T00:52:34.7755537+01:00 0HLCG9JSA7JI5:00000003 [INF] User logged in. (fdce0db4)
2018-03-23T00:52:34.7756559+01:00 0HLCG9JSA7JI5:00000003 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3". (d98d540e)
2018-03-23T00:52:34.7758394+01:00 0HLCG9JSA7JI5:00000003 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 109.8432ms (afa2e885)
2018-03-23T00:52:34.7761203+01:00 0HLCG9JSA7JI5:00000003 [INF] Request finished in 111.4092ms 302  (791a596a)
2018-03-23T00:52:34.7782412+01:00 0HLCG9JSA7JI5:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T00:52:34.7789498+01:00 0HLCG9JSA7JI5:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:52:34.7790032+01:00 0HLCG9JSA7JI5:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T00:52:34.7791127+01:00 0HLCG9JSA7JI5:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T00:52:34.7795408+01:00 0HLCG9JSA7JI5:00000004 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"99642db7fccb4d8c9a1648e0937fb097\",
  \"Nonce\": \"ef736a92245a485a95e0ef7d38a206a3\",
  \"SessionId\": \"322d690a1cf0112771821e28db5943ce\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"99642db7fccb4d8c9a1648e0937fb097\",
    \"nonce\": \"ef736a92245a485a95e0ef7d38a206a3\"
  }
}" (9a175e33)
2018-03-23T00:52:34.7798919+01:00 0HLCG9JSA7JI5:00000004 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T00:52:34.7843890+01:00 0HLCG9JSA7JI5:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T00:52:34.7875472+01:00 0HLCG9JSA7JI5:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T00:52:34.7920119+01:00 0HLCG9JSA7JI5:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T00:52:34.8007861+01:00 0HLCG9JSA7JI5:00000004 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"99642db7fccb4d8c9a1648e0937fb097\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T00:52:34.8011368+01:00 0HLCG9JSA7JI5:00000004 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T00:52:34.8013622+01:00 0HLCG9JSA7JI5:00000004 [INF] Request finished in 23.1672ms 302  (791a596a)
2018-03-23T01:05:23.3173244+01:00 0HLCG9JSA7JI6:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T01:05:23.3591254+01:00 0HLCG9JSA7JI6:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T01:05:23.3643774+01:00 0HLCG9JSA7JI6:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T01:05:23.5141869+01:00 0HLCG9JSA7JI6:00000001 [INF] Request finished in 196.916ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T01:05:23.5570972+01:00 0HLCG9JSA7JI6:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T01:05:23.5577169+01:00 0HLCG9JSA7JI6:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T01:05:23.5588972+01:00 0HLCG9JSA7JI6:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T01:05:23.5827376+01:00 0HLCG9JSA7JI6:00000002 [INF] Request finished in 25.7836ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T01:07:22.1405500+01:00 0HLCG9JSA7JI7:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T01:07:22.1423487+01:00 0HLCG9JSA7JI7:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:07:22.1424351+01:00 0HLCG9JSA7JI7:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:07:22.1429551+01:00 0HLCG9JSA7JI7:00000001 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T01:07:22.1431001+01:00 0HLCG9JSA7JI7:00000001 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T01:07:22.1436714+01:00 0HLCG9JSA7JI7:00000001 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T01:07:22.1468732+01:00 0HLCG9JSA7JI7:00000001 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 4.241ms (afa2e885)
2018-03-23T01:07:22.1470392+01:00 0HLCG9JSA7JI7:00000001 [INF] Request finished in 6.5956ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T01:07:28.2262179+01:00 0HLCG9JSA7JI7:00000002 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3 application/x-www-form-urlencoded 276 (ca22a1cb)
2018-03-23T01:07:28.2272909+01:00 0HLCG9JSA7JI7:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:07:28.2273486+01:00 0HLCG9JSA7JI7:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:07:28.2279572+01:00 0HLCG9JSA7JI7:00000002 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T01:07:28.2283481+01:00 0HLCG9JSA7JI7:00000002 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T01:07:28.4763037+01:00 0HLCG9JSA7JI7:00000002 [INF] Executed DbCommand ("189"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T01:07:28.5300315+01:00 0HLCG9JSA7JI7:00000002 [INF] Executed DbCommand ("33"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T01:07:28.5328335+01:00 0HLCG9JSA7JI7:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T01:07:28.5333450+01:00 0HLCG9JSA7JI7:00000002 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T01:07:28.5334164+01:00 0HLCG9JSA7JI7:00000002 [INF] User logged in. (fdce0db4)
2018-03-23T01:07:28.5334891+01:00 0HLCG9JSA7JI7:00000002 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3". (d98d540e)
2018-03-23T01:07:28.5335900+01:00 0HLCG9JSA7JI7:00000002 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 306.1109ms (afa2e885)
2018-03-23T01:07:28.5337632+01:00 0HLCG9JSA7JI7:00000002 [INF] Request finished in 307.5653ms 302  (791a596a)
2018-03-23T01:07:28.5357830+01:00 0HLCG9JSA7JI7:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T01:07:28.5364826+01:00 0HLCG9JSA7JI7:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:07:28.5365387+01:00 0HLCG9JSA7JI7:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:07:28.5366417+01:00 0HLCG9JSA7JI7:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T01:07:28.5373132+01:00 0HLCG9JSA7JI7:00000003 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"99642db7fccb4d8c9a1648e0937fb097\",
  \"Nonce\": \"ef736a92245a485a95e0ef7d38a206a3\",
  \"SessionId\": \"89f6d4414aa1b22e6482d68fcdc546b6\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"99642db7fccb4d8c9a1648e0937fb097\",
    \"nonce\": \"ef736a92245a485a95e0ef7d38a206a3\"
  }
}" (9a175e33)
2018-03-23T01:07:28.5378824+01:00 0HLCG9JSA7JI7:00000003 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T01:07:28.5414999+01:00 0HLCG9JSA7JI7:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T01:07:28.5428264+01:00 0HLCG9JSA7JI7:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T01:07:28.5440350+01:00 0HLCG9JSA7JI7:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T01:07:28.5520616+01:00 0HLCG9JSA7JI7:00000003 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"99642db7fccb4d8c9a1648e0937fb097\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T01:07:28.5527177+01:00 0HLCG9JSA7JI7:00000003 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T01:07:28.5532651+01:00 0HLCG9JSA7JI7:00000003 [INF] Request finished in 17.3759ms 302  (791a596a)
2018-03-23T01:08:06.3584518+01:00 0HLCG9JSA7JI7:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T01:08:06.3601329+01:00 0HLCG9JSA7JI7:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:08:06.3602834+01:00 0HLCG9JSA7JI7:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:08:06.3610425+01:00 0HLCG9JSA7JI7:00000004 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T01:08:06.3612559+01:00 0HLCG9JSA7JI7:00000004 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T01:08:06.3622429+01:00 0HLCG9JSA7JI7:00000004 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T01:08:06.3662467+01:00 0HLCG9JSA7JI7:00000004 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 4.956ms (afa2e885)
2018-03-23T01:08:06.3664288+01:00 0HLCG9JSA7JI7:00000004 [INF] Request finished in 8.1057ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T01:08:09.2879202+01:00 0HLCG9JSA7JI7:00000005 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3 application/x-www-form-urlencoded 276 (ca22a1cb)
2018-03-23T01:08:09.2887832+01:00 0HLCG9JSA7JI7:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:08:09.2888516+01:00 0HLCG9JSA7JI7:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:08:09.2899088+01:00 0HLCG9JSA7JI7:00000005 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T01:08:09.2904737+01:00 0HLCG9JSA7JI7:00000005 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T01:08:09.2944000+01:00 0HLCG9JSA7JI7:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T01:08:09.3142748+01:00 0HLCG9JSA7JI7:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T01:08:09.3190452+01:00 0HLCG9JSA7JI7:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T01:08:09.3195575+01:00 0HLCG9JSA7JI7:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T01:08:09.3196080+01:00 0HLCG9JSA7JI7:00000005 [INF] User logged in. (fdce0db4)
2018-03-23T01:08:09.3197124+01:00 0HLCG9JSA7JI7:00000005 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3". (d98d540e)
2018-03-23T01:08:09.3198411+01:00 0HLCG9JSA7JI7:00000005 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 30.5182ms (afa2e885)
2018-03-23T01:08:09.3199899+01:00 0HLCG9JSA7JI7:00000005 [INF] Request finished in 32.1462ms 302  (791a596a)
2018-03-23T01:08:09.3223407+01:00 0HLCG9JSA7JI7:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T01:08:09.3231285+01:00 0HLCG9JSA7JI7:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:08:09.3233594+01:00 0HLCG9JSA7JI7:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:08:09.3234843+01:00 0HLCG9JSA7JI7:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T01:08:09.3239748+01:00 0HLCG9JSA7JI7:00000006 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"99642db7fccb4d8c9a1648e0937fb097\",
  \"Nonce\": \"ef736a92245a485a95e0ef7d38a206a3\",
  \"SessionId\": \"8b322d170f2db623de81aa6b16c9a8d1\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"99642db7fccb4d8c9a1648e0937fb097\",
    \"nonce\": \"ef736a92245a485a95e0ef7d38a206a3\"
  }
}" (9a175e33)
2018-03-23T01:08:09.3245243+01:00 0HLCG9JSA7JI7:00000006 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T01:08:09.3271249+01:00 0HLCG9JSA7JI7:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T01:08:09.3286555+01:00 0HLCG9JSA7JI7:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T01:08:09.3306792+01:00 0HLCG9JSA7JI7:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T01:08:09.3416284+01:00 0HLCG9JSA7JI7:00000006 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"99642db7fccb4d8c9a1648e0937fb097\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T01:08:09.3420231+01:00 0HLCG9JSA7JI7:00000006 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T01:08:09.3424237+01:00 0HLCG9JSA7JI7:00000006 [INF] Request finished in 19.9829ms 302  (791a596a)
2018-03-23T01:09:18.3770338+01:00 0HLCG9JSA7JI7:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T01:09:18.3787551+01:00 0HLCG9JSA7JI7:00000007 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:09:18.3788338+01:00 0HLCG9JSA7JI7:00000007 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:09:18.3793029+01:00 0HLCG9JSA7JI7:00000007 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T01:09:18.3794402+01:00 0HLCG9JSA7JI7:00000007 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T01:09:18.3806598+01:00 0HLCG9JSA7JI7:00000007 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T01:09:18.3834310+01:00 0HLCG9JSA7JI7:00000007 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 4.4125ms (afa2e885)
2018-03-23T01:09:18.3839433+01:00 0HLCG9JSA7JI7:00000007 [INF] Request finished in 7.0922ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T01:09:22.0758888+01:00 0HLCG9JSA7JI7:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T01:09:22.0769220+01:00 0HLCG9JSA7JI7:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:09:22.0769870+01:00 0HLCG9JSA7JI7:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:09:22.0772966+01:00 0HLCG9JSA7JI7:00000008 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T01:09:22.0774130+01:00 0HLCG9JSA7JI7:00000008 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T01:09:22.0778359+01:00 0HLCG9JSA7JI7:00000008 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T01:09:22.0798360+01:00 0HLCG9JSA7JI7:00000008 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 2.7173ms (afa2e885)
2018-03-23T01:09:22.0800776+01:00 0HLCG9JSA7JI7:00000008 [INF] Request finished in 4.2739ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T01:09:24.5639521+01:00 0HLCG9JSA7JI7:00000009 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3 application/x-www-form-urlencoded 276 (ca22a1cb)
2018-03-23T01:09:24.5649375+01:00 0HLCG9JSA7JI7:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:09:24.5651744+01:00 0HLCG9JSA7JI7:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:09:24.5657726+01:00 0HLCG9JSA7JI7:00000009 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T01:09:24.5663226+01:00 0HLCG9JSA7JI7:00000009 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T01:09:24.5719060+01:00 0HLCG9JSA7JI7:00000009 [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T01:09:24.5849481+01:00 0HLCG9JSA7JI7:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T01:09:24.5914011+01:00 0HLCG9JSA7JI7:00000009 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T01:09:24.5922654+01:00 0HLCG9JSA7JI7:00000009 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T01:09:24.5924471+01:00 0HLCG9JSA7JI7:00000009 [INF] User logged in. (fdce0db4)
2018-03-23T01:09:24.5927315+01:00 0HLCG9JSA7JI7:00000009 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3". (d98d540e)
2018-03-23T01:09:24.5929119+01:00 0HLCG9JSA7JI7:00000009 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 27.5951ms (afa2e885)
2018-03-23T01:09:24.5931916+01:00 0HLCG9JSA7JI7:00000009 [INF] Request finished in 29.2908ms 302  (791a596a)
2018-03-23T01:09:24.5961155+01:00 0HLCG9JSA7JI7:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T01:09:24.5968185+01:00 0HLCG9JSA7JI7:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:09:24.5968660+01:00 0HLCG9JSA7JI7:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:09:24.5969665+01:00 0HLCG9JSA7JI7:0000000A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T01:09:24.5974570+01:00 0HLCG9JSA7JI7:0000000A [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"99642db7fccb4d8c9a1648e0937fb097\",
  \"Nonce\": \"ef736a92245a485a95e0ef7d38a206a3\",
  \"SessionId\": \"b370d746a4d648db09379ba60b3d73c6\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"99642db7fccb4d8c9a1648e0937fb097\",
    \"nonce\": \"ef736a92245a485a95e0ef7d38a206a3\"
  }
}" (9a175e33)
2018-03-23T01:09:24.5977530+01:00 0HLCG9JSA7JI7:0000000A [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T01:09:24.5999297+01:00 0HLCG9JSA7JI7:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T01:09:24.6009475+01:00 0HLCG9JSA7JI7:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T01:09:24.6019012+01:00 0HLCG9JSA7JI7:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T01:09:24.6090554+01:00 0HLCG9JSA7JI7:0000000A [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"99642db7fccb4d8c9a1648e0937fb097\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T01:09:24.6093668+01:00 0HLCG9JSA7JI7:0000000A [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T01:09:24.6099304+01:00 0HLCG9JSA7JI7:0000000A [INF] Request finished in 13.5305ms 302  (791a596a)
2018-03-23T01:11:03.5362830+01:00 0HLCG9JSA7JI7:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T01:11:03.5385687+01:00 0HLCG9JSA7JI7:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:11:03.5386731+01:00 0HLCG9JSA7JI7:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:11:03.5392748+01:00 0HLCG9JSA7JI7:0000000B [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T01:11:03.5394625+01:00 0HLCG9JSA7JI7:0000000B [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T01:11:03.5402225+01:00 0HLCG9JSA7JI7:0000000B [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T01:11:03.5442022+01:00 0HLCG9JSA7JI7:0000000B [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 5.2378ms (afa2e885)
2018-03-23T01:11:03.5444588+01:00 0HLCG9JSA7JI7:0000000B [INF] Request finished in 8.3755ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T01:11:08.2443346+01:00 0HLCG9JSA7JI7:0000000C [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3 application/x-www-form-urlencoded 276 (ca22a1cb)
2018-03-23T01:11:08.2450719+01:00 0HLCG9JSA7JI7:0000000C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:11:08.2451318+01:00 0HLCG9JSA7JI7:0000000C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:11:08.2458729+01:00 0HLCG9JSA7JI7:0000000C [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T01:11:08.2463398+01:00 0HLCG9JSA7JI7:0000000C [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T01:11:08.2506917+01:00 0HLCG9JSA7JI7:0000000C [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T01:11:08.2649830+01:00 0HLCG9JSA7JI7:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T01:11:08.2674382+01:00 0HLCG9JSA7JI7:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T01:11:08.2678543+01:00 0HLCG9JSA7JI7:0000000C [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T01:11:08.2678885+01:00 0HLCG9JSA7JI7:0000000C [INF] User logged in. (fdce0db4)
2018-03-23T01:11:08.2679642+01:00 0HLCG9JSA7JI7:0000000C [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3". (d98d540e)
2018-03-23T01:11:08.2682092+01:00 0HLCG9JSA7JI7:0000000C [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 22.8277ms (afa2e885)
2018-03-23T01:11:08.2684132+01:00 0HLCG9JSA7JI7:0000000C [INF] Request finished in 24.0918ms 302  (791a596a)
2018-03-23T01:11:08.2707337+01:00 0HLCG9JSA7JI7:0000000D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T01:11:08.2715659+01:00 0HLCG9JSA7JI7:0000000D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:11:08.2717806+01:00 0HLCG9JSA7JI7:0000000D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:11:08.2719021+01:00 0HLCG9JSA7JI7:0000000D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T01:11:08.2724537+01:00 0HLCG9JSA7JI7:0000000D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"99642db7fccb4d8c9a1648e0937fb097\",
  \"Nonce\": \"ef736a92245a485a95e0ef7d38a206a3\",
  \"SessionId\": \"266a976c62e6fb12d0c7e98f9c031687\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"99642db7fccb4d8c9a1648e0937fb097\",
    \"nonce\": \"ef736a92245a485a95e0ef7d38a206a3\"
  }
}" (9a175e33)
2018-03-23T01:11:08.2727655+01:00 0HLCG9JSA7JI7:0000000D [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T01:11:08.2774269+01:00 0HLCG9JSA7JI7:0000000D [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T01:11:08.2788347+01:00 0HLCG9JSA7JI7:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T01:11:08.2799081+01:00 0HLCG9JSA7JI7:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T01:11:08.2894007+01:00 0HLCG9JSA7JI7:0000000D [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"99642db7fccb4d8c9a1648e0937fb097\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T01:11:08.2897573+01:00 0HLCG9JSA7JI7:0000000D [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T01:11:08.2901342+01:00 0HLCG9JSA7JI7:0000000D [INF] Request finished in 19.4535ms 302  (791a596a)
2018-03-23T01:16:48.8472319+01:00 0HLCG9JSA7JIC:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T01:16:48.8493295+01:00 0HLCG9JSA7JIC:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:16:48.8494219+01:00 0HLCG9JSA7JIC:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:16:48.8500193+01:00 0HLCG9JSA7JIC:00000001 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T01:16:48.8503029+01:00 0HLCG9JSA7JIC:00000001 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T01:16:48.8510602+01:00 0HLCG9JSA7JIC:00000001 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T01:16:48.8551853+01:00 0HLCG9JSA7JIC:00000001 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 5.5308ms (afa2e885)
2018-03-23T01:16:48.8553342+01:00 0HLCG9JSA7JIC:00000001 [INF] Request finished in 9.1526ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T01:16:52.3460815+01:00 0HLCG9JSA7JIC:00000002 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3 application/x-www-form-urlencoded 276 (ca22a1cb)
2018-03-23T01:16:52.3479042+01:00 0HLCG9JSA7JIC:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:16:52.3480581+01:00 0HLCG9JSA7JIC:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:16:52.3501117+01:00 0HLCG9JSA7JIC:00000002 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T01:16:52.3518060+01:00 0HLCG9JSA7JIC:00000002 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T01:16:52.3627908+01:00 0HLCG9JSA7JIC:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T01:16:52.4098656+01:00 0HLCG9JSA7JIC:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T01:16:52.4115732+01:00 0HLCG9JSA7JIC:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T01:16:52.4123784+01:00 0HLCG9JSA7JIC:00000002 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T01:16:52.4124533+01:00 0HLCG9JSA7JIC:00000002 [INF] User logged in. (fdce0db4)
2018-03-23T01:16:52.4125828+01:00 0HLCG9JSA7JIC:00000002 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3". (d98d540e)
2018-03-23T01:16:52.4127677+01:00 0HLCG9JSA7JIC:00000002 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 64.4255ms (afa2e885)
2018-03-23T01:16:52.4130294+01:00 0HLCG9JSA7JIC:00000002 [INF] Request finished in 67.0462ms 302  (791a596a)
2018-03-23T01:16:52.4169518+01:00 0HLCG9JSA7JIC:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T01:16:52.4181052+01:00 0HLCG9JSA7JIC:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:16:52.4182707+01:00 0HLCG9JSA7JIC:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T01:16:52.4184696+01:00 0HLCG9JSA7JIC:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T01:16:52.4192949+01:00 0HLCG9JSA7JIC:00000003 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"99642db7fccb4d8c9a1648e0937fb097\",
  \"Nonce\": \"ef736a92245a485a95e0ef7d38a206a3\",
  \"SessionId\": \"eabbd3facce6e670d690a59a682d4b8c\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"99642db7fccb4d8c9a1648e0937fb097\",
    \"nonce\": \"ef736a92245a485a95e0ef7d38a206a3\"
  }
}" (9a175e33)
2018-03-23T01:16:52.4199326+01:00 0HLCG9JSA7JIC:00000003 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T01:16:52.4226810+01:00 0HLCG9JSA7JIC:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T01:16:52.4256588+01:00 0HLCG9JSA7JIC:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T01:16:52.4272368+01:00 0HLCG9JSA7JIC:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T01:16:52.4370849+01:00 0HLCG9JSA7JIC:00000003 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"99642db7fccb4d8c9a1648e0937fb097\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T01:16:52.4376768+01:00 0HLCG9JSA7JIC:00000003 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T01:16:52.4382036+01:00 0HLCG9JSA7JIC:00000003 [INF] Request finished in 21.2826ms 302  (791a596a)
2018-03-23T08:16:14.7267560+01:00 0HLCG9JSA7JIG:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D99642db7fccb4d8c9a1648e0937fb097%26nonce%3Def736a92245a485a95e0ef7d38a206a3   (ca22a1cb)
2018-03-23T08:16:14.7929922+01:00 0HLCG9JSA7JIG:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T08:16:14.8024832+01:00 0HLCG9JSA7JIG:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T08:16:14.8357084+01:00 0HLCG9JSA7JIG:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T08:16:14.8402303+01:00 0HLCG9JSA7JIG:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T08:16:15.6755590+01:00 0HLCG9JSA7JIG:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:16:15.6756663+01:00 0HLCG9JSA7JIG:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:16:15.6760987+01:00 0HLCG9JSA7JIG:00000001 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=99642db7fccb4d8c9a1648e0937fb097&nonce=ef736a92245a485a95e0ef7d38a206a3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T08:16:15.6762300+01:00 0HLCG9JSA7JIG:00000001 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T08:16:15.8980662+01:00 0HLCG9JSA7JIG:00000001 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T08:16:15.9683977+01:00 0HLCG9JSA7JIG:00000001 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 292.4691ms (afa2e885)
2018-03-23T08:16:15.9686038+01:00 0HLCG9JSA7JIG:00000001 [INF] Request finished in 1241.95ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T08:16:21.2330416+01:00 0HLCG9JSA7JIK:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:16:21.2335257+01:00 0HLCG9JSA7JIK:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T08:16:21.2343040+01:00 0HLCG9JSA7JIK:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:16:21.2352722+01:00 0HLCG9JSA7JIK:00000001 [INF] Request finished in 2.2652ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:16:21.2584617+01:00 0HLCG9JSA7JIG:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=f3c971684a314a91b6eac04d72831bd2&nonce=f6e42f87e53148899746ac234b90e086   (ca22a1cb)
2018-03-23T08:16:21.2604341+01:00 0HLCG9JSA7JIG:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:16:21.2605350+01:00 0HLCG9JSA7JIG:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:16:21.2948418+01:00 0HLCG9JSA7JIG:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T08:16:21.3010018+01:00 0HLCG9JSA7JIG:00000002 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"f3c971684a314a91b6eac04d72831bd2\",
  \"Nonce\": \"f6e42f87e53148899746ac234b90e086\",
  \"SessionId\": \"eabbd3facce6e670d690a59a682d4b8c\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"f3c971684a314a91b6eac04d72831bd2\",
    \"nonce\": \"f6e42f87e53148899746ac234b90e086\"
  }
}" (9a175e33)
2018-03-23T08:16:21.3015042+01:00 0HLCG9JSA7JIG:00000002 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T08:16:21.3199156+01:00 0HLCG9JSA7JIG:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T08:16:21.3230883+01:00 0HLCG9JSA7JIG:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T08:16:21.3268675+01:00 0HLCG9JSA7JIG:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T08:16:21.3360038+01:00 0HLCG9JSA7JIG:00000002 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"f3c971684a314a91b6eac04d72831bd2\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T08:16:21.4318778+01:00 0HLCG9JSA7JIG:00000002 [INF] Request finished in 173.354ms 302  (791a596a)
2018-03-23T08:16:22.5424972+01:00 0HLCG9JSA7JIK:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:16:22.5431507+01:00 0HLCG9JSA7JIK:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T08:16:22.5436886+01:00 0HLCG9JSA7JIK:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:16:22.5445362+01:00 0HLCG9JSA7JIK:00000002 [INF] Request finished in 2.0706ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:16:22.8873488+01:00 0HLCG9JSA7JIK:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T08:16:22.8878153+01:00 0HLCG9JSA7JIK:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T08:16:22.8884136+01:00 0HLCG9JSA7JIK:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T08:16:22.8888357+01:00 0HLCG9JSA7JIK:00000003 [INF] Request finished in 1.6289ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:16:23.0362539+01:00 0HLCG9JSA7JIK:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T08:16:23.0540519+01:00 0HLCG9JSA7JIK:00000004 [INF] Policy execution successful. (0204925d)
2018-03-23T08:16:23.1083477+01:00 0HLCG9JSA7JIK:00000004 [INF] Request finished in 72.119ms 204  (791a596a)
2018-03-23T08:16:23.2229896+01:00 0HLCG9JSA7JIK:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T08:16:23.2242849+01:00 0HLCG9JSA7JIK:00000005 [INF] Policy execution successful. (0204925d)
2018-03-23T08:16:23.2442898+01:00 0HLCG9JSA7JIK:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T08:16:23.8879655+01:00 0HLCG9JSA7JIK:00000005 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T08:16:23.8980055+01:00 0HLCG9JSA7JIK:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T08:16:23.9798357+01:00 0HLCG9JSA7JIK:00000005 [INF] Executed DbCommand ("7"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T08:16:23.9869634+01:00 0HLCG9JSA7JIK:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T08:16:23.9883892+01:00 0HLCG9JSA7JIK:00000005 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T08:16:24.0048440+01:00 0HLCG9JSA7JIK:00000005 [INF] Request finished in 781.8236ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:16:24.0159224+01:00 0HLCG9JSA7JIG:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:16:24.0174038+01:00 0HLCG9JSA7JIG:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:16:24.0176676+01:00 0HLCG9JSA7JIG:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:16:24.0423941+01:00 0HLCG9JSA7JIG:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:16:24.0741812+01:00 0HLCG9JSA7JIG:00000003 [INF] Request finished in 58.3366ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:17:45.4274169+01:00 0HLCG9JSA7JIK:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:17:45.4281679+01:00 0HLCG9JSA7JIK:00000006 [INF] Policy execution successful. (0204925d)
2018-03-23T08:17:45.4290044+01:00 0HLCG9JSA7JIK:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:17:45.4296326+01:00 0HLCG9JSA7JIK:00000006 [INF] Request finished in 2.2554ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:17:45.8700587+01:00 0HLCG9JSA7JIG:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:17:45.8713191+01:00 0HLCG9JSA7JIG:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:17:45.8718374+01:00 0HLCG9JSA7JIG:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:17:45.8725113+01:00 0HLCG9JSA7JIG:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:17:45.8735758+01:00 0HLCG9JSA7JIG:00000004 [INF] Request finished in 3.6521ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:18:36.6448479+01:00 0HLCG9JSA7JIG:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:18:36.6553639+01:00 0HLCG9JSA7JIG:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:18:36.6557047+01:00 0HLCG9JSA7JIG:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:18:36.6560532+01:00 0HLCG9JSA7JIG:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:18:36.6567123+01:00 0HLCG9JSA7JIG:00000005 [INF] Request finished in 12.0914ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:18:45.9715953+01:00 0HLCG9JSA7JIG:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=8d41839fd1af4d5a9f293f568f8682c9&nonce=1e39f029637b41e69f3909607178c957   (ca22a1cb)
2018-03-23T08:18:46.0013137+01:00 0HLCG9JSA7JIG:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:18:46.0014065+01:00 0HLCG9JSA7JIG:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:18:46.0020801+01:00 0HLCG9JSA7JIG:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T08:18:46.0028956+01:00 0HLCG9JSA7JIG:00000006 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"8d41839fd1af4d5a9f293f568f8682c9\",
  \"Nonce\": \"1e39f029637b41e69f3909607178c957\",
  \"SessionId\": \"eabbd3facce6e670d690a59a682d4b8c\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"8d41839fd1af4d5a9f293f568f8682c9\",
    \"nonce\": \"1e39f029637b41e69f3909607178c957\"
  }
}" (9a175e33)
2018-03-23T08:18:46.0033455+01:00 0HLCG9JSA7JIG:00000006 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T08:18:46.0119687+01:00 0HLCG9JSA7JIG:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T08:18:46.0153198+01:00 0HLCG9JSA7JIG:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T08:18:46.0226104+01:00 0HLCG9JSA7JIG:00000006 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T08:18:46.0331961+01:00 0HLCG9JSA7JIG:00000006 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"8d41839fd1af4d5a9f293f568f8682c9\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T08:18:46.0337979+01:00 0HLCG9JSA7JIG:00000006 [INF] Request finished in 62.256ms 302  (791a596a)
2018-03-23T08:18:48.0260941+01:00 0HLCG9JSA7JIK:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:18:48.0265555+01:00 0HLCG9JSA7JIK:00000007 [INF] Policy execution successful. (0204925d)
2018-03-23T08:18:48.0270413+01:00 0HLCG9JSA7JIK:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:18:48.0274814+01:00 0HLCG9JSA7JIK:00000007 [INF] Request finished in 1.4266ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:18:48.0294833+01:00 0HLCG9JSA7JIK:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:18:48.0299550+01:00 0HLCG9JSA7JIK:00000008 [INF] Policy execution successful. (0204925d)
2018-03-23T08:18:48.0305302+01:00 0HLCG9JSA7JIK:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:18:48.0310065+01:00 0HLCG9JSA7JIK:00000008 [INF] Request finished in 1.4997ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:18:48.3914115+01:00 0HLCG9JSA7JIK:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T08:18:48.3918302+01:00 0HLCG9JSA7JIK:00000009 [INF] Policy execution successful. (0204925d)
2018-03-23T08:18:48.3923215+01:00 0HLCG9JSA7JIK:00000009 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T08:18:48.3925252+01:00 0HLCG9JSA7JIK:00000009 [INF] Request finished in 1.167ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:18:48.5696318+01:00 0HLCG9JSA7JIK:0000000A [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T08:18:48.5830388+01:00 0HLCG9JSA7JIK:0000000A [INF] Policy execution successful. (0204925d)
2018-03-23T08:18:48.5832817+01:00 0HLCG9JSA7JIK:0000000A [INF] Request finished in 13.8093ms 204  (791a596a)
2018-03-23T08:18:48.6849516+01:00 0HLCG9JSA7JIK:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T08:18:48.6854801+01:00 0HLCG9JSA7JIK:0000000B [INF] Policy execution successful. (0204925d)
2018-03-23T08:18:48.6863991+01:00 0HLCG9JSA7JIK:0000000B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T08:18:48.6926861+01:00 0HLCG9JSA7JIK:0000000B [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T08:18:48.7718614+01:00 0HLCG9JSA7JIK:0000000B [INF] Executed DbCommand ("77"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T08:18:48.9050027+01:00 0HLCG9JSA7JIK:0000000B [INF] Executed DbCommand ("122"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T08:18:48.9752209+01:00 0HLCG9JSA7JIK:0000000B [INF] Executed DbCommand ("68"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T08:18:48.9758615+01:00 0HLCG9JSA7JIK:0000000B [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T08:18:48.9768280+01:00 0HLCG9JSA7JIK:0000000B [INF] Request finished in 291.4411ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:18:49.0358920+01:00 0HLCG9JSA7JIG:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:18:49.0372195+01:00 0HLCG9JSA7JIG:00000007 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:18:49.0376352+01:00 0HLCG9JSA7JIG:00000007 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:18:49.0382959+01:00 0HLCG9JSA7JIG:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:18:49.0404389+01:00 0HLCG9JSA7JIG:00000007 [INF] Request finished in 2.9696ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:20:16.5189211+01:00 0HLCG9JSA7JIK:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:20:16.5194954+01:00 0HLCG9JSA7JIK:0000000C [INF] Policy execution successful. (0204925d)
2018-03-23T08:20:16.5201707+01:00 0HLCG9JSA7JIK:0000000C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:20:16.5207018+01:00 0HLCG9JSA7JIK:0000000C [INF] Request finished in 1.8423ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:20:16.8007931+01:00 0HLCG9JSA7JIG:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:20:16.8026354+01:00 0HLCG9JSA7JIG:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:20:16.8027111+01:00 0HLCG9JSA7JIG:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:20:16.8027949+01:00 0HLCG9JSA7JIG:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:20:16.8030703+01:00 0HLCG9JSA7JIG:00000008 [INF] Request finished in 2.3456ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:20:37.8835449+01:00 0HLCG9JSA7JIK:0000000D [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:20:37.8841534+01:00 0HLCG9JSA7JIK:0000000D [INF] Policy execution successful. (0204925d)
2018-03-23T08:20:37.8846341+01:00 0HLCG9JSA7JIK:0000000D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:20:37.8851186+01:00 0HLCG9JSA7JIK:0000000D [INF] Request finished in 1.6481ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:20:38.3633121+01:00 0HLCG9JSA7JIG:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:20:38.3645630+01:00 0HLCG9JSA7JIG:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:20:38.3647687+01:00 0HLCG9JSA7JIG:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:20:38.3649000+01:00 0HLCG9JSA7JIG:00000009 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:20:38.3656916+01:00 0HLCG9JSA7JIG:00000009 [INF] Request finished in 2.4149ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:23:54.8132112+01:00 0HLCG9JSA7JJ1:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:23:54.8137060+01:00 0HLCG9JSA7JJ1:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T08:23:54.8142799+01:00 0HLCG9JSA7JJ1:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:23:54.8146597+01:00 0HLCG9JSA7JJ1:00000001 [INF] Request finished in 1.5318ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:23:55.0391457+01:00 0HLCG9JSA7JJ2:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:23:55.0399009+01:00 0HLCG9JSA7JJ2:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:23:55.0399462+01:00 0HLCG9JSA7JJ2:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:23:55.0400027+01:00 0HLCG9JSA7JJ2:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:23:55.0402122+01:00 0HLCG9JSA7JJ2:00000001 [INF] Request finished in 1.0965ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:24:58.5627453+01:00 0HLCG9JSA7JJ2:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=cbe27b272b0249b5b6f558ddef50e7ca&nonce=d09c50473bd74dabb61b8b00a9f0828b   (ca22a1cb)
2018-03-23T08:24:58.5644196+01:00 0HLCG9JSA7JJ2:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:24:58.5645265+01:00 0HLCG9JSA7JJ2:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:24:58.5651115+01:00 0HLCG9JSA7JJ2:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T08:24:58.5661195+01:00 0HLCG9JSA7JJ2:00000002 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"cbe27b272b0249b5b6f558ddef50e7ca\",
  \"Nonce\": \"d09c50473bd74dabb61b8b00a9f0828b\",
  \"SessionId\": \"eabbd3facce6e670d690a59a682d4b8c\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"cbe27b272b0249b5b6f558ddef50e7ca\",
    \"nonce\": \"d09c50473bd74dabb61b8b00a9f0828b\"
  }
}" (9a175e33)
2018-03-23T08:24:58.5672763+01:00 0HLCG9JSA7JJ2:00000002 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T08:24:58.5865203+01:00 0HLCG9JSA7JJ2:00000002 [INF] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T08:24:58.5973287+01:00 0HLCG9JSA7JJ2:00000002 [INF] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T08:24:58.6067201+01:00 0HLCG9JSA7JJ2:00000002 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T08:24:58.6161306+01:00 0HLCG9JSA7JJ2:00000002 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"cbe27b272b0249b5b6f558ddef50e7ca\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T08:24:58.6164863+01:00 0HLCG9JSA7JJ2:00000002 [INF] Request finished in 53.8484ms 302  (791a596a)
2018-03-23T08:25:00.7963994+01:00 0HLCG9JSA7JJ1:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:25:00.7970386+01:00 0HLCG9JSA7JJ1:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T08:25:00.7975711+01:00 0HLCG9JSA7JJ1:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:25:00.7987164+01:00 0HLCG9JSA7JJ1:00000002 [INF] Request finished in 1.8128ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:25:00.8006814+01:00 0HLCG9JSA7JJ1:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:25:00.8017296+01:00 0HLCG9JSA7JJ1:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T08:25:00.8026217+01:00 0HLCG9JSA7JJ1:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:25:00.8050653+01:00 0HLCG9JSA7JJ1:00000003 [INF] Request finished in 4.4788ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:25:01.0646278+01:00 0HLCG9JSA7JJ1:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T08:25:01.0654040+01:00 0HLCG9JSA7JJ1:00000004 [INF] Policy execution successful. (0204925d)
2018-03-23T08:25:01.0659112+01:00 0HLCG9JSA7JJ1:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T08:25:01.0661276+01:00 0HLCG9JSA7JJ1:00000004 [INF] Request finished in 1.6409ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:25:01.2358782+01:00 0HLCG9JSA7JJ1:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T08:25:01.2365420+01:00 0HLCG9JSA7JJ1:00000005 [INF] Policy execution successful. (0204925d)
2018-03-23T08:25:01.2367896+01:00 0HLCG9JSA7JJ1:00000005 [INF] Request finished in 0.8796ms 204  (791a596a)
2018-03-23T08:25:01.2931209+01:00 0HLCG9JSA7JJ1:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T08:25:01.2942939+01:00 0HLCG9JSA7JJ1:00000006 [INF] Policy execution successful. (0204925d)
2018-03-23T08:25:01.2949812+01:00 0HLCG9JSA7JJ1:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T08:25:01.3009393+01:00 0HLCG9JSA7JJ1:00000006 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T08:25:01.3462817+01:00 0HLCG9JSA7JJ1:00000006 [INF] Executed DbCommand ("43"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T08:25:01.4469021+01:00 0HLCG9JSA7JJ1:00000006 [INF] Executed DbCommand ("98"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T08:25:01.4666584+01:00 0HLCG9JSA7JJ2:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:25:01.4679790+01:00 0HLCG9JSA7JJ2:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:25:01.4767386+01:00 0HLCG9JSA7JJ2:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:25:01.4774592+01:00 0HLCG9JSA7JJ2:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:25:01.4825701+01:00 0HLCG9JSA7JJ2:00000003 [INF] Request finished in 15.4357ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:25:01.5975840+01:00 0HLCG9JSA7JJ1:00000006 [INF] Executed DbCommand ("148"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T08:25:01.5982508+01:00 0HLCG9JSA7JJ1:00000006 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T08:25:01.6078589+01:00 0HLCG9JSA7JJ1:00000006 [INF] Request finished in 314.7619ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:26:44.3851177+01:00 0HLCG9JSA7JJ1:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:26:44.3857567+01:00 0HLCG9JSA7JJ1:00000007 [INF] Policy execution successful. (0204925d)
2018-03-23T08:26:44.3863558+01:00 0HLCG9JSA7JJ1:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:26:44.3867971+01:00 0HLCG9JSA7JJ1:00000007 [INF] Request finished in 1.7568ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:26:44.7511459+01:00 0HLCG9JSA7JJ2:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:26:44.7531229+01:00 0HLCG9JSA7JJ2:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:26:44.7535198+01:00 0HLCG9JSA7JJ2:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:26:44.7544089+01:00 0HLCG9JSA7JJ2:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:26:44.7562046+01:00 0HLCG9JSA7JJ2:00000004 [INF] Request finished in 5.0437ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:26:49.3123555+01:00 0HLCG9JSA7JJ2:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:26:49.3133917+01:00 0HLCG9JSA7JJ2:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:26:49.3134610+01:00 0HLCG9JSA7JJ2:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:26:49.3135247+01:00 0HLCG9JSA7JJ2:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:26:49.3137706+01:00 0HLCG9JSA7JJ2:00000005 [INF] Request finished in 1.7054ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:26:52.2683286+01:00 0HLCG9JSA7JJ2:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=0043c0da58244c20a560ad5acd98ba05&nonce=bc4d44c8c19b417ab777f470d70caefc   (ca22a1cb)
2018-03-23T08:26:52.2693879+01:00 0HLCG9JSA7JJ2:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:26:52.2695376+01:00 0HLCG9JSA7JJ2:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:26:52.2697578+01:00 0HLCG9JSA7JJ2:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T08:26:52.2704010+01:00 0HLCG9JSA7JJ2:00000006 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"0043c0da58244c20a560ad5acd98ba05\",
  \"Nonce\": \"bc4d44c8c19b417ab777f470d70caefc\",
  \"SessionId\": \"eabbd3facce6e670d690a59a682d4b8c\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"0043c0da58244c20a560ad5acd98ba05\",
    \"nonce\": \"bc4d44c8c19b417ab777f470d70caefc\"
  }
}" (9a175e33)
2018-03-23T08:26:52.2712926+01:00 0HLCG9JSA7JJ2:00000006 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T08:26:52.2860214+01:00 0HLCG9JSA7JJ2:00000006 [INF] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T08:26:52.3175113+01:00 0HLCG9JSA7JJ2:00000006 [INF] Executed DbCommand ("25"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T08:26:52.3326823+01:00 0HLCG9JSA7JJ2:00000006 [INF] Executed DbCommand ("13"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T08:26:52.3596501+01:00 0HLCG9JSA7JJ2:00000006 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"0043c0da58244c20a560ad5acd98ba05\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T08:26:52.3633527+01:00 0HLCG9JSA7JJ2:00000006 [INF] Request finished in 94.9852ms 302  (791a596a)
2018-03-23T08:26:53.6806664+01:00 0HLCG9JSA7JJ1:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:26:53.6812986+01:00 0HLCG9JSA7JJ1:00000008 [INF] Policy execution successful. (0204925d)
2018-03-23T08:26:53.6818600+01:00 0HLCG9JSA7JJ1:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:26:53.6822989+01:00 0HLCG9JSA7JJ1:00000008 [INF] Request finished in 1.6875ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:26:53.6848181+01:00 0HLCG9JSA7JJ1:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:26:53.6856286+01:00 0HLCG9JSA7JJ1:00000009 [INF] Policy execution successful. (0204925d)
2018-03-23T08:26:53.6862144+01:00 0HLCG9JSA7JJ1:00000009 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:26:53.6870706+01:00 0HLCG9JSA7JJ1:00000009 [INF] Request finished in 2.1887ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:26:53.9325932+01:00 0HLCG9JSA7JJ1:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T08:26:53.9335204+01:00 0HLCG9JSA7JJ1:0000000A [INF] Policy execution successful. (0204925d)
2018-03-23T08:26:53.9340250+01:00 0HLCG9JSA7JJ1:0000000A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T08:26:53.9343450+01:00 0HLCG9JSA7JJ1:0000000A [INF] Request finished in 2.0741ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:26:54.0646539+01:00 0HLCG9JSA7JJ1:0000000B [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T08:26:54.0658928+01:00 0HLCG9JSA7JJ1:0000000B [INF] Policy execution successful. (0204925d)
2018-03-23T08:26:54.0661533+01:00 0HLCG9JSA7JJ1:0000000B [INF] Request finished in 1.519ms 204  (791a596a)
2018-03-23T08:26:54.1105309+01:00 0HLCG9JSA7JJ1:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T08:26:54.1110466+01:00 0HLCG9JSA7JJ1:0000000C [INF] Policy execution successful. (0204925d)
2018-03-23T08:26:54.1117693+01:00 0HLCG9JSA7JJ1:0000000C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T08:26:54.1177676+01:00 0HLCG9JSA7JJ1:0000000C [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T08:26:54.1907548+01:00 0HLCG9JSA7JJ1:0000000C [INF] Executed DbCommand ("71"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T08:26:54.3041005+01:00 0HLCG9JSA7JJ1:0000000C [INF] Executed DbCommand ("111"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T08:26:54.3479319+01:00 0HLCG9JSA7JJ1:0000000C [INF] Executed DbCommand ("42"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T08:26:54.3482651+01:00 0HLCG9JSA7JJ1:0000000C [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T08:26:54.3488754+01:00 0HLCG9JSA7JJ1:0000000C [INF] Request finished in 238.1773ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:26:54.4019505+01:00 0HLCG9JSA7JJ2:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:26:54.4031189+01:00 0HLCG9JSA7JJ2:00000007 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:26:54.4033713+01:00 0HLCG9JSA7JJ2:00000007 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:26:54.4037882+01:00 0HLCG9JSA7JJ2:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:26:54.4044186+01:00 0HLCG9JSA7JJ2:00000007 [INF] Request finished in 2.367ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:28:36.4950623+01:00 0HLCG9JSA7JJ2:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:28:36.4989941+01:00 0HLCG9JSA7JJ2:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:28:36.4997912+01:00 0HLCG9JSA7JJ2:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:28:36.5005371+01:00 0HLCG9JSA7JJ2:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:28:36.5053337+01:00 0HLCG9JSA7JJ2:00000008 [INF] Request finished in 11.0663ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:28:42.8441413+01:00 0HLCG9JSA7JJ2:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=0787f6eb79ff4e64bbd728583952bc31&nonce=3feb7e85e6784959af677a4fb8e2491e   (ca22a1cb)
2018-03-23T08:28:42.8461080+01:00 0HLCG9JSA7JJ2:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:28:42.8462842+01:00 0HLCG9JSA7JJ2:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:28:42.8464086+01:00 0HLCG9JSA7JJ2:00000009 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T08:28:42.8468252+01:00 0HLCG9JSA7JJ2:00000009 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"0787f6eb79ff4e64bbd728583952bc31\",
  \"Nonce\": \"3feb7e85e6784959af677a4fb8e2491e\",
  \"SessionId\": \"eabbd3facce6e670d690a59a682d4b8c\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"0787f6eb79ff4e64bbd728583952bc31\",
    \"nonce\": \"3feb7e85e6784959af677a4fb8e2491e\"
  }
}" (9a175e33)
2018-03-23T08:28:42.8474401+01:00 0HLCG9JSA7JJ2:00000009 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T08:28:42.8601085+01:00 0HLCG9JSA7JJ2:00000009 [INF] Executed DbCommand ("10"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T08:28:42.8665298+01:00 0HLCG9JSA7JJ2:00000009 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T08:28:42.8802575+01:00 0HLCG9JSA7JJ2:00000009 [INF] Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T08:28:42.8913726+01:00 0HLCG9JSA7JJ2:00000009 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"0787f6eb79ff4e64bbd728583952bc31\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T08:28:42.8946240+01:00 0HLCG9JSA7JJ2:00000009 [INF] Request finished in 50.3035ms 302  (791a596a)
2018-03-23T08:28:45.3439407+01:00 0HLCG9JSA7JJ1:0000000D [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:28:45.3446189+01:00 0HLCG9JSA7JJ1:0000000D [INF] Policy execution successful. (0204925d)
2018-03-23T08:28:45.3452052+01:00 0HLCG9JSA7JJ1:0000000D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:28:45.3456864+01:00 0HLCG9JSA7JJ1:0000000D [INF] Request finished in 1.7384ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:28:45.3481993+01:00 0HLCG9JSA7JJ1:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:28:45.3488886+01:00 0HLCG9JSA7JJ1:0000000E [INF] Policy execution successful. (0204925d)
2018-03-23T08:28:45.3495780+01:00 0HLCG9JSA7JJ1:0000000E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:28:45.3506120+01:00 0HLCG9JSA7JJ1:0000000E [INF] Request finished in 2.3999ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:28:45.5627496+01:00 0HLCG9JSA7JJ1:0000000F [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T08:28:45.5632781+01:00 0HLCG9JSA7JJ1:0000000F [INF] Policy execution successful. (0204925d)
2018-03-23T08:28:45.5638388+01:00 0HLCG9JSA7JJ1:0000000F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T08:28:45.5656726+01:00 0HLCG9JSA7JJ1:0000000F [INF] Request finished in 3.0068ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:28:45.7006319+01:00 0HLCG9JSA7JJ1:00000010 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T08:28:45.7018853+01:00 0HLCG9JSA7JJ1:00000010 [INF] Policy execution successful. (0204925d)
2018-03-23T08:28:45.7035228+01:00 0HLCG9JSA7JJ1:00000010 [INF] Request finished in 1.9984ms 204  (791a596a)
2018-03-23T08:28:45.7203848+01:00 0HLCG9JSA7JJ1:00000011 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T08:28:45.7213834+01:00 0HLCG9JSA7JJ1:00000011 [INF] Policy execution successful. (0204925d)
2018-03-23T08:28:45.7228532+01:00 0HLCG9JSA7JJ1:00000011 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T08:28:45.7281723+01:00 0HLCG9JSA7JJ1:00000011 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T08:28:45.7627349+01:00 0HLCG9JSA7JJ1:00000011 [INF] Executed DbCommand ("32"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T08:28:45.7840389+01:00 0HLCG9JSA7JJ1:00000011 [INF] Executed DbCommand ("19"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T08:28:45.8104930+01:00 0HLCG9JSA7JJ1:00000011 [INF] Executed DbCommand ("24"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T08:28:45.8109100+01:00 0HLCG9JSA7JJ1:00000011 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T08:28:45.8129867+01:00 0HLCG9JSA7JJ1:00000011 [INF] Request finished in 92.3521ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:28:45.9305324+01:00 0HLCG9JSA7JJ2:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:28:45.9412802+01:00 0HLCG9JSA7JJ2:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:28:45.9413884+01:00 0HLCG9JSA7JJ2:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:28:45.9415051+01:00 0HLCG9JSA7JJ2:0000000A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:28:45.9418352+01:00 0HLCG9JSA7JJ2:0000000A [INF] Request finished in 11.4799ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:31:34.9028414+01:00 0HLCG9JSA7JJF:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:31:34.9047137+01:00 0HLCG9JSA7JJF:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:31:34.9050135+01:00 0HLCG9JSA7JJF:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:31:34.9051726+01:00 0HLCG9JSA7JJF:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:31:34.9060933+01:00 0HLCG9JSA7JJF:00000001 [INF] Request finished in 3.292ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:31:38.1039741+01:00 0HLCG9JSA7JJF:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=664f0e618ad74797b69b82ca742115a0&nonce=5b0fbc22d25845b991ad7f840188dce2   (ca22a1cb)
2018-03-23T08:31:38.1052750+01:00 0HLCG9JSA7JJF:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:31:38.1089588+01:00 0HLCG9JSA7JJF:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:31:38.1091923+01:00 0HLCG9JSA7JJF:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T08:31:38.1100416+01:00 0HLCG9JSA7JJF:00000002 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"664f0e618ad74797b69b82ca742115a0\",
  \"Nonce\": \"5b0fbc22d25845b991ad7f840188dce2\",
  \"SessionId\": \"eabbd3facce6e670d690a59a682d4b8c\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"664f0e618ad74797b69b82ca742115a0\",
    \"nonce\": \"5b0fbc22d25845b991ad7f840188dce2\"
  }
}" (9a175e33)
2018-03-23T08:31:38.1111151+01:00 0HLCG9JSA7JJF:00000002 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T08:31:38.3164785+01:00 0HLCG9JSA7JJF:00000002 [INF] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T08:31:38.3421022+01:00 0HLCG9JSA7JJF:00000002 [INF] Executed DbCommand ("22"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T08:31:38.3555570+01:00 0HLCG9JSA7JJF:00000002 [INF] Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T08:31:38.3723271+01:00 0HLCG9JSA7JJF:00000002 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"664f0e618ad74797b69b82ca742115a0\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T08:31:38.3728103+01:00 0HLCG9JSA7JJF:00000002 [INF] Request finished in 271.5257ms 302  (791a596a)
2018-03-23T08:31:39.8113523+01:00 0HLCG9JSA7JJK:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:31:39.8118193+01:00 0HLCG9JSA7JJK:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T08:31:39.8123602+01:00 0HLCG9JSA7JJK:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:31:39.8128708+01:00 0HLCG9JSA7JJK:00000001 [INF] Request finished in 1.5707ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:31:39.8172350+01:00 0HLCG9JSA7JJK:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:31:39.8177841+01:00 0HLCG9JSA7JJK:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T08:31:39.8186270+01:00 0HLCG9JSA7JJK:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:31:39.8206417+01:00 0HLCG9JSA7JJK:00000002 [INF] Request finished in 3.3643ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:31:40.1043076+01:00 0HLCG9JSA7JJK:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T08:31:40.1215810+01:00 0HLCG9JSA7JJK:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T08:31:40.1220715+01:00 0HLCG9JSA7JJK:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T08:31:40.1222896+01:00 0HLCG9JSA7JJK:00000003 [INF] Request finished in 18.0307ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:31:40.3108617+01:00 0HLCG9JSA7JJK:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T08:31:40.3119890+01:00 0HLCG9JSA7JJK:00000004 [INF] Policy execution successful. (0204925d)
2018-03-23T08:31:40.3129029+01:00 0HLCG9JSA7JJK:00000004 [INF] Request finished in 1.9757ms 204  (791a596a)
2018-03-23T08:31:40.3357939+01:00 0HLCG9JSA7JJK:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T08:31:40.3368784+01:00 0HLCG9JSA7JJK:00000005 [INF] Policy execution successful. (0204925d)
2018-03-23T08:31:40.3379001+01:00 0HLCG9JSA7JJK:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T08:31:40.3439523+01:00 0HLCG9JSA7JJK:00000005 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T08:31:40.3828306+01:00 0HLCG9JSA7JJK:00000005 [INF] Executed DbCommand ("36"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T08:31:40.4029838+01:00 0HLCG9JSA7JJK:00000005 [INF] Executed DbCommand ("18"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T08:31:40.4357348+01:00 0HLCG9JSA7JJK:00000005 [INF] Executed DbCommand ("31"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T08:31:40.4363263+01:00 0HLCG9JSA7JJK:00000005 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T08:31:40.4388823+01:00 0HLCG9JSA7JJK:00000005 [INF] Request finished in 102.5115ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:31:40.5537543+01:00 0HLCG9JSA7JJF:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:31:40.5548692+01:00 0HLCG9JSA7JJF:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:31:40.5551301+01:00 0HLCG9JSA7JJF:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:31:40.5555414+01:00 0HLCG9JSA7JJF:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:31:40.5561847+01:00 0HLCG9JSA7JJF:00000003 [INF] Request finished in 3.4815ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:32:33.7188949+01:00 0HLCG9JSA7JJF:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:32:33.7241914+01:00 0HLCG9JSA7JJF:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:32:33.7245582+01:00 0HLCG9JSA7JJF:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:32:33.7251313+01:00 0HLCG9JSA7JJF:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:32:33.7261589+01:00 0HLCG9JSA7JJF:00000004 [INF] Request finished in 7.3004ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:32:40.1895266+01:00 0HLCG9JSA7JJF:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=42ace9e5072b4632a6baf33b212b6067&nonce=c1426394f35a48eab06cc53b6b82bb72   (ca22a1cb)
2018-03-23T08:32:40.1903276+01:00 0HLCG9JSA7JJF:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:32:40.1904114+01:00 0HLCG9JSA7JJF:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:32:40.1905264+01:00 0HLCG9JSA7JJF:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T08:32:40.1911128+01:00 0HLCG9JSA7JJF:00000005 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"42ace9e5072b4632a6baf33b212b6067\",
  \"Nonce\": \"c1426394f35a48eab06cc53b6b82bb72\",
  \"SessionId\": \"eabbd3facce6e670d690a59a682d4b8c\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"42ace9e5072b4632a6baf33b212b6067\",
    \"nonce\": \"c1426394f35a48eab06cc53b6b82bb72\"
  }
}" (9a175e33)
2018-03-23T08:32:40.1914930+01:00 0HLCG9JSA7JJF:00000005 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T08:32:40.2038769+01:00 0HLCG9JSA7JJF:00000005 [INF] Executed DbCommand ("9"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T08:32:40.2148158+01:00 0HLCG9JSA7JJF:00000005 [INF] Executed DbCommand ("9"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T08:32:40.2229374+01:00 0HLCG9JSA7JJF:00000005 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T08:32:40.2329706+01:00 0HLCG9JSA7JJF:00000005 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"42ace9e5072b4632a6baf33b212b6067\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T08:32:40.2342775+01:00 0HLCG9JSA7JJF:00000005 [INF] Request finished in 44.0966ms 302  (791a596a)
2018-03-23T08:32:42.4962067+01:00 0HLCG9JSA7JJK:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:32:42.4967502+01:00 0HLCG9JSA7JJK:00000006 [INF] Policy execution successful. (0204925d)
2018-03-23T08:32:42.4972541+01:00 0HLCG9JSA7JJK:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:32:42.4977557+01:00 0HLCG9JSA7JJK:00000006 [INF] Request finished in 1.5895ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:32:42.5004336+01:00 0HLCG9JSA7JJK:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:32:42.5011281+01:00 0HLCG9JSA7JJK:00000007 [INF] Policy execution successful. (0204925d)
2018-03-23T08:32:42.5016657+01:00 0HLCG9JSA7JJK:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:32:42.5023354+01:00 0HLCG9JSA7JJK:00000007 [INF] Request finished in 1.8803ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:32:42.7916006+01:00 0HLCG9JSA7JJK:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T08:32:42.7920526+01:00 0HLCG9JSA7JJK:00000008 [INF] Policy execution successful. (0204925d)
2018-03-23T08:32:42.7926047+01:00 0HLCG9JSA7JJK:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T08:32:42.7928917+01:00 0HLCG9JSA7JJK:00000008 [INF] Request finished in 1.247ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:32:42.9976394+01:00 0HLCG9JSA7JJK:00000009 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T08:32:42.9985819+01:00 0HLCG9JSA7JJK:00000009 [INF] Policy execution successful. (0204925d)
2018-03-23T08:32:42.9992730+01:00 0HLCG9JSA7JJK:00000009 [INF] Request finished in 1.557ms 204  (791a596a)
2018-03-23T08:32:43.0281571+01:00 0HLCG9JSA7JJK:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T08:32:43.0287777+01:00 0HLCG9JSA7JJK:0000000A [INF] Policy execution successful. (0204925d)
2018-03-23T08:32:43.0299528+01:00 0HLCG9JSA7JJK:0000000A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T08:32:43.0362906+01:00 0HLCG9JSA7JJK:0000000A [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T08:32:43.0655951+01:00 0HLCG9JSA7JJK:0000000A [INF] Executed DbCommand ("27"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T08:32:43.1007423+01:00 0HLCG9JSA7JJK:0000000A [INF] Executed DbCommand ("33"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T08:32:43.1472462+01:00 0HLCG9JSA7JJK:0000000A [INF] Executed DbCommand ("45"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T08:32:43.1479009+01:00 0HLCG9JSA7JJK:0000000A [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T08:32:43.1493618+01:00 0HLCG9JSA7JJK:0000000A [INF] Request finished in 121.2102ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:32:43.2624539+01:00 0HLCG9JSA7JJF:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:32:43.2634546+01:00 0HLCG9JSA7JJF:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:32:43.2637244+01:00 0HLCG9JSA7JJF:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:32:43.2643402+01:00 0HLCG9JSA7JJF:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:32:43.2659995+01:00 0HLCG9JSA7JJF:00000006 [INF] Request finished in 3.3583ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:35:37.8081363+01:00 0HLCG9JSA7JJQ:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:35:37.8089034+01:00 0HLCG9JSA7JJQ:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T08:35:37.8096283+01:00 0HLCG9JSA7JJQ:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:35:37.8103750+01:00 0HLCG9JSA7JJQ:00000001 [INF] Request finished in 2.2357ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:35:38.3812475+01:00 0HLCG9JSA7JJR:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:35:38.3822477+01:00 0HLCG9JSA7JJR:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:35:38.3823247+01:00 0HLCG9JSA7JJR:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:35:38.3823940+01:00 0HLCG9JSA7JJR:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:35:38.3826698+01:00 0HLCG9JSA7JJR:00000001 [INF] Request finished in 1.4707ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:36:15.5938626+01:00 0HLCG9JSA7JJR:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:36:15.5952132+01:00 0HLCG9JSA7JJR:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:36:15.5952884+01:00 0HLCG9JSA7JJR:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:36:15.5954270+01:00 0HLCG9JSA7JJR:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:36:15.5957229+01:00 0HLCG9JSA7JJR:00000002 [INF] Request finished in 1.9141ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:36:20.2173903+01:00 0HLCG9JSA7JJR:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=e158d6a487df404cb187f16b06c14ce5&nonce=5e66827e1bc84e9b9b8555b19aba581f   (ca22a1cb)
2018-03-23T08:36:20.2184842+01:00 0HLCG9JSA7JJR:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:36:20.2185527+01:00 0HLCG9JSA7JJR:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:36:20.2186887+01:00 0HLCG9JSA7JJR:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T08:36:20.2192361+01:00 0HLCG9JSA7JJR:00000003 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"e158d6a487df404cb187f16b06c14ce5\",
  \"Nonce\": \"5e66827e1bc84e9b9b8555b19aba581f\",
  \"SessionId\": \"eabbd3facce6e670d690a59a682d4b8c\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"e158d6a487df404cb187f16b06c14ce5\",
    \"nonce\": \"5e66827e1bc84e9b9b8555b19aba581f\"
  }
}" (9a175e33)
2018-03-23T08:36:20.2279739+01:00 0HLCG9JSA7JJR:00000003 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T08:36:20.2451404+01:00 0HLCG9JSA7JJR:00000003 [INF] Executed DbCommand ("14"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T08:36:20.2562863+01:00 0HLCG9JSA7JJR:00000003 [INF] Executed DbCommand ("8"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T08:36:20.2643852+01:00 0HLCG9JSA7JJR:00000003 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T08:36:20.2809460+01:00 0HLCG9JSA7JJR:00000003 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"e158d6a487df404cb187f16b06c14ce5\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T08:36:20.2813185+01:00 0HLCG9JSA7JJR:00000003 [INF] Request finished in 63.9825ms 302  (791a596a)
2018-03-23T08:36:21.6812832+01:00 0HLCG9JSA7JJQ:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:36:21.6816753+01:00 0HLCG9JSA7JJQ:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T08:36:21.6821585+01:00 0HLCG9JSA7JJQ:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:36:21.6824173+01:00 0HLCG9JSA7JJQ:00000002 [INF] Request finished in 1.191ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:36:21.6843405+01:00 0HLCG9JSA7JJQ:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:36:21.6848463+01:00 0HLCG9JSA7JJQ:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T08:36:21.6853753+01:00 0HLCG9JSA7JJQ:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:36:21.6861858+01:00 0HLCG9JSA7JJQ:00000003 [INF] Request finished in 1.7367ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:36:21.8557003+01:00 0HLCG9JSA7JJQ:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T08:36:21.8560236+01:00 0HLCG9JSA7JJQ:00000004 [INF] Policy execution successful. (0204925d)
2018-03-23T08:36:21.8564808+01:00 0HLCG9JSA7JJQ:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T08:36:21.8566702+01:00 0HLCG9JSA7JJQ:00000004 [INF] Request finished in 1.0015ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:36:21.9520510+01:00 0HLCG9JSA7JJQ:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T08:36:21.9523863+01:00 0HLCG9JSA7JJQ:00000005 [INF] Policy execution successful. (0204925d)
2018-03-23T08:36:21.9525437+01:00 0HLCG9JSA7JJQ:00000005 [INF] Request finished in 0.4922ms 204  (791a596a)
2018-03-23T08:36:21.9576926+01:00 0HLCG9JSA7JJQ:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T08:36:21.9581827+01:00 0HLCG9JSA7JJQ:00000006 [INF] Policy execution successful. (0204925d)
2018-03-23T08:36:21.9589367+01:00 0HLCG9JSA7JJQ:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T08:36:21.9673897+01:00 0HLCG9JSA7JJQ:00000006 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T08:36:21.9806581+01:00 0HLCG9JSA7JJQ:00000006 [INF] Executed DbCommand ("11"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T08:36:22.0077876+01:00 0HLCG9JSA7JJQ:00000006 [INF] Executed DbCommand ("17"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T08:36:22.0360157+01:00 0HLCG9JSA7JJQ:00000006 [INF] Executed DbCommand ("27"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T08:36:22.0364527+01:00 0HLCG9JSA7JJQ:00000006 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T08:36:22.0377203+01:00 0HLCG9JSA7JJQ:00000006 [INF] Request finished in 80.0255ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:36:22.1081334+01:00 0HLCG9JSA7JJR:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:36:22.1092813+01:00 0HLCG9JSA7JJR:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:36:22.1096221+01:00 0HLCG9JSA7JJR:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:36:22.1101613+01:00 0HLCG9JSA7JJR:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:36:22.1145573+01:00 0HLCG9JSA7JJR:00000004 [INF] Request finished in 6.5204ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:52:01.8925482+01:00 0HLCG9JSA7JK1:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:52:01.8935955+01:00 0HLCG9JSA7JK1:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T08:52:01.8944885+01:00 0HLCG9JSA7JK1:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:52:01.8970078+01:00 0HLCG9JSA7JK1:00000001 [INF] Request finished in 2.8195ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:52:02.4174564+01:00 0HLCG9JSA7JK2:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:52:02.4205330+01:00 0HLCG9JSA7JK2:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T08:52:03.2796336+01:00 0HLCG9JSA7JK2:00000001 [INF] Executed DbCommand ("64"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T08:52:03.3340995+01:00 0HLCG9JSA7JK2:00000001 [INF] Executed DbCommand ("52"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T08:52:03.3752209+01:00 0HLCG9JSA7JK2:00000001 [INF] Executed DbCommand ("39"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T08:52:03.3774025+01:00 0HLCG9JSA7JK2:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:52:03.3780995+01:00 0HLCG9JSA7JK2:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:52:03.3785537+01:00 0HLCG9JSA7JK2:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:52:03.3806329+01:00 0HLCG9JSA7JK2:00000001 [INF] Request finished in 963.1046ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:52:18.4304806+01:00 0HLCG9JSA7JK1:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:52:18.4309152+01:00 0HLCG9JSA7JK1:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T08:52:18.4314818+01:00 0HLCG9JSA7JK1:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:52:18.4318431+01:00 0HLCG9JSA7JK1:00000002 [INF] Request finished in 1.4287ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:52:18.9669411+01:00 0HLCG9JSA7JK2:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:52:18.9679051+01:00 0HLCG9JSA7JK2:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:52:18.9681450+01:00 0HLCG9JSA7JK2:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:52:18.9683310+01:00 0HLCG9JSA7JK2:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:52:18.9697422+01:00 0HLCG9JSA7JK2:00000002 [INF] Request finished in 3.5461ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:53:16.8672281+01:00 0HLCG9JSA7JK1:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:53:16.8676818+01:00 0HLCG9JSA7JK1:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T08:53:16.8681908+01:00 0HLCG9JSA7JK1:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:53:16.8685632+01:00 0HLCG9JSA7JK1:00000003 [INF] Request finished in 1.4202ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:53:17.0536384+01:00 0HLCG9JSA7JK2:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:53:17.0545399+01:00 0HLCG9JSA7JK2:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:53:17.0546019+01:00 0HLCG9JSA7JK2:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:53:17.0546631+01:00 0HLCG9JSA7JK2:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:53:17.0549286+01:00 0HLCG9JSA7JK2:00000003 [INF] Request finished in 1.3466ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:53:30.4638329+01:00 0HLCG9JSA7JK2:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=b0e08256f79145be97d6aa16b9f4a78b&nonce=38b8afbeb8ee4ea59c420ac53392d797   (ca22a1cb)
2018-03-23T08:53:30.4654888+01:00 0HLCG9JSA7JK2:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:53:30.4655487+01:00 0HLCG9JSA7JK2:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:53:30.4656701+01:00 0HLCG9JSA7JK2:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T08:53:30.4662363+01:00 0HLCG9JSA7JK2:00000004 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"b0e08256f79145be97d6aa16b9f4a78b\",
  \"Nonce\": \"38b8afbeb8ee4ea59c420ac53392d797\",
  \"SessionId\": \"eabbd3facce6e670d690a59a682d4b8c\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"b0e08256f79145be97d6aa16b9f4a78b\",
    \"nonce\": \"38b8afbeb8ee4ea59c420ac53392d797\"
  }
}" (9a175e33)
2018-03-23T08:53:30.4669762+01:00 0HLCG9JSA7JK2:00000004 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T08:53:30.4752367+01:00 0HLCG9JSA7JK2:00000004 [INF] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T08:53:30.4787315+01:00 0HLCG9JSA7JK2:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T08:53:30.4839861+01:00 0HLCG9JSA7JK2:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T08:53:30.4924160+01:00 0HLCG9JSA7JK2:00000004 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"b0e08256f79145be97d6aa16b9f4a78b\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T08:53:30.4927662+01:00 0HLCG9JSA7JK2:00000004 [INF] Request finished in 28.9748ms 302  (791a596a)
2018-03-23T08:53:32.3017749+01:00 0HLCG9JSA7JK1:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:53:32.3023133+01:00 0HLCG9JSA7JK1:00000004 [INF] Policy execution successful. (0204925d)
2018-03-23T08:53:32.3027765+01:00 0HLCG9JSA7JK1:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:53:32.3031738+01:00 0HLCG9JSA7JK1:00000004 [INF] Request finished in 1.4386ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:53:32.3049797+01:00 0HLCG9JSA7JK1:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T08:53:32.3054091+01:00 0HLCG9JSA7JK1:00000005 [INF] Policy execution successful. (0204925d)
2018-03-23T08:53:32.3058719+01:00 0HLCG9JSA7JK1:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T08:53:32.3063962+01:00 0HLCG9JSA7JK1:00000005 [INF] Request finished in 1.395ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:53:32.5760389+01:00 0HLCG9JSA7JK1:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T08:53:32.5764755+01:00 0HLCG9JSA7JK1:00000006 [INF] Policy execution successful. (0204925d)
2018-03-23T08:53:32.5769532+01:00 0HLCG9JSA7JK1:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T08:53:32.5773736+01:00 0HLCG9JSA7JK1:00000006 [INF] Request finished in 1.3719ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T08:53:32.7039099+01:00 0HLCG9JSA7JK2:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T08:53:32.7056444+01:00 0HLCG9JSA7JK2:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:53:32.7059792+01:00 0HLCG9JSA7JK2:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T08:53:32.7066490+01:00 0HLCG9JSA7JK2:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T08:53:32.7078755+01:00 0HLCG9JSA7JK2:00000005 [INF] Request finished in 3.6106ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T08:53:32.7517840+01:00 0HLCG9JSA7JK1:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T08:53:32.7527954+01:00 0HLCG9JSA7JK1:00000007 [INF] Policy execution successful. (0204925d)
2018-03-23T08:53:32.7583839+01:00 0HLCG9JSA7JK1:00000007 [INF] Request finished in 6.4434ms 204  (791a596a)
2018-03-23T08:53:32.8872175+01:00 0HLCG9JSA7JK1:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T08:53:32.8877405+01:00 0HLCG9JSA7JK1:00000008 [INF] Policy execution successful. (0204925d)
2018-03-23T08:53:32.8884260+01:00 0HLCG9JSA7JK1:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T08:53:32.8937807+01:00 0HLCG9JSA7JK1:00000008 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T08:53:32.9724463+01:00 0HLCG9JSA7JK1:00000008 [INF] Executed DbCommand ("77"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T08:53:33.0043052+01:00 0HLCG9JSA7JK1:00000008 [INF] Executed DbCommand ("29"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T08:53:33.0159938+01:00 0HLCG9JSA7JK1:00000008 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T08:53:33.0165749+01:00 0HLCG9JSA7JK1:00000008 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T08:53:33.0183968+01:00 0HLCG9JSA7JK1:00000008 [INF] Request finished in 131.1074ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:02:53.6211316+01:00 0HLCG9JSA7JKD:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T09:02:53.6218021+01:00 0HLCG9JSA7JKD:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T09:02:53.6225390+01:00 0HLCG9JSA7JKD:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T09:02:53.6235576+01:00 0HLCG9JSA7JKD:00000001 [INF] Request finished in 2.2592ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:02:53.6361726+01:00 0HLCG9JSA7JKE:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T09:02:53.6375086+01:00 0HLCG9JSA7JKE:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:02:53.6377356+01:00 0HLCG9JSA7JKE:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:02:53.6379597+01:00 0HLCG9JSA7JKE:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T09:02:53.6390849+01:00 0HLCG9JSA7JKE:00000001 [INF] Request finished in 3.0136ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T09:03:04.0185631+01:00 0HLCG9JSA7JKD:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T09:03:04.0191529+01:00 0HLCG9JSA7JKD:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T09:03:04.1439157+01:00 0HLCG9JSA7JKD:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T09:03:04.1443920+01:00 0HLCG9JSA7JKD:00000002 [INF] Request finished in 125.8921ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:03:04.4179671+01:00 0HLCG9JSA7JKE:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T09:03:04.4190965+01:00 0HLCG9JSA7JKE:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:03:04.4192042+01:00 0HLCG9JSA7JKE:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:03:04.4193449+01:00 0HLCG9JSA7JKE:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T09:03:04.4361269+01:00 0HLCG9JSA7JKE:00000002 [INF] Request finished in 18.1265ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T09:03:08.4462110+01:00 0HLCG9JSA7JKE:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE3OTE2MTAsImV4cCI6MTUyMTc5MTkxMCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiIzOGI4YWZiZWI4ZWU0ZWE1OWM0MjBhYzUzMzkyZDc5NyIsImlhdCI6MTUyMTc5MTYxMCwiYXRfaGFzaCI6IjdHWlFLOGVZRTMwVUdkZlBMaVhXSHciLCJzaWQiOiJlYWJiZDNmYWNjZTZlNjcwZDY5MGE1OWE2ODJkNGI4YyIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTc2NDIxMiwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.Xr39I3jsLEVijupqaJQsk3iyYgyx3Aam7tnehUWO68eOoGEc_ujonx8Ykl4smpY17oZIh2i6DZbv7UJuflpk-yXBUoxNgkdP2vR_2aIvtyoqkmK1qXzhC2lHVbZNykVMlAhgns0W9rcPwR7hBRmmtvCknh1hNT_JA13cY7ceBVFFPZlVimX8efd9y9wrHr9bJrHHKcwhR2QkpHD6EVBgR1EAMCgssrEHTGRgQWTbuF-SNY0A2LrbWjwi6QY8jW9rg_fJoAR06Dgb29zk7ru-KewhGckwGZyqyp9l7z8CQb3C2oAp6m0hkzIbM_i8mu5deTmsvKddrPKzJNPLQpt94Q&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fhome   (ca22a1cb)
2018-03-23T09:03:08.4477069+01:00 0HLCG9JSA7JKE:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:03:08.4477946+01:00 0HLCG9JSA7JKE:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:03:09.5070332+01:00 0HLCG9JSA7JKE:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2018-03-23T09:03:09.8155124+01:00 0HLCG9JSA7JKE:00000003 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T09:03:09.8399430+01:00 0HLCG9JSA7JKE:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T09:03:09.9289608+01:00 0HLCG9JSA7JKE:00000003 [INF] End session request validation success
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"PostLogOutUri\": \"http://localhost:51540/home\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE3OTE2MTAsImV4cCI6MTUyMTc5MTkxMCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiIzOGI4YWZiZWI4ZWU0ZWE1OWM0MjBhYzUzMzkyZDc5NyIsImlhdCI6MTUyMTc5MTYxMCwiYXRfaGFzaCI6IjdHWlFLOGVZRTMwVUdkZlBMaVhXSHciLCJzaWQiOiJlYWJiZDNmYWNjZTZlNjcwZDY5MGE1OWE2ODJkNGI4YyIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTc2NDIxMiwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.Xr39I3jsLEVijupqaJQsk3iyYgyx3Aam7tnehUWO68eOoGEc_ujonx8Ykl4smpY17oZIh2i6DZbv7UJuflpk-yXBUoxNgkdP2vR_2aIvtyoqkmK1qXzhC2lHVbZNykVMlAhgns0W9rcPwR7hBRmmtvCknh1hNT_JA13cY7ceBVFFPZlVimX8efd9y9wrHr9bJrHHKcwhR2QkpHD6EVBgR1EAMCgssrEHTGRgQWTbuF-SNY0A2LrbWjwi6QY8jW9rg_fJoAR06Dgb29zk7ru-KewhGckwGZyqyp9l7z8CQb3C2oAp6m0hkzIbM_i8mu5deTmsvKddrPKzJNPLQpt94Q\",
    \"post_logout_redirect_uri\": \"http://localhost:51540/home\"
  }
}" (8a893fca)
2018-03-23T09:03:10.1980142+01:00 0HLCG9JSA7JKE:00000003 [INF] Request finished in 1771.5898ms 302  (791a596a)
2018-03-23T09:03:10.2004561+01:00 0HLCG9JSA7JKE:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8I8cZ24bSc5BkaJobKJXk0IHGseaRXyNnRgFbdJAsrDGIzuwzibJEaaG9sFtogKOaQO9RqiNap4U57PkdgGrjknnJAl1nZdKSIrzeaQERjCgR1x5qtNQYmOIis-qBMY1v4VTQt5rNJmaQJzsPHiV58ejzoRboPj0q8VQDGMO9Qkip_orIgST10GJpz13Vy7y-ERGmzlaePAf6WJMJu_qcTCJATKYK_qpbekDXU75-3iRoRPQu9_bv-2_fGBWwD2rr_Sbog78_AVtwS9jRYfnjM_7SKbZQ0n0_tIVMKH1K93eORWanms9PSHX_u7tYRRO_49UuWEOQQzbc8AJKYGpOqAKYLnrhGImoRbioD0wnQakN5onX5hGlGFOVWizIQW6pYyFlHplT5JMx0e7Dq0XEobVEAoEg3-LvLRfuXK3d1J2o-BT8I7Af6RQw7qf8JZCAPathPpbRF1LjsFAeEIkLm5fop15DnQJcAQrCJwL8DrJ   (ca22a1cb)
2018-03-23T09:03:10.2013345+01:00 0HLCG9JSA7JKE:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:03:10.2014444+01:00 0HLCG9JSA7JKE:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:03:10.8702260+01:00 0HLCG9JSA7JKE:00000004 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0IHGseaRXyNnRgFbdJAsrDGIzuwzibJEaaG9sFtogKOaQO9RqiNap4U57PkdgGrjknnJAl1nZdKSIrzeaQERjCgR1x5qtNQYmOIis-qBMY1v4VTQt5rNJmaQJzsPHiV58ejzoRboPj0q8VQDGMO9Qkip_orIgST10GJpz13Vy7y-ERGmzlaePAf6WJMJu_qcTCJATKYK_qpbekDXU75-3iRoRPQu9_bv-2_fGBWwD2rr_Sbog78_AVtwS9jRYfnjM_7SKbZQ0n0_tIVMKH1K93eORWanms9PSHX_u7tYRRO_49UuWEOQQzbc8AJKYGpOqAKYLnrhGImoRbioD0wnQakN5onX5hGlGFOVWizIQW6pYyFlHplT5JMx0e7Dq0XEobVEAoEg3-LvLRfuXK3d1J2o-BT8I7Af6RQw7qf8JZCAPathPpbRF1LjsFAeEIkLm5fop15DnQJcAQrCJwL8DrJ"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:03:11.1211533+01:00 0HLCG9JSA7JKE:00000004 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T09:03:11.1215643+01:00 0HLCG9JSA7JKE:00000004 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T09:03:11.1554576+01:00 0HLCG9JSA7JKE:00000004 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T09:03:11.1555162+01:00 0HLCG9JSA7JKE:00000004 [INF] User logged out. (f9c27106)
2018-03-23T09:03:15.5882609+01:00 0HLCG9JSA7JKE:00000004 [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T09:03:15.6247862+01:00 0HLCG9JSA7JKE:00000004 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 4755.6683ms (afa2e885)
2018-03-23T09:03:15.6250882+01:00 0HLCG9JSA7JKE:00000004 [INF] Request finished in 5424.5999ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T09:03:15.9322439+01:00 0HLCG9JSA7JKE:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8I8cZ24bSc5BkaJobKJXk0LGtrkYgQ7niYXmwoIAJRTAT6n38n99S0HMb6_pvHDf7tU4_AtIePRHzrA3b3_3ypCXj491pxrbyD6EElqiDd2swrut1u3yVbgx3vN5qAF9uJHjDi5ClZ8TlrpImxWsByyfIhShWzRc5a8qqkRX87vPUSU31PkFjSHRlvM-QVjJXYm-9sz8U0gBYQNA8l1VwMR_lklwIH0URmPCJY_Kw98tO-ATjUnWYXmlhYAFYbHdsTAFaydZ7Sb8pkLZGHP840anTfZ66WZjJSOpRL-hOEiRQ-SWTi9FmPoxOi8xGmwvrOpkPrw44RA-YcfHnhQGB44   (ca22a1cb)
2018-03-23T09:03:15.9504435+01:00 0HLCG9JSA7JKE:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback" (f7642de5)
2018-03-23T09:03:16.0230218+01:00 0HLCG9JSA7JKE:00000005 [INF] Successful signout callback. (d13fac4f)
2018-03-23T09:03:16.0389563+01:00 0HLCG9JSA7JKE:00000005 [INF] Request finished in 106.8077ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T09:04:44.1829124+01:00 0HLCG9JSA7JKD:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T09:04:44.1836845+01:00 0HLCG9JSA7JKD:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T09:04:44.1843858+01:00 0HLCG9JSA7JKD:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T09:04:44.1849404+01:00 0HLCG9JSA7JKD:00000003 [INF] Request finished in 2.1776ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:04:44.1971341+01:00 0HLCG9JSA7JKE:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fhome   (ca22a1cb)
2018-03-23T09:04:44.1988268+01:00 0HLCG9JSA7JKE:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2018-03-23T09:04:44.2009385+01:00 0HLCG9JSA7JKE:00000006 [INF] End session request validation success
"{
  \"SubjectId\": \"unknown\",
  \"Raw\": {
    \"post_logout_redirect_uri\": \"http://localhost:51540/home\"
  }
}" (8a893fca)
2018-03-23T09:04:44.2024037+01:00 0HLCG9JSA7JKE:00000006 [INF] Request finished in 5.3632ms 302  (791a596a)
2018-03-23T09:04:44.2067370+01:00 0HLCG9JSA7JKE:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout   (ca22a1cb)
2018-03-23T09:04:44.2089578+01:00 0HLCG9JSA7JKE:00000007 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments ([""]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:04:44.2099141+01:00 0HLCG9JSA7JKE:00000007 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T09:04:44.2104303+01:00 0HLCG9JSA7JKE:00000007 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T09:04:44.2108797+01:00 0HLCG9JSA7JKE:00000007 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T09:04:44.2112009+01:00 0HLCG9JSA7JKE:00000007 [INF] User logged out. (f9c27106)
2018-03-23T09:04:44.2114694+01:00 0HLCG9JSA7JKE:00000007 [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T09:04:44.2164281+01:00 0HLCG9JSA7JKE:00000007 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 7.6383ms (afa2e885)
2018-03-23T09:04:44.2166980+01:00 0HLCG9JSA7JKE:00000007 [INF] Request finished in 10.111ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T09:04:55.2991941+01:00 0HLCG9JSA7JKD:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T09:04:55.2998988+01:00 0HLCG9JSA7JKD:00000004 [INF] Policy execution successful. (0204925d)
2018-03-23T09:04:55.3004581+01:00 0HLCG9JSA7JKD:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T09:04:55.3015431+01:00 0HLCG9JSA7JKD:00000004 [INF] Request finished in 2.3029ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:04:55.3462269+01:00 0HLCG9JSA7JKE:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=f623048755f64c44a6b8f46786652b47&nonce=249c5f083a344aef9cc92e3072985c72   (ca22a1cb)
2018-03-23T09:04:55.3475035+01:00 0HLCG9JSA7JKE:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T09:04:55.3494053+01:00 0HLCG9JSA7JKE:00000008 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"f623048755f64c44a6b8f46786652b47\",
  \"Nonce\": \"249c5f083a344aef9cc92e3072985c72\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"f623048755f64c44a6b8f46786652b47\",
    \"nonce\": \"249c5f083a344aef9cc92e3072985c72\"
  }
}" (9a175e33)
2018-03-23T09:04:55.3494660+01:00 0HLCG9JSA7JKE:00000008 [INF] Showing login: User is not authenticated (4b8d50b2)
2018-03-23T09:04:55.3540787+01:00 0HLCG9JSA7JKE:00000008 [INF] Request finished in 8.012ms 302  (791a596a)
2018-03-23T09:04:55.3654803+01:00 0HLCG9JSA7JKE:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Df623048755f64c44a6b8f46786652b47%26nonce%3D249c5f083a344aef9cc92e3072985c72   (ca22a1cb)
2018-03-23T09:04:55.3666367+01:00 0HLCG9JSA7JKE:00000009 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=f623048755f64c44a6b8f46786652b47&nonce=249c5f083a344aef9cc92e3072985c72"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:04:55.3668124+01:00 0HLCG9JSA7JKE:00000009 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T09:04:55.3693656+01:00 0HLCG9JSA7JKE:00000009 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T09:04:55.3759424+01:00 0HLCG9JSA7JKE:00000009 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 9.8193ms (afa2e885)
2018-03-23T09:04:55.3776184+01:00 0HLCG9JSA7JKE:00000009 [INF] Request finished in 12.165ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T09:04:58.9897358+01:00 0HLCG9JSA7JKE:0000000A [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Df623048755f64c44a6b8f46786652b47%26nonce%3D249c5f083a344aef9cc92e3072985c72 application/x-www-form-urlencoded 233 (ca22a1cb)
2018-03-23T09:04:59.0502155+01:00 0HLCG9JSA7JKE:0000000A [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=f623048755f64c44a6b8f46786652b47&nonce=249c5f083a344aef9cc92e3072985c72"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:04:59.0507055+01:00 0HLCG9JSA7JKE:0000000A [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T09:04:59.0543367+01:00 0HLCG9JSA7JKE:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T09:04:59.1258370+01:00 0HLCG9JSA7JKE:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T09:04:59.1298184+01:00 0HLCG9JSA7JKE:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T09:04:59.1302820+01:00 0HLCG9JSA7JKE:0000000A [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T09:04:59.1303308+01:00 0HLCG9JSA7JKE:0000000A [INF] User logged in. (fdce0db4)
2018-03-23T09:04:59.1304326+01:00 0HLCG9JSA7JKE:0000000A [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=f623048755f64c44a6b8f46786652b47&nonce=249c5f083a344aef9cc92e3072985c72". (d98d540e)
2018-03-23T09:04:59.1305677+01:00 0HLCG9JSA7JKE:0000000A [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 140.1407ms (afa2e885)
2018-03-23T09:04:59.1307601+01:00 0HLCG9JSA7JKE:0000000A [INF] Request finished in 141.1615ms 302  (791a596a)
2018-03-23T09:04:59.1933455+01:00 0HLCG9JSA7JKE:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=f623048755f64c44a6b8f46786652b47&nonce=249c5f083a344aef9cc92e3072985c72   (ca22a1cb)
2018-03-23T09:04:59.1939254+01:00 0HLCG9JSA7JKE:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:04:59.1939835+01:00 0HLCG9JSA7JKE:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:04:59.1942394+01:00 0HLCG9JSA7JKE:0000000B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T09:04:59.1946952+01:00 0HLCG9JSA7JKE:0000000B [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"f623048755f64c44a6b8f46786652b47\",
  \"Nonce\": \"249c5f083a344aef9cc92e3072985c72\",
  \"SessionId\": \"94d98cd3f7919056a1153a652b43184a\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"f623048755f64c44a6b8f46786652b47\",
    \"nonce\": \"249c5f083a344aef9cc92e3072985c72\"
  }
}" (9a175e33)
2018-03-23T09:04:59.1949702+01:00 0HLCG9JSA7JKE:0000000B [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T09:04:59.1976699+01:00 0HLCG9JSA7JKE:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T09:04:59.2396244+01:00 0HLCG9JSA7JKE:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T09:04:59.2411460+01:00 0HLCG9JSA7JKE:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T09:04:59.2472461+01:00 0HLCG9JSA7JKE:0000000B [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"f623048755f64c44a6b8f46786652b47\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T09:04:59.2476648+01:00 0HLCG9JSA7JKE:0000000B [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T09:04:59.2478709+01:00 0HLCG9JSA7JKE:0000000B [INF] Request finished in 54.6746ms 302  (791a596a)
2018-03-23T09:05:01.0162828+01:00 0HLCG9JSA7JKD:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T09:05:01.0175081+01:00 0HLCG9JSA7JKD:00000005 [INF] Policy execution successful. (0204925d)
2018-03-23T09:05:01.0182556+01:00 0HLCG9JSA7JKD:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T09:05:01.0189651+01:00 0HLCG9JSA7JKD:00000005 [INF] Request finished in 2.7365ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:05:01.5131447+01:00 0HLCG9JSA7JKD:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T09:05:01.5138812+01:00 0HLCG9JSA7JKD:00000006 [INF] Policy execution successful. (0204925d)
2018-03-23T09:05:01.5149598+01:00 0HLCG9JSA7JKD:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T09:05:01.5156371+01:00 0HLCG9JSA7JKD:00000006 [INF] Request finished in 2.5334ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:05:01.6831460+01:00 0HLCG9JSA7JKD:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T09:05:01.6839590+01:00 0HLCG9JSA7JKD:00000007 [INF] Policy execution successful. (0204925d)
2018-03-23T09:05:01.6842635+01:00 0HLCG9JSA7JKD:00000007 [INF] Request finished in 1.1555ms 204  (791a596a)
2018-03-23T09:05:01.7121285+01:00 0HLCG9JSA7JKD:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T09:05:01.7407424+01:00 0HLCG9JSA7JKD:00000008 [INF] Policy execution successful. (0204925d)
2018-03-23T09:05:01.7414839+01:00 0HLCG9JSA7JKD:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T09:05:01.7501824+01:00 0HLCG9JSA7JKD:00000008 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T09:05:01.7714081+01:00 0HLCG9JSA7JKD:00000008 [INF] Executed DbCommand ("6"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T09:05:01.7812172+01:00 0HLCG9JSA7JKD:00000008 [INF] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T09:05:01.7856228+01:00 0HLCG9JSA7JKD:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T09:05:01.7864572+01:00 0HLCG9JSA7JKD:00000008 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T09:05:01.7878749+01:00 0HLCG9JSA7JKD:00000008 [INF] Request finished in 74.9419ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:05:02.0546584+01:00 0HLCG9JSA7JKE:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T09:05:02.0574962+01:00 0HLCG9JSA7JKE:0000000C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:05:02.0576400+01:00 0HLCG9JSA7JKE:0000000C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:05:02.0577632+01:00 0HLCG9JSA7JKE:0000000C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T09:05:02.0584153+01:00 0HLCG9JSA7JKE:0000000C [INF] Request finished in 3.8219ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T09:05:20.9539139+01:00 0HLCG9JSA7JKE:0000000D [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Df623048755f64c44a6b8f46786652b47%26nonce%3D249c5f083a344aef9cc92e3072985c72   (ca22a1cb)
2018-03-23T09:05:20.9557952+01:00 0HLCG9JSA7JKE:0000000D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:05:20.9559876+01:00 0HLCG9JSA7JKE:0000000D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:05:20.9565491+01:00 0HLCG9JSA7JKE:0000000D [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=f623048755f64c44a6b8f46786652b47&nonce=249c5f083a344aef9cc92e3072985c72"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:05:20.9567194+01:00 0HLCG9JSA7JKE:0000000D [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T09:05:20.9576178+01:00 0HLCG9JSA7JKE:0000000D [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T09:05:20.9638141+01:00 0HLCG9JSA7JKE:0000000D [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 7.48ms (afa2e885)
2018-03-23T09:05:20.9641382+01:00 0HLCG9JSA7JKE:0000000D [INF] Request finished in 10.4565ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T09:05:24.0378285+01:00 0HLCG9JSA7JKE:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T09:05:24.0390832+01:00 0HLCG9JSA7JKE:0000000E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:05:24.0391640+01:00 0HLCG9JSA7JKE:0000000E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:05:24.0392619+01:00 0HLCG9JSA7JKE:0000000E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T09:05:24.0395408+01:00 0HLCG9JSA7JKE:0000000E [INF] Request finished in 1.7666ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T09:05:25.5961814+01:00 0HLCG9JSA7JKE:0000000F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE3OTIyOTksImV4cCI6MTUyMTc5MjU5OSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiIyNDljNWYwODNhMzQ0YWVmOWNjOTJlMzA3Mjk4NWM3MiIsImlhdCI6MTUyMTc5MjI5OSwiYXRfaGFzaCI6InAyTGZlT3oyMVR3RkhYWWNmUVZCeEEiLCJzaWQiOiI5NGQ5OGNkM2Y3OTE5MDU2YTExNTNhNjUyYjQzMTg0YSIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTc5MjI5OSwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.d7x5KHzWkyjFpy1gDyjq_Py_srKrRzj7VMFCC1zO4XZVNKipwNe2NzV0zKDPsb-Vs4GWpzNUUvMR9VlLlrgKwifBDlOfns5PQJQ5j3dAyUKHiYhyCYok9W8ooJDojHa3_lt_nmP64cekKvwT9Ep8DrYeIMW3Mf52mgEglsy2H83aJBdX9TXnQpfiAVplRKJZBEcEMQz5XNU5nEfMKI7ysAK7xyICxcc0bYcFzXO3WWh2viG0izgaOYspKP6_cI_qoS0eMNmbHdIR1_iX0Suwgi6fjtKG9wTP08sAxJJoadWRBiwS8T7e2rFIpDjMS2e7VDHz8EV0omRUmDDuWk0yQw&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fhome   (ca22a1cb)
2018-03-23T09:05:25.5984479+01:00 0HLCG9JSA7JKE:0000000F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:05:25.5985250+01:00 0HLCG9JSA7JKE:0000000F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:05:25.5986584+01:00 0HLCG9JSA7JKE:0000000F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2018-03-23T09:05:25.6145162+01:00 0HLCG9JSA7JKE:0000000F [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T09:05:25.6210494+01:00 0HLCG9JSA7JKE:0000000F [INF] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T09:05:25.6218239+01:00 0HLCG9JSA7JKE:0000000F [INF] End session request validation success
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"PostLogOutUri\": \"http://localhost:51540/home\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE3OTIyOTksImV4cCI6MTUyMTc5MjU5OSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiIyNDljNWYwODNhMzQ0YWVmOWNjOTJlMzA3Mjk4NWM3MiIsImlhdCI6MTUyMTc5MjI5OSwiYXRfaGFzaCI6InAyTGZlT3oyMVR3RkhYWWNmUVZCeEEiLCJzaWQiOiI5NGQ5OGNkM2Y3OTE5MDU2YTExNTNhNjUyYjQzMTg0YSIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTc5MjI5OSwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.d7x5KHzWkyjFpy1gDyjq_Py_srKrRzj7VMFCC1zO4XZVNKipwNe2NzV0zKDPsb-Vs4GWpzNUUvMR9VlLlrgKwifBDlOfns5PQJQ5j3dAyUKHiYhyCYok9W8ooJDojHa3_lt_nmP64cekKvwT9Ep8DrYeIMW3Mf52mgEglsy2H83aJBdX9TXnQpfiAVplRKJZBEcEMQz5XNU5nEfMKI7ysAK7xyICxcc0bYcFzXO3WWh2viG0izgaOYspKP6_cI_qoS0eMNmbHdIR1_iX0Suwgi6fjtKG9wTP08sAxJJoadWRBiwS8T7e2rFIpDjMS2e7VDHz8EV0omRUmDDuWk0yQw\",
    \"post_logout_redirect_uri\": \"http://localhost:51540/home\"
  }
}" (8a893fca)
2018-03-23T09:05:25.6224662+01:00 0HLCG9JSA7JKE:0000000F [INF] Request finished in 26.325ms 302  (791a596a)
2018-03-23T09:05:25.6423555+01:00 0HLCG9JSA7JKE:00000010 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8I8cZ24bSc5BkaJobKJXk0KHkVOdkbLwB2YF1DvKUxvlQw5ukmn_HQCdG0C-Y7Wg30ZWl5lm419yaqq9TeNE3sevbI7UV86GsY3eNxEm7NJciE6QXHac_M5IDis0hWkUa07gKGersxqGpue0PCxkavZwKROAcRMcxcK_t6EM5_nNoNLHBxMUEe1Z-eq2onpgtcukTP5qt2DYrX7lbRabqxsUUw2bwBskdDChtPZ6rl9rknaaLM3wlhoBVYqr0YeZzUt7CQZbilmF66RO_Nz_hcNFeBYBmcLsba6h-7x6jbttfjI4gbezEqL_COaVu65SqQnDNWW5NLGYxdXCVfThc0tRl9_IBKCpxBB-QW9u7GceXtbZ-l8W40ozy1ayJ70FEW8uyauh7UFjIt31nEZWd3h43xWE1v-EIWXo8N-gK6Gokkj1yqPGkD2NyPVKZbt4J5fXqmiI3n58xLSgn5OmvVvjXRAgyxS3U6Ya3NCembKs   (ca22a1cb)
2018-03-23T09:05:25.6454056+01:00 0HLCG9JSA7JKE:00000010 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:05:25.6454920+01:00 0HLCG9JSA7JKE:00000010 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:05:25.6459226+01:00 0HLCG9JSA7JKE:00000010 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0KHkVOdkbLwB2YF1DvKUxvlQw5ukmn_HQCdG0C-Y7Wg30ZWl5lm419yaqq9TeNE3sevbI7UV86GsY3eNxEm7NJciE6QXHac_M5IDis0hWkUa07gKGersxqGpue0PCxkavZwKROAcRMcxcK_t6EM5_nNoNLHBxMUEe1Z-eq2onpgtcukTP5qt2DYrX7lbRabqxsUUw2bwBskdDChtPZ6rl9rknaaLM3wlhoBVYqr0YeZzUt7CQZbilmF66RO_Nz_hcNFeBYBmcLsba6h-7x6jbttfjI4gbezEqL_COaVu65SqQnDNWW5NLGYxdXCVfThc0tRl9_IBKCpxBB-QW9u7GceXtbZ-l8W40ozy1ayJ70FEW8uyauh7UFjIt31nEZWd3h43xWE1v-EIWXo8N-gK6Gokkj1yqPGkD2NyPVKZbt4J5fXqmiI3n58xLSgn5OmvVvjXRAgyxS3U6Ya3NCembKs"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:05:25.6676923+01:00 0HLCG9JSA7JKE:00000010 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T09:05:25.6678899+01:00 0HLCG9JSA7JKE:00000010 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T09:05:25.6680310+01:00 0HLCG9JSA7JKE:00000010 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T09:05:25.6680832+01:00 0HLCG9JSA7JKE:00000010 [INF] User logged out. (f9c27106)
2018-03-23T09:05:25.6681978+01:00 0HLCG9JSA7JKE:00000010 [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T09:05:25.6696997+01:00 0HLCG9JSA7JKE:00000010 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 23.993ms (afa2e885)
2018-03-23T09:05:25.6698109+01:00 0HLCG9JSA7JKE:00000010 [INF] Request finished in 27.5742ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T09:05:25.8928454+01:00 0HLCG9JSA7JKE:00000011 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8I8cZ24bSc5BkaJobKJXk0LkCGoO06B_hiGwXWSAL8wksG1vqZDiqi2J3S1jp1BIRcW69q80ngI5hPVGS4ymujMPynjKLGZ1g6SclQ8zRmTaHt5rrscRQ5dCLmkjlAuZxc0YsqkVBm8LrwPEYYjt8g3rmXWw31Hx8mLCYw_7wsNwyPfpzTmmRiIrSC9QmCUoe87LFXSHLBQi8hb7BEsIGGde4ZEPKo3rFfIX2F72FZRgJu8hUSMLFvK0I2kSN7TT0HFHupA2S4oCArb3McCFFtpyBCy0sMZVFu6pDWR84idg6chZU1V_oAblsI5ddIsSbs3BQnchVjIZ4nkJ-TOqxnM   (ca22a1cb)
2018-03-23T09:05:25.9093306+01:00 0HLCG9JSA7JKE:00000011 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback" (f7642de5)
2018-03-23T09:05:25.9097160+01:00 0HLCG9JSA7JKE:00000011 [INF] Successful signout callback. (d13fac4f)
2018-03-23T09:05:25.9105387+01:00 0HLCG9JSA7JKE:00000011 [INF] Request finished in 17.745ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T09:07:00.8530660+01:00 0HLCG9JSA7JKD:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T09:07:00.8540183+01:00 0HLCG9JSA7JKD:00000009 [INF] Policy execution successful. (0204925d)
2018-03-23T09:07:00.8551371+01:00 0HLCG9JSA7JKD:00000009 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T09:07:00.8558213+01:00 0HLCG9JSA7JKD:00000009 [INF] Request finished in 2.846ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:07:00.8702658+01:00 0HLCG9JSA7JKE:00000012 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=37f32bcc4dff4db5b7bd7bbc3ad195b4&nonce=125f6d2b9ad0431e8df969a40d262003   (ca22a1cb)
2018-03-23T09:07:00.8714939+01:00 0HLCG9JSA7JKE:00000012 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T09:07:00.8723878+01:00 0HLCG9JSA7JKE:00000012 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"37f32bcc4dff4db5b7bd7bbc3ad195b4\",
  \"Nonce\": \"125f6d2b9ad0431e8df969a40d262003\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"37f32bcc4dff4db5b7bd7bbc3ad195b4\",
    \"nonce\": \"125f6d2b9ad0431e8df969a40d262003\"
  }
}" (9a175e33)
2018-03-23T09:07:00.8724378+01:00 0HLCG9JSA7JKE:00000012 [INF] Showing login: User is not authenticated (4b8d50b2)
2018-03-23T09:07:00.8732076+01:00 0HLCG9JSA7JKE:00000012 [INF] Request finished in 3.0128ms 302  (791a596a)
2018-03-23T09:07:00.8882464+01:00 0HLCG9JSA7JKE:00000013 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D37f32bcc4dff4db5b7bd7bbc3ad195b4%26nonce%3D125f6d2b9ad0431e8df969a40d262003   (ca22a1cb)
2018-03-23T09:07:00.8899182+01:00 0HLCG9JSA7JKE:00000013 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=37f32bcc4dff4db5b7bd7bbc3ad195b4&nonce=125f6d2b9ad0431e8df969a40d262003"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:07:00.8901299+01:00 0HLCG9JSA7JKE:00000013 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T09:07:00.8906862+01:00 0HLCG9JSA7JKE:00000013 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T09:07:00.8965387+01:00 0HLCG9JSA7JKE:00000013 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 7.1952ms (afa2e885)
2018-03-23T09:07:00.8970668+01:00 0HLCG9JSA7JKE:00000013 [INF] Request finished in 8.8075ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T09:07:03.8336017+01:00 0HLCG9JSA7JKE:00000014 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D37f32bcc4dff4db5b7bd7bbc3ad195b4%26nonce%3D125f6d2b9ad0431e8df969a40d262003 application/x-www-form-urlencoded 233 (ca22a1cb)
2018-03-23T09:07:03.8735365+01:00 0HLCG9JSA7JKE:00000014 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=37f32bcc4dff4db5b7bd7bbc3ad195b4&nonce=125f6d2b9ad0431e8df969a40d262003"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:07:03.8742527+01:00 0HLCG9JSA7JKE:00000014 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T09:07:03.8799585+01:00 0HLCG9JSA7JKE:00000014 [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T09:07:03.9046953+01:00 0HLCG9JSA7JKE:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T09:07:03.9108009+01:00 0HLCG9JSA7JKE:00000014 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T09:07:03.9115861+01:00 0HLCG9JSA7JKE:00000014 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T09:07:03.9116583+01:00 0HLCG9JSA7JKE:00000014 [INF] User logged in. (fdce0db4)
2018-03-23T09:07:03.9117631+01:00 0HLCG9JSA7JKE:00000014 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=37f32bcc4dff4db5b7bd7bbc3ad195b4&nonce=125f6d2b9ad0431e8df969a40d262003". (d98d540e)
2018-03-23T09:07:03.9119149+01:00 0HLCG9JSA7JKE:00000014 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 77.5215ms (afa2e885)
2018-03-23T09:07:03.9121095+01:00 0HLCG9JSA7JKE:00000014 [INF] Request finished in 78.5868ms 302  (791a596a)
2018-03-23T09:07:03.9155564+01:00 0HLCG9JSA7JKE:00000015 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=37f32bcc4dff4db5b7bd7bbc3ad195b4&nonce=125f6d2b9ad0431e8df969a40d262003   (ca22a1cb)
2018-03-23T09:07:03.9178149+01:00 0HLCG9JSA7JKE:00000015 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:07:03.9181176+01:00 0HLCG9JSA7JKE:00000015 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:07:03.9184208+01:00 0HLCG9JSA7JKE:00000015 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T09:07:03.9212669+01:00 0HLCG9JSA7JKE:00000015 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"37f32bcc4dff4db5b7bd7bbc3ad195b4\",
  \"Nonce\": \"125f6d2b9ad0431e8df969a40d262003\",
  \"SessionId\": \"16e7bd051516a1210a8a3a2d8ac294f4\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"37f32bcc4dff4db5b7bd7bbc3ad195b4\",
    \"nonce\": \"125f6d2b9ad0431e8df969a40d262003\"
  }
}" (9a175e33)
2018-03-23T09:07:03.9220794+01:00 0HLCG9JSA7JKE:00000015 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T09:07:03.9274272+01:00 0HLCG9JSA7JKE:00000015 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T09:07:03.9291977+01:00 0HLCG9JSA7JKE:00000015 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T09:07:03.9306863+01:00 0HLCG9JSA7JKE:00000015 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T09:07:03.9443388+01:00 0HLCG9JSA7JKE:00000015 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"37f32bcc4dff4db5b7bd7bbc3ad195b4\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T09:07:03.9448391+01:00 0HLCG9JSA7JKE:00000015 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T09:07:03.9453421+01:00 0HLCG9JSA7JKE:00000015 [INF] Request finished in 30.0293ms 302  (791a596a)
2018-03-23T09:07:06.3766960+01:00 0HLCG9JSA7JKD:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T09:07:06.3772583+01:00 0HLCG9JSA7JKD:0000000A [INF] Policy execution successful. (0204925d)
2018-03-23T09:07:06.3780730+01:00 0HLCG9JSA7JKD:0000000A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T09:07:06.3786862+01:00 0HLCG9JSA7JKD:0000000A [INF] Request finished in 2.0505ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:07:06.6400275+01:00 0HLCG9JSA7JKD:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T09:07:06.6405252+01:00 0HLCG9JSA7JKD:0000000B [INF] Policy execution successful. (0204925d)
2018-03-23T09:07:06.6410346+01:00 0HLCG9JSA7JKD:0000000B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T09:07:06.6413381+01:00 0HLCG9JSA7JKD:0000000B [INF] Request finished in 1.3702ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:07:06.7608288+01:00 0HLCG9JSA7JKD:0000000C [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T09:07:06.7644284+01:00 0HLCG9JSA7JKD:0000000C [INF] Policy execution successful. (0204925d)
2018-03-23T09:07:06.7668091+01:00 0HLCG9JSA7JKD:0000000C [INF] Request finished in 6.0491ms 204  (791a596a)
2018-03-23T09:07:07.0139526+01:00 0HLCG9JSA7JKD:0000000D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T09:07:07.0151624+01:00 0HLCG9JSA7JKD:0000000D [INF] Policy execution successful. (0204925d)
2018-03-23T09:07:07.0160691+01:00 0HLCG9JSA7JKD:0000000D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T09:07:07.0215546+01:00 0HLCG9JSA7JKD:0000000D [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T09:07:07.0865711+01:00 0HLCG9JSA7JKD:0000000D [INF] Executed DbCommand ("63"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T09:07:07.1685065+01:00 0HLCG9JSA7JKD:0000000D [INF] Executed DbCommand ("80"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T09:07:07.2017827+01:00 0HLCG9JSA7JKD:0000000D [INF] Executed DbCommand ("31"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T09:07:07.2028309+01:00 0HLCG9JSA7JKD:0000000D [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T09:07:07.2077836+01:00 0HLCG9JSA7JKD:0000000D [INF] Request finished in 193.5225ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:07:07.2286290+01:00 0HLCG9JSA7JKE:00000016 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T09:07:07.2296665+01:00 0HLCG9JSA7JKE:00000016 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:07:07.2297392+01:00 0HLCG9JSA7JKE:00000016 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:07:07.2298085+01:00 0HLCG9JSA7JKE:00000016 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T09:07:07.2302725+01:00 0HLCG9JSA7JKE:00000016 [INF] Request finished in 1.726ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T09:08:34.7046826+01:00 0HLCG9JSA7JKD:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T09:08:34.7052929+01:00 0HLCG9JSA7JKD:0000000E [INF] Policy execution successful. (0204925d)
2018-03-23T09:08:34.7061362+01:00 0HLCG9JSA7JKD:0000000E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T09:08:34.7067225+01:00 0HLCG9JSA7JKD:0000000E [INF] Request finished in 2.1108ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:08:35.2022424+01:00 0HLCG9JSA7JKE:00000017 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T09:08:35.2034480+01:00 0HLCG9JSA7JKE:00000017 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:08:35.2036901+01:00 0HLCG9JSA7JKE:00000017 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:08:35.2037829+01:00 0HLCG9JSA7JKE:00000017 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T09:08:35.2040369+01:00 0HLCG9JSA7JKE:00000017 [INF] Request finished in 9.4032ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T09:08:43.9884234+01:00 0HLCG9JSA7JKD:0000000F [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T09:08:43.9895455+01:00 0HLCG9JSA7JKD:0000000F [INF] Policy execution successful. (0204925d)
2018-03-23T09:08:43.9903243+01:00 0HLCG9JSA7JKD:0000000F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T09:08:43.9908926+01:00 0HLCG9JSA7JKD:0000000F [INF] Request finished in 2.4722ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:08:44.4226191+01:00 0HLCG9JSA7JKE:00000018 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T09:08:44.4237036+01:00 0HLCG9JSA7JKE:00000018 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:08:44.4239897+01:00 0HLCG9JSA7JKE:00000018 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:08:44.4241231+01:00 0HLCG9JSA7JKE:00000018 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T09:08:44.4246282+01:00 0HLCG9JSA7JKE:00000018 [INF] Request finished in 1.992ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T09:09:49.4785570+01:00 0HLCG9JSA7JKD:00000010 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T09:09:49.4790317+01:00 0HLCG9JSA7JKD:00000010 [INF] Policy execution successful. (0204925d)
2018-03-23T09:09:49.4796458+01:00 0HLCG9JSA7JKD:00000010 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T09:09:49.4803241+01:00 0HLCG9JSA7JKD:00000010 [INF] Request finished in 1.9535ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:09:49.8840606+01:00 0HLCG9JSA7JKE:00000019 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T09:09:49.8852310+01:00 0HLCG9JSA7JKE:00000019 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:09:49.8938696+01:00 0HLCG9JSA7JKE:00000019 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:09:49.8941801+01:00 0HLCG9JSA7JKE:00000019 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T09:09:49.8953455+01:00 0HLCG9JSA7JKE:00000019 [INF] Request finished in 11.2759ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T09:10:26.4288000+01:00 0HLCG9JSA7JKE:0000001A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE3OTI0MjMsImV4cCI6MTUyMTc5MjcyMywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiIxMjVmNmQyYjlhZDA0MzFlOGRmOTY5YTQwZDI2MjAwMyIsImlhdCI6MTUyMTc5MjQyMywiYXRfaGFzaCI6ImlJQ2RfMUxvblJQeEdYMEhkOGU3V1EiLCJzaWQiOiIxNmU3YmQwNTE1MTZhMTIxMGE4YTNhMmQ4YWMyOTRmNCIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTc5MjQyMywiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.15NUKeNOBW0fyY2fAM-dmUXlWDBL_eBKyjYAUs6Wuh1bJSiH6Bes2B--cZAREvpmrRIbcPNT8w_crtTXsVw9WNxl_z45iOfeONCT6x6jqy84C162Q9x_RPTKOyl3R-raOYmFO-I8pErIsiGN90dJ626Lj2B3hVR62mrmn1kJqwn9zG7LiphELA8_36i1HRmMawY_gKC-wliuisM4b61QnEvjNiw-7L9mFN6tmGninXPKaGUkMaw6fMPzdTwRIRSpER6shxkb7SHHTw5chFzX3CUndJTyb4MrLKE3vagiJD7vuKON1Igoj4iqV212eKFReqW3eH2X7vznjgQ6Znd9Jg&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fhome   (ca22a1cb)
2018-03-23T09:10:26.4301616+01:00 0HLCG9JSA7JKE:0000001A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:10:26.4302420+01:00 0HLCG9JSA7JKE:0000001A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:10:26.4303724+01:00 0HLCG9JSA7JKE:0000001A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2018-03-23T09:10:26.4478921+01:00 0HLCG9JSA7JKE:0000001A [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T09:10:26.4535670+01:00 0HLCG9JSA7JKE:0000001A [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T09:10:26.4657385+01:00 0HLCG9JSA7JKE:0000001A [INF] End session request validation success
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"PostLogOutUri\": \"http://localhost:51540/home\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE3OTI0MjMsImV4cCI6MTUyMTc5MjcyMywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiIxMjVmNmQyYjlhZDA0MzFlOGRmOTY5YTQwZDI2MjAwMyIsImlhdCI6MTUyMTc5MjQyMywiYXRfaGFzaCI6ImlJQ2RfMUxvblJQeEdYMEhkOGU3V1EiLCJzaWQiOiIxNmU3YmQwNTE1MTZhMTIxMGE4YTNhMmQ4YWMyOTRmNCIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTc5MjQyMywiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.15NUKeNOBW0fyY2fAM-dmUXlWDBL_eBKyjYAUs6Wuh1bJSiH6Bes2B--cZAREvpmrRIbcPNT8w_crtTXsVw9WNxl_z45iOfeONCT6x6jqy84C162Q9x_RPTKOyl3R-raOYmFO-I8pErIsiGN90dJ626Lj2B3hVR62mrmn1kJqwn9zG7LiphELA8_36i1HRmMawY_gKC-wliuisM4b61QnEvjNiw-7L9mFN6tmGninXPKaGUkMaw6fMPzdTwRIRSpER6shxkb7SHHTw5chFzX3CUndJTyb4MrLKE3vagiJD7vuKON1Igoj4iqV212eKFReqW3eH2X7vznjgQ6Znd9Jg\",
    \"post_logout_redirect_uri\": \"http://localhost:51540/home\"
  }
}" (8a893fca)
2018-03-23T09:10:26.4667051+01:00 0HLCG9JSA7JKE:0000001A [INF] Request finished in 38.0577ms 302  (791a596a)
2018-03-23T09:10:26.4864433+01:00 0HLCG9JSA7JKE:0000001B [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8I8cZ24bSc5BkaJobKJXk0KC26r616tjyScCWKv6W7cKhdmZzE3U-SXXx5oTVx_gvFoSfkynnyZAR4_q4tGza1q39SEXq4YG7fKbLMQntjyU3s_g57MbQiogSJlDABJaRZSAdx1sIcADF3W7gsVMJGOpEt705cJ4Lgf4V352qcsuLpDpjgTVLxA-zVbck-EldOGRU31kkaD1oc937MG6vfkWTt1i4bc8-RBTq_tQVFy0FA2pvlWqxdLKbq3oKSdM9YzV9ch-pTUDLLE6nyVQgEIVIBEAnNTxWk7Jk5wlthh1evyoUArokMqk_pQOvJxiOfvbvRKOTy8dLEvh-U080uY4gGjEObLo9COsLrE33gCKLCp0w-gFrAqg4GIdNMV1r3VMyAExWMthAbpCvMG5m6IDYl8Sg-G0sUZucS9Dbg7ttfuofFSd86CfIy70dQk7WhCl2bTW6zylDTASKxtJHiw7RsijbwiXXUjd1t2xG0lT   (ca22a1cb)
2018-03-23T09:10:26.4879081+01:00 0HLCG9JSA7JKE:0000001B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:10:26.4881001+01:00 0HLCG9JSA7JKE:0000001B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:10:26.4892035+01:00 0HLCG9JSA7JKE:0000001B [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0KC26r616tjyScCWKv6W7cKhdmZzE3U-SXXx5oTVx_gvFoSfkynnyZAR4_q4tGza1q39SEXq4YG7fKbLMQntjyU3s_g57MbQiogSJlDABJaRZSAdx1sIcADF3W7gsVMJGOpEt705cJ4Lgf4V352qcsuLpDpjgTVLxA-zVbck-EldOGRU31kkaD1oc937MG6vfkWTt1i4bc8-RBTq_tQVFy0FA2pvlWqxdLKbq3oKSdM9YzV9ch-pTUDLLE6nyVQgEIVIBEAnNTxWk7Jk5wlthh1evyoUArokMqk_pQOvJxiOfvbvRKOTy8dLEvh-U080uY4gGjEObLo9COsLrE33gCKLCp0w-gFrAqg4GIdNMV1r3VMyAExWMthAbpCvMG5m6IDYl8Sg-G0sUZucS9Dbg7ttfuofFSd86CfIy70dQk7WhCl2bTW6zylDTASKxtJHiw7RsijbwiXXUjd1t2xG0lT"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:10:26.4901075+01:00 0HLCG9JSA7JKE:0000001B [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T09:10:26.4902666+01:00 0HLCG9JSA7JKE:0000001B [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T09:10:26.4905189+01:00 0HLCG9JSA7JKE:0000001B [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T09:10:26.4906797+01:00 0HLCG9JSA7JKE:0000001B [INF] User logged out. (f9c27106)
2018-03-23T09:10:26.4908640+01:00 0HLCG9JSA7JKE:0000001B [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T09:10:26.4921367+01:00 0HLCG9JSA7JKE:0000001B [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 3.7167ms (afa2e885)
2018-03-23T09:10:26.4927599+01:00 0HLCG9JSA7JKE:0000001B [INF] Request finished in 6.2014ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T09:10:26.7639832+01:00 0HLCG9JSA7JKE:0000001C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8I8cZ24bSc5BkaJobKJXk0JT7vvdSi_2MBUyLHyOE1QoirybGcthx7t_OGiemGrK282XCA5DwtVxxAIpyleYvfHTwspyV2p51pvPjoGWvZXlgMWMjJAq7BCPXiL3gYu2suLmSJvVDxhHR8n_ikBhCR2MPK70b6vrMo4Z9NXKMj2Mqco7p_P6_aeCZzU3YqsdXOMXfcIJBB0ggWB8J1-fl8sUL93zERLmACI2BYexSDb3N3RnIsQElZSNwFVdgG8nqSeF4h_QzngnEBJg7Rt1Nxj1lZ05Yl8_8MxLM941VIhNClSzTUnzs-2QooAZM784nqxRELnO-gdNaIPVjFqG_B8   (ca22a1cb)
2018-03-23T09:10:26.7650669+01:00 0HLCG9JSA7JKE:0000001C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback" (f7642de5)
2018-03-23T09:10:26.7653414+01:00 0HLCG9JSA7JKE:0000001C [INF] Successful signout callback. (d13fac4f)
2018-03-23T09:10:26.7656635+01:00 0HLCG9JSA7JKE:0000001C [INF] Request finished in 1.72ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T09:10:34.2537866+01:00 0HLCG9JSA7JKE:0000001D [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login   (ca22a1cb)
2018-03-23T09:10:34.2555957+01:00 0HLCG9JSA7JKE:0000001D [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments ([""]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:10:34.2559856+01:00 0HLCG9JSA7JKE:0000001D [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T09:10:34.2564963+01:00 0HLCG9JSA7JKE:0000001D [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T09:10:34.2827696+01:00 0HLCG9JSA7JKE:0000001D [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 27.6725ms (afa2e885)
2018-03-23T09:10:34.2829068+01:00 0HLCG9JSA7JKE:0000001D [INF] Request finished in 29.1817ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T09:10:37.3163421+01:00 0HLCG9JSA7JKE:0000001E [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 233 (ca22a1cb)
2018-03-23T09:10:37.3179766+01:00 0HLCG9JSA7JKE:0000001E [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", ""]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:10:37.3184243+01:00 0HLCG9JSA7JKE:0000001E [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T09:10:37.3274615+01:00 0HLCG9JSA7JKE:0000001E [INF] Executed DbCommand ("8"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T09:10:37.3485572+01:00 0HLCG9JSA7JKE:0000001E [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T09:10:37.3557602+01:00 0HLCG9JSA7JKE:0000001E [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T09:10:37.3563606+01:00 0HLCG9JSA7JKE:0000001E [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T09:10:37.3564093+01:00 0HLCG9JSA7JKE:0000001E [INF] User logged in. (fdce0db4)
2018-03-23T09:10:37.3566766+01:00 0HLCG9JSA7JKE:0000001E [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2018-03-23T09:10:37.3568315+01:00 0HLCG9JSA7JKE:0000001E [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 39.8188ms (afa2e885)
2018-03-23T09:10:37.3577261+01:00 0HLCG9JSA7JKE:0000001E [INF] Request finished in 40.7489ms 302  (791a596a)
2018-03-23T09:10:37.5544976+01:00 0HLCG9JSA7JKE:0000001F [INF] Request starting HTTP/1.1 GET http://localhost:5000/   (ca22a1cb)
2018-03-23T09:10:37.5553704+01:00 0HLCG9JSA7JKE:0000001F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:10:37.5554337+01:00 0HLCG9JSA7JKE:0000001F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:10:37.5613541+01:00 0HLCG9JSA7JKE:0000001F [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.HomeController.Index (IdentityServerWithAspNetIdentity)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:10:38.1444006+01:00 0HLCG9JSA7JKE:0000001F [INF] Executing ViewResult, running view at path "/Views/Home/Index.cshtml". (9707eebe)
2018-03-23T09:10:38.1813964+01:00 0HLCG9JSA7JKE:0000001F [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.HomeController.Index (IdentityServerWithAspNetIdentity)" in 620.4101ms (afa2e885)
2018-03-23T09:10:38.1817090+01:00 0HLCG9JSA7JKE:0000001F [INF] Request finished in 627.2375ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T09:10:38.2489152+01:00 0HLCG9JSA7JKE:00000020 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner1.svg   (ca22a1cb)
2018-03-23T09:10:38.3096630+01:00 0HLCG9JSA7JKE:00000020 [INF] Sending file. Request path: '"/images/banner1.svg"'. Physical path: '"C:\Users\jhay\Desktop\GitEatList\EatList\IdentityServerWithAspNetIdentity\wwwroot\images\banner1.svg"' (27b0a520)
2018-03-23T09:10:38.3366825+01:00 0HLCG9JSA7JL9:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner3.svg   (ca22a1cb)
2018-03-23T09:10:38.3370504+01:00 0HLCG9JSA7JLA:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner2.svg   (ca22a1cb)
2018-03-23T09:10:38.3374502+01:00 0HLCG9JSA7JLB:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner4.svg   (ca22a1cb)
2018-03-23T09:10:38.3376452+01:00 0HLCG9JSA7JLA:00000001 [INF] Sending file. Request path: '"/images/banner2.svg"'. Physical path: '"C:\Users\jhay\Desktop\GitEatList\EatList\IdentityServerWithAspNetIdentity\wwwroot\images\banner2.svg"' (27b0a520)
2018-03-23T09:10:38.3380275+01:00 0HLCG9JSA7JL9:00000001 [INF] Sending file. Request path: '"/images/banner3.svg"'. Physical path: '"C:\Users\jhay\Desktop\GitEatList\EatList\IdentityServerWithAspNetIdentity\wwwroot\images\banner3.svg"' (27b0a520)
2018-03-23T09:10:38.3381545+01:00 0HLCG9JSA7JLB:00000001 [INF] Sending file. Request path: '"/images/banner4.svg"'. Physical path: '"C:\Users\jhay\Desktop\GitEatList\EatList\IdentityServerWithAspNetIdentity\wwwroot\images\banner4.svg"' (27b0a520)
2018-03-23T09:10:38.4102701+01:00 0HLCG9JSA7JL9:00000001 [INF] Request finished in 73.5799ms 200 image/svg+xml (791a596a)
2018-03-23T09:10:38.4251855+01:00 0HLCG9JSA7JLA:00000001 [INF] Request finished in 88.0854ms 200 image/svg+xml (791a596a)
2018-03-23T09:10:38.4252043+01:00 0HLCG9JSA7JL9:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2   (ca22a1cb)
2018-03-23T09:10:38.4312808+01:00 0HLCG9JSA7JKE:00000020 [INF] Request finished in 182.3809ms 200 image/svg+xml (791a596a)
2018-03-23T09:10:38.4613718+01:00 0HLCG9JSA7JL9:00000002 [INF] Sending file. Request path: '"/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2"'. Physical path: '"C:\Users\jhay\Desktop\GitEatList\EatList\IdentityServerWithAspNetIdentity\wwwroot\lib\bootstrap\dist\fonts\glyphicons-halflings-regular.woff2"' (27b0a520)
2018-03-23T09:10:38.4994718+01:00 0HLCG9JSA7JL9:00000002 [INF] Request finished in 74.2342ms 200 font/woff2 (791a596a)
2018-03-23T09:10:38.5786895+01:00 0HLCG9JSA7JLB:00000001 [INF] Request finished in 241.1926ms 200 image/svg+xml (791a596a)
2018-03-23T09:10:48.2913804+01:00 0HLCG9JSA7JLB:00000002 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Logout application/x-www-form-urlencoded 225 (ca22a1cb)
2018-03-23T09:10:48.2922746+01:00 0HLCG9JSA7JLB:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:10:48.2923229+01:00 0HLCG9JSA7JLB:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:10:48.3049408+01:00 0HLCG9JSA7JLB:00000002 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServer4.Quickstart.UI.LogoutInputModel"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:10:48.3052877+01:00 0HLCG9JSA7JLB:00000002 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T09:10:48.3054557+01:00 0HLCG9JSA7JLB:00000002 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T09:10:48.3056024+01:00 0HLCG9JSA7JLB:00000002 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T09:10:48.3056537+01:00 0HLCG9JSA7JLB:00000002 [INF] User logged out. (f9c27106)
2018-03-23T09:10:48.3057667+01:00 0HLCG9JSA7JLB:00000002 [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T09:10:48.3075299+01:00 0HLCG9JSA7JLB:00000002 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 3.7505ms (afa2e885)
2018-03-23T09:10:48.3077471+01:00 0HLCG9JSA7JLB:00000002 [INF] Request finished in 16.7028ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T09:11:05.4179752+01:00 0HLCG9JSA7JLB:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/   (ca22a1cb)
2018-03-23T09:11:05.4189113+01:00 0HLCG9JSA7JLB:00000003 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.HomeController.Index (IdentityServerWithAspNetIdentity)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:11:05.4190546+01:00 0HLCG9JSA7JLB:00000003 [INF] Executing ViewResult, running view at path "/Views/Home/Index.cshtml". (9707eebe)
2018-03-23T09:11:05.4469248+01:00 0HLCG9JSA7JLB:00000003 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.HomeController.Index (IdentityServerWithAspNetIdentity)" in 28.1656ms (afa2e885)
2018-03-23T09:11:05.4470869+01:00 0HLCG9JSA7JLB:00000003 [INF] Request finished in 29.1287ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T09:11:06.7167412+01:00 0HLCG9JSA7JLB:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login   (ca22a1cb)
2018-03-23T09:11:06.7177333+01:00 0HLCG9JSA7JLB:00000004 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments ([""]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:11:06.7178868+01:00 0HLCG9JSA7JLB:00000004 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T09:11:06.7181533+01:00 0HLCG9JSA7JLB:00000004 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T09:11:06.7382153+01:00 0HLCG9JSA7JLB:00000004 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 20.8977ms (afa2e885)
2018-03-23T09:11:06.7383458+01:00 0HLCG9JSA7JLB:00000004 [INF] Request finished in 21.6409ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T09:11:18.0505871+01:00 0HLCG9JSA7JKD:00000011 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T09:11:18.0511067+01:00 0HLCG9JSA7JKD:00000011 [INF] Policy execution successful. (0204925d)
2018-03-23T09:11:18.0517713+01:00 0HLCG9JSA7JKD:00000011 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T09:11:18.0521246+01:00 0HLCG9JSA7JKD:00000011 [INF] Request finished in 1.6037ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:11:18.0641925+01:00 0HLCG9JSA7JLB:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=ed6925d1ce1146c58fce4c8526704ed2&nonce=b80d56fcf8a74cf1b6583692ab0812ea   (ca22a1cb)
2018-03-23T09:11:18.0653766+01:00 0HLCG9JSA7JLB:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T09:11:18.0659193+01:00 0HLCG9JSA7JLB:00000005 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"ed6925d1ce1146c58fce4c8526704ed2\",
  \"Nonce\": \"b80d56fcf8a74cf1b6583692ab0812ea\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"ed6925d1ce1146c58fce4c8526704ed2\",
    \"nonce\": \"b80d56fcf8a74cf1b6583692ab0812ea\"
  }
}" (9a175e33)
2018-03-23T09:11:18.0660301+01:00 0HLCG9JSA7JLB:00000005 [INF] Showing login: User is not authenticated (4b8d50b2)
2018-03-23T09:11:18.0687183+01:00 0HLCG9JSA7JLB:00000005 [INF] Request finished in 4.4193ms 302  (791a596a)
2018-03-23T09:11:18.0710477+01:00 0HLCG9JSA7JLB:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Ded6925d1ce1146c58fce4c8526704ed2%26nonce%3Db80d56fcf8a74cf1b6583692ab0812ea   (ca22a1cb)
2018-03-23T09:11:18.0926382+01:00 0HLCG9JSA7JLB:00000006 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=ed6925d1ce1146c58fce4c8526704ed2&nonce=b80d56fcf8a74cf1b6583692ab0812ea"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:11:18.0928115+01:00 0HLCG9JSA7JLB:00000006 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T09:11:18.0932711+01:00 0HLCG9JSA7JLB:00000006 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T09:11:18.0952637+01:00 0HLCG9JSA7JLB:00000006 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 23.3036ms (afa2e885)
2018-03-23T09:11:18.0953629+01:00 0HLCG9JSA7JLB:00000006 [INF] Request finished in 24.6354ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T09:11:20.4746893+01:00 0HLCG9JSA7JLB:00000007 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Ded6925d1ce1146c58fce4c8526704ed2%26nonce%3Db80d56fcf8a74cf1b6583692ab0812ea application/x-www-form-urlencoded 233 (ca22a1cb)
2018-03-23T09:11:20.4788255+01:00 0HLCG9JSA7JLB:00000007 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=ed6925d1ce1146c58fce4c8526704ed2&nonce=b80d56fcf8a74cf1b6583692ab0812ea"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:11:20.4794624+01:00 0HLCG9JSA7JLB:00000007 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T09:11:20.4878068+01:00 0HLCG9JSA7JLB:00000007 [INF] Executed DbCommand ("7"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T09:11:20.5111160+01:00 0HLCG9JSA7JLB:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T09:11:20.5155114+01:00 0HLCG9JSA7JLB:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T09:11:20.5491100+01:00 0HLCG9JSA7JLB:00000007 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T09:11:20.5494962+01:00 0HLCG9JSA7JLB:00000007 [INF] User logged in. (fdce0db4)
2018-03-23T09:11:20.5499170+01:00 0HLCG9JSA7JLB:00000007 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=ed6925d1ce1146c58fce4c8526704ed2&nonce=b80d56fcf8a74cf1b6583692ab0812ea". (d98d540e)
2018-03-23T09:11:20.5501107+01:00 0HLCG9JSA7JLB:00000007 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 73.4289ms (afa2e885)
2018-03-23T09:11:20.5503524+01:00 0HLCG9JSA7JLB:00000007 [INF] Request finished in 75.6536ms 302  (791a596a)
2018-03-23T09:11:20.5533138+01:00 0HLCG9JSA7JLB:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=ed6925d1ce1146c58fce4c8526704ed2&nonce=b80d56fcf8a74cf1b6583692ab0812ea   (ca22a1cb)
2018-03-23T09:11:20.5542910+01:00 0HLCG9JSA7JLB:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:11:20.5543629+01:00 0HLCG9JSA7JLB:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:11:20.5546139+01:00 0HLCG9JSA7JLB:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T09:11:20.5552164+01:00 0HLCG9JSA7JLB:00000008 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"ed6925d1ce1146c58fce4c8526704ed2\",
  \"Nonce\": \"b80d56fcf8a74cf1b6583692ab0812ea\",
  \"SessionId\": \"f7967655668aeabc239d64040b4143b9\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"ed6925d1ce1146c58fce4c8526704ed2\",
    \"nonce\": \"b80d56fcf8a74cf1b6583692ab0812ea\"
  }
}" (9a175e33)
2018-03-23T09:11:20.5556369+01:00 0HLCG9JSA7JLB:00000008 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T09:11:20.5589849+01:00 0HLCG9JSA7JLB:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T09:11:20.5607105+01:00 0HLCG9JSA7JLB:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T09:11:20.5629920+01:00 0HLCG9JSA7JLB:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T09:11:20.5746726+01:00 0HLCG9JSA7JLB:00000008 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"ed6925d1ce1146c58fce4c8526704ed2\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T09:11:20.5751117+01:00 0HLCG9JSA7JLB:00000008 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T09:11:20.5753906+01:00 0HLCG9JSA7JLB:00000008 [INF] Request finished in 22.1237ms 302  (791a596a)
2018-03-23T09:11:22.6942402+01:00 0HLCG9JSA7JKD:00000012 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T09:11:22.6947294+01:00 0HLCG9JSA7JKD:00000012 [INF] Policy execution successful. (0204925d)
2018-03-23T09:11:22.6952790+01:00 0HLCG9JSA7JKD:00000012 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T09:11:22.6967928+01:00 0HLCG9JSA7JKD:00000012 [INF] Request finished in 2.5505ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:11:22.9238887+01:00 0HLCG9JSA7JKD:00000013 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T09:11:22.9250597+01:00 0HLCG9JSA7JKD:00000013 [INF] Policy execution successful. (0204925d)
2018-03-23T09:11:22.9260219+01:00 0HLCG9JSA7JKD:00000013 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T09:11:22.9269623+01:00 0HLCG9JSA7JKD:00000013 [INF] Request finished in 3.2078ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:11:23.0269683+01:00 0HLCG9JSA7JKD:00000014 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T09:11:23.0274771+01:00 0HLCG9JSA7JKD:00000014 [INF] Policy execution successful. (0204925d)
2018-03-23T09:11:23.0278732+01:00 0HLCG9JSA7JKD:00000014 [INF] Request finished in 0.842ms 204  (791a596a)
2018-03-23T09:11:23.1605745+01:00 0HLCG9JSA7JKD:00000015 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T09:11:23.1612950+01:00 0HLCG9JSA7JKD:00000015 [INF] Policy execution successful. (0204925d)
2018-03-23T09:11:23.1621726+01:00 0HLCG9JSA7JKD:00000015 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T09:11:23.1670637+01:00 0HLCG9JSA7JKD:00000015 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T09:11:23.2054268+01:00 0HLCG9JSA7JKD:00000015 [INF] Executed DbCommand ("36"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T09:11:23.2581307+01:00 0HLCG9JSA7JKD:00000015 [INF] Executed DbCommand ("49"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T09:11:23.2936128+01:00 0HLCG9JSA7JKD:00000015 [INF] Executed DbCommand ("34"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T09:11:23.2941148+01:00 0HLCG9JSA7JKD:00000015 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T09:11:23.2948230+01:00 0HLCG9JSA7JKD:00000015 [INF] Request finished in 134.2404ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:11:23.3767092+01:00 0HLCG9JSA7JLB:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T09:11:23.3777937+01:00 0HLCG9JSA7JLB:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:11:23.3780974+01:00 0HLCG9JSA7JLB:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:11:23.3785036+01:00 0HLCG9JSA7JLB:00000009 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T09:11:23.3792221+01:00 0HLCG9JSA7JLB:00000009 [INF] Request finished in 2.4038ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T09:12:01.6644506+01:00 0HLCG9JSA7JKD:00000016 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T09:12:01.6652487+01:00 0HLCG9JSA7JKD:00000016 [INF] Policy execution successful. (0204925d)
2018-03-23T09:12:01.6662241+01:00 0HLCG9JSA7JKD:00000016 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T09:12:01.6670722+01:00 0HLCG9JSA7JKD:00000016 [INF] Request finished in 2.754ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:12:02.3090163+01:00 0HLCG9JSA7JLB:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T09:12:02.3138288+01:00 0HLCG9JSA7JLB:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:02.3143727+01:00 0HLCG9JSA7JLB:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:02.3153773+01:00 0HLCG9JSA7JLB:0000000A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T09:12:02.3220530+01:00 0HLCG9JSA7JLB:0000000A [INF] Request finished in 12.9998ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T09:12:11.9880779+01:00 0HLCG9JSA7JLB:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Ded6925d1ce1146c58fce4c8526704ed2%26nonce%3Db80d56fcf8a74cf1b6583692ab0812ea   (ca22a1cb)
2018-03-23T09:12:11.9904120+01:00 0HLCG9JSA7JLB:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:11.9904778+01:00 0HLCG9JSA7JLB:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:11.9909594+01:00 0HLCG9JSA7JLB:0000000B [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=ed6925d1ce1146c58fce4c8526704ed2&nonce=b80d56fcf8a74cf1b6583692ab0812ea"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:12:11.9911112+01:00 0HLCG9JSA7JLB:0000000B [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T09:12:11.9916265+01:00 0HLCG9JSA7JLB:0000000B [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T09:12:11.9950772+01:00 0HLCG9JSA7JLB:0000000B [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 4.3795ms (afa2e885)
2018-03-23T09:12:11.9952611+01:00 0HLCG9JSA7JLB:0000000B [INF] Request finished in 7.3611ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T09:12:14.2691197+01:00 0HLCG9JSA7JLB:0000000C [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Ded6925d1ce1146c58fce4c8526704ed2%26nonce%3Db80d56fcf8a74cf1b6583692ab0812ea application/x-www-form-urlencoded 276 (ca22a1cb)
2018-03-23T09:12:14.2699981+01:00 0HLCG9JSA7JLB:0000000C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:14.2700666+01:00 0HLCG9JSA7JLB:0000000C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:14.2706717+01:00 0HLCG9JSA7JLB:0000000C [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=ed6925d1ce1146c58fce4c8526704ed2&nonce=b80d56fcf8a74cf1b6583692ab0812ea"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:12:14.2713016+01:00 0HLCG9JSA7JLB:0000000C [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T09:12:14.2786902+01:00 0HLCG9JSA7JLB:0000000C [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T09:12:14.2923622+01:00 0HLCG9JSA7JLB:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T09:12:14.2955188+01:00 0HLCG9JSA7JLB:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T09:12:14.2959602+01:00 0HLCG9JSA7JLB:0000000C [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T09:12:14.2959999+01:00 0HLCG9JSA7JLB:0000000C [INF] User logged in. (fdce0db4)
2018-03-23T09:12:14.2960692+01:00 0HLCG9JSA7JLB:0000000C [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=ed6925d1ce1146c58fce4c8526704ed2&nonce=b80d56fcf8a74cf1b6583692ab0812ea". (d98d540e)
2018-03-23T09:12:14.2961654+01:00 0HLCG9JSA7JLB:0000000C [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 25.9782ms (afa2e885)
2018-03-23T09:12:14.2962800+01:00 0HLCG9JSA7JLB:0000000C [INF] Request finished in 27.2419ms 302  (791a596a)
2018-03-23T09:12:14.2989998+01:00 0HLCG9JSA7JLB:0000000D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=ed6925d1ce1146c58fce4c8526704ed2&nonce=b80d56fcf8a74cf1b6583692ab0812ea   (ca22a1cb)
2018-03-23T09:12:14.3000331+01:00 0HLCG9JSA7JLB:0000000D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:14.3001032+01:00 0HLCG9JSA7JLB:0000000D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:14.3002230+01:00 0HLCG9JSA7JLB:0000000D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T09:12:14.3016197+01:00 0HLCG9JSA7JLB:0000000D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"ed6925d1ce1146c58fce4c8526704ed2\",
  \"Nonce\": \"b80d56fcf8a74cf1b6583692ab0812ea\",
  \"SessionId\": \"df6e09ef356dd900c56de9da59499433\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"ed6925d1ce1146c58fce4c8526704ed2\",
    \"nonce\": \"b80d56fcf8a74cf1b6583692ab0812ea\"
  }
}" (9a175e33)
2018-03-23T09:12:14.3025101+01:00 0HLCG9JSA7JLB:0000000D [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T09:12:14.3218378+01:00 0HLCG9JSA7JLB:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T09:12:14.3229040+01:00 0HLCG9JSA7JLB:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T09:12:14.3238290+01:00 0HLCG9JSA7JLB:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T09:12:14.3332138+01:00 0HLCG9JSA7JLB:0000000D [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"ed6925d1ce1146c58fce4c8526704ed2\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T09:12:14.3337202+01:00 0HLCG9JSA7JLB:0000000D [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T09:12:14.3339537+01:00 0HLCG9JSA7JLB:0000000D [INF] Request finished in 35.2963ms 302  (791a596a)
2018-03-23T09:12:16.3263424+01:00 0HLCG9JSA7JKD:00000017 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T09:12:16.3267691+01:00 0HLCG9JSA7JKD:00000017 [INF] Policy execution successful. (0204925d)
2018-03-23T09:12:16.3272220+01:00 0HLCG9JSA7JKD:00000017 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T09:12:16.3276252+01:00 0HLCG9JSA7JKD:00000017 [INF] Request finished in 1.3612ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:12:16.6563801+01:00 0HLCG9JSA7JLB:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T09:12:16.6578490+01:00 0HLCG9JSA7JLB:0000000E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:16.6579705+01:00 0HLCG9JSA7JLB:0000000E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:16.6581270+01:00 0HLCG9JSA7JLB:0000000E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T09:12:16.6705635+01:00 0HLCG9JSA7JLB:0000000E [INF] Request finished in 14.2233ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T09:12:19.1098462+01:00 0HLCG9JSA7JLB:0000000F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%2Fcallback&response_type=id_token&scope=openid&state=179e47be562744d7a483d695f8d1891c&nonce=44004e6c5d8241bbbe8f89159fc03998&prompt=none   (ca22a1cb)
2018-03-23T09:12:19.1108695+01:00 0HLCG9JSA7JLB:0000000F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:19.1109354+01:00 0HLCG9JSA7JLB:0000000F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:19.1110569+01:00 0HLCG9JSA7JLB:0000000F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T09:12:19.1251818+01:00 0HLCG9JSA7JLB:0000000F [ERR] Invalid redirect_uri: "http://localhost/callback"
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost/callback\",
    \"response_type\": \"id_token\",
    \"scope\": \"openid\",
    \"state\": \"179e47be562744d7a483d695f8d1891c\",
    \"nonce\": \"44004e6c5d8241bbbe8f89159fc03998\",
    \"prompt\": \"none\"
  }
}" (aa493bc4)
2018-03-23T09:12:19.1296949+01:00 0HLCG9JSA7JLB:0000000F [ERR] Request validation failed (abd529bc)
2018-03-23T09:12:19.1299019+01:00 0HLCG9JSA7JLB:0000000F [INF] "{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost/callback\",
    \"response_type\": \"id_token\",
    \"scope\": \"openid\",
    \"state\": \"179e47be562744d7a483d695f8d1891c\",
    \"nonce\": \"44004e6c5d8241bbbe8f89159fc03998\",
    \"prompt\": \"none\"
  }
}" (9899f104)
2018-03-23T09:12:19.1497248+01:00 0HLCG9JSA7JLB:0000000F [INF] Request finished in 39.9013ms 302  (791a596a)
2018-03-23T09:12:19.1516198+01:00 0HLCG9JSA7JLB:00000010 [INF] Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8I8cZ24bSc5BkaJobKJXk0K2tuVBrhpI9SoHbcq1y9LBm3h_Ezf60K1SGe9HF6RK6Q_8pY9Xd9m3r-qY4CxZIhCHSSp8HmOpztLBOu-FdJMSOQ7KAB_vMUyO-cdiT0wNQDJeTMkJKqDZ6G2b5Refq4BCvOb4FXpRt3-OKn6FOGtuoFi36U1GZjCBl6I3iCPMJkNBPW4Rb27L6WOh56ePCrMYyx7eFlfALPwWkPhwHP66bBdwDR82hUbJmfHn3SKSIV_HRhnAgscdLnsVnn0eq0EbEh1c0nuRUland_tEvWcn2VobgfSQw6JxlpMEO2qzoQ   (ca22a1cb)
2018-03-23T09:12:19.1524448+01:00 0HLCG9JSA7JLB:00000010 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:19.1525030+01:00 0HLCG9JSA7JLB:00000010 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:19.1881530+01:00 0HLCG9JSA7JLB:00000010 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.HomeController.Error (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0K2tuVBrhpI9SoHbcq1y9LBm3h_Ezf60K1SGe9HF6RK6Q_8pY9Xd9m3r-qY4CxZIhCHSSp8HmOpztLBOu-FdJMSOQ7KAB_vMUyO-cdiT0wNQDJeTMkJKqDZ6G2b5Refq4BCvOb4FXpRt3-OKn6FOGtuoFi36U1GZjCBl6I3iCPMJkNBPW4Rb27L6WOh56ePCrMYyx7eFlfALPwWkPhwHP66bBdwDR82hUbJmfHn3SKSIV_HRhnAgscdLnsVnn0eq0EbEh1c0nuRUland_tEvWcn2VobgfSQw6JxlpMEO2qzoQ"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:12:19.6056338+01:00 0HLCG9JSA7JLB:00000010 [INF] Executing ViewResult, running view at path "/Views/Shared/Error.cshtml". (9707eebe)
2018-03-23T09:12:19.6158688+01:00 0HLCG9JSA7JLB:00000010 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.HomeController.Error (IdentityServerWithAspNetIdentity)" in 427.8732ms (afa2e885)
2018-03-23T09:12:19.6159851+01:00 0HLCG9JSA7JLB:00000010 [INF] Request finished in 464.6275ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T09:12:22.0404842+01:00 0HLCG9JSA7JLB:00000011 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Ded6925d1ce1146c58fce4c8526704ed2%26nonce%3Db80d56fcf8a74cf1b6583692ab0812ea   (ca22a1cb)
2018-03-23T09:12:22.0416804+01:00 0HLCG9JSA7JLB:00000011 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:22.0417522+01:00 0HLCG9JSA7JLB:00000011 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:22.0422192+01:00 0HLCG9JSA7JLB:00000011 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=ed6925d1ce1146c58fce4c8526704ed2&nonce=b80d56fcf8a74cf1b6583692ab0812ea"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:12:22.0425331+01:00 0HLCG9JSA7JLB:00000011 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T09:12:22.0429399+01:00 0HLCG9JSA7JLB:00000011 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T09:12:22.0673721+01:00 0HLCG9JSA7JLB:00000011 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 25.4432ms (afa2e885)
2018-03-23T09:12:22.0676189+01:00 0HLCG9JSA7JLB:00000011 [INF] Request finished in 27.2569ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T09:12:25.9549249+01:00 0HLCG9JSA7JLB:00000012 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T09:12:25.9569079+01:00 0HLCG9JSA7JLB:00000012 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:25.9570276+01:00 0HLCG9JSA7JLB:00000012 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:25.9571046+01:00 0HLCG9JSA7JLB:00000012 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T09:12:25.9581404+01:00 0HLCG9JSA7JLB:00000012 [INF] Request finished in 3.2501ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T09:12:28.1345509+01:00 0HLCG9JSA7JLB:00000013 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%2Fcallback&response_type=id_token&scope=openid&state=b4801f2f4c8b409fb4eb096daf4ec499&nonce=2bf4eeddbe5749319375077a40e05645&prompt=none   (ca22a1cb)
2018-03-23T09:12:28.1355798+01:00 0HLCG9JSA7JLB:00000013 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:28.1356436+01:00 0HLCG9JSA7JLB:00000013 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:28.1357702+01:00 0HLCG9JSA7JLB:00000013 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T09:12:28.1362085+01:00 0HLCG9JSA7JLB:00000013 [ERR] Invalid redirect_uri: "http://localhost/callback"
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost/callback\",
    \"response_type\": \"id_token\",
    \"scope\": \"openid\",
    \"state\": \"b4801f2f4c8b409fb4eb096daf4ec499\",
    \"nonce\": \"2bf4eeddbe5749319375077a40e05645\",
    \"prompt\": \"none\"
  }
}" (aa493bc4)
2018-03-23T09:12:28.1362542+01:00 0HLCG9JSA7JLB:00000013 [ERR] Request validation failed (abd529bc)
2018-03-23T09:12:28.1363847+01:00 0HLCG9JSA7JLB:00000013 [INF] "{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost/callback\",
    \"response_type\": \"id_token\",
    \"scope\": \"openid\",
    \"state\": \"b4801f2f4c8b409fb4eb096daf4ec499\",
    \"nonce\": \"2bf4eeddbe5749319375077a40e05645\",
    \"prompt\": \"none\"
  }
}" (9899f104)
2018-03-23T09:12:28.1366455+01:00 0HLCG9JSA7JLB:00000013 [INF] Request finished in 2.1442ms 302  (791a596a)
2018-03-23T09:12:28.1387188+01:00 0HLCG9JSA7JLB:00000014 [INF] Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8I8cZ24bSc5BkaJobKJXk0IOgvn41y4CpXFk_bkOfaFde_-SdE0CsnDaulg3n5hR8v5_j1xxBGEgJXqaJS-ZVX1DS43xEuowH1t8wlJ49dEUWTuSr1wq1TEiuSR5Ti4DK6kp67lonpW1VpKCGhIHBhCLcL-qGSSycL-kaLVykYfnT--slqetgb85CXVhT2cmK-V-MrBDwNC5gGhQzgp2BaIbXtzGZ3ivL2PDw7VHhAouUVsBTwYnzu3X8tt97O9cb8Shf7kwk-uwl6E1RYsF2ltLhJpXhDLAYvliWpoa6INXnBit0Xpt_lyVoEMYLztajw   (ca22a1cb)
2018-03-23T09:12:28.1397913+01:00 0HLCG9JSA7JLB:00000014 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:28.1398512+01:00 0HLCG9JSA7JLB:00000014 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:28.1401839+01:00 0HLCG9JSA7JLB:00000014 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.HomeController.Error (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0IOgvn41y4CpXFk_bkOfaFde_-SdE0CsnDaulg3n5hR8v5_j1xxBGEgJXqaJS-ZVX1DS43xEuowH1t8wlJ49dEUWTuSr1wq1TEiuSR5Ti4DK6kp67lonpW1VpKCGhIHBhCLcL-qGSSycL-kaLVykYfnT--slqetgb85CXVhT2cmK-V-MrBDwNC5gGhQzgp2BaIbXtzGZ3ivL2PDw7VHhAouUVsBTwYnzu3X8tt97O9cb8Shf7kwk-uwl6E1RYsF2ltLhJpXhDLAYvliWpoa6INXnBit0Xpt_lyVoEMYLztajw"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:12:28.1404533+01:00 0HLCG9JSA7JLB:00000014 [INF] Executing ViewResult, running view at path "/Views/Shared/Error.cshtml". (9707eebe)
2018-03-23T09:12:28.1414793+01:00 0HLCG9JSA7JLB:00000014 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.HomeController.Error (IdentityServerWithAspNetIdentity)" in 1.5002ms (afa2e885)
2018-03-23T09:12:28.1435123+01:00 0HLCG9JSA7JLB:00000014 [INF] Request finished in 4.8183ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T09:12:28.6121705+01:00 0HLCG9JSA7JLB:00000015 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE3OTI2ODAsImV4cCI6MTUyMTc5Mjk4MCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiJiODBkNTZmY2Y4YTc0Y2YxYjY1ODM2OTJhYjA4MTJlYSIsImlhdCI6MTUyMTc5MjY4MCwiYXRfaGFzaCI6Ikk5YXBWZDFYeWY4aFU0S0pPS2dWMkEiLCJzaWQiOiJmNzk2NzY1NTY2OGFlYWJjMjM5ZDY0MDQwYjQxNDNiOSIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTc5MjY4MCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.cDcvGgtIAEpu0i2-6_UWftmK-ZZNfaYKWh3uTjycMPQ5UZcGnybK7q9a7h1c04uQz3mczqKr8M3REMNF9YfmtMgYii8g0b2I04qaXbfr1a7SiT_68Ki3tbMuLutRQZRTL6LnhbDgXGGXph9UGswwkIu089nVGXK9h7OYhoCnppacLPWTbOLzunW4hX-8ukzTN4PKSn7vOZFI5k1C3v9JJKPeHOxK04f5J-MEtTftoFP5HCZ02NbqnJRpBHqNUG1cGOYZeOHL09qtqz5sj_8fFzpqyFF37Qh7avA4DI2uzkCFj-fxK2UCc6sNh5Nd68jlEaJEu5U7-Aol7CjuWq9KLw&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fhome   (ca22a1cb)
2018-03-23T09:12:28.6133453+01:00 0HLCG9JSA7JLB:00000015 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:28.6134295+01:00 0HLCG9JSA7JLB:00000015 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:28.6135629+01:00 0HLCG9JSA7JLB:00000015 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2018-03-23T09:12:28.6210191+01:00 0HLCG9JSA7JLB:00000015 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T09:12:28.6238129+01:00 0HLCG9JSA7JLB:00000015 [INF] Executed DbCommand ("0"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T09:12:28.6255480+01:00 0HLCG9JSA7JLB:00000015 [INF] End session request validation success
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"PostLogOutUri\": \"http://localhost:51540/home\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE3OTI2ODAsImV4cCI6MTUyMTc5Mjk4MCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiJiODBkNTZmY2Y4YTc0Y2YxYjY1ODM2OTJhYjA4MTJlYSIsImlhdCI6MTUyMTc5MjY4MCwiYXRfaGFzaCI6Ikk5YXBWZDFYeWY4aFU0S0pPS2dWMkEiLCJzaWQiOiJmNzk2NzY1NTY2OGFlYWJjMjM5ZDY0MDQwYjQxNDNiOSIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTc5MjY4MCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.cDcvGgtIAEpu0i2-6_UWftmK-ZZNfaYKWh3uTjycMPQ5UZcGnybK7q9a7h1c04uQz3mczqKr8M3REMNF9YfmtMgYii8g0b2I04qaXbfr1a7SiT_68Ki3tbMuLutRQZRTL6LnhbDgXGGXph9UGswwkIu089nVGXK9h7OYhoCnppacLPWTbOLzunW4hX-8ukzTN4PKSn7vOZFI5k1C3v9JJKPeHOxK04f5J-MEtTftoFP5HCZ02NbqnJRpBHqNUG1cGOYZeOHL09qtqz5sj_8fFzpqyFF37Qh7avA4DI2uzkCFj-fxK2UCc6sNh5Nd68jlEaJEu5U7-Aol7CjuWq9KLw\",
    \"post_logout_redirect_uri\": \"http://localhost:51540/home\"
  }
}" (8a893fca)
2018-03-23T09:12:28.6262788+01:00 0HLCG9JSA7JLB:00000015 [INF] Request finished in 13.968ms 302  (791a596a)
2018-03-23T09:12:28.6294173+01:00 0HLCG9JSA7JLB:00000016 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8I8cZ24bSc5BkaJobKJXk0J22AJLb9s9E1z2nTTncR7m46NDCbCVFBrSx_jVi-C34EMrZWoHLUkLE4ZOYNizqFjbzfRGb3kMhXCwU3gspMMg00q-mTVCCnPDeM27_UNQo7IAMaRsqoa9mY-EU389mHVkWhx87v7L22MbudjixFDDj3HaPG98aPhA66NH6rgKrqA5E1JkIGdv7GXD-rsUVazxa3SCtIGpD44j74ckw3JW0_xC-6tGYj3ZbCYyVRl_32Fqxz8cub3KdfFBKRBybiQjaCYBEUtn7p_qNc5HgWJRK1nEqtJg1WTeG7O4irBlyZg1kEcnDdqgDZxmQWBhc1wgrs8KrC5bECbsWSbnuNQUjhQ8zTr065bL-g34u0k-Mt-O4JcP0An_jdtEZ8PsxT13WcO89iHBG0byhbe8UwlLzBUjaaiZ0zKW3fM1a8sBPk4ZWyXvxsCS21n-LKKHu5DVF8FI2BTUSrxch6Hu9ap6   (ca22a1cb)
2018-03-23T09:12:28.6317660+01:00 0HLCG9JSA7JLB:00000016 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:28.6318776+01:00 0HLCG9JSA7JLB:00000016 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:28.6323399+01:00 0HLCG9JSA7JLB:00000016 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0J22AJLb9s9E1z2nTTncR7m46NDCbCVFBrSx_jVi-C34EMrZWoHLUkLE4ZOYNizqFjbzfRGb3kMhXCwU3gspMMg00q-mTVCCnPDeM27_UNQo7IAMaRsqoa9mY-EU389mHVkWhx87v7L22MbudjixFDDj3HaPG98aPhA66NH6rgKrqA5E1JkIGdv7GXD-rsUVazxa3SCtIGpD44j74ckw3JW0_xC-6tGYj3ZbCYyVRl_32Fqxz8cub3KdfFBKRBybiQjaCYBEUtn7p_qNc5HgWJRK1nEqtJg1WTeG7O4irBlyZg1kEcnDdqgDZxmQWBhc1wgrs8KrC5bECbsWSbnuNQUjhQ8zTr065bL-g34u0k-Mt-O4JcP0An_jdtEZ8PsxT13WcO89iHBG0byhbe8UwlLzBUjaaiZ0zKW3fM1a8sBPk4ZWyXvxsCS21n-LKKHu5DVF8FI2BTUSrxch6Hu9ap6"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:12:28.6332294+01:00 0HLCG9JSA7JLB:00000016 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T09:12:28.6335010+01:00 0HLCG9JSA7JLB:00000016 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T09:12:28.6337045+01:00 0HLCG9JSA7JLB:00000016 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T09:12:28.6338863+01:00 0HLCG9JSA7JLB:00000016 [INF] User logged out. (f9c27106)
2018-03-23T09:12:28.6340660+01:00 0HLCG9JSA7JLB:00000016 [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T09:12:28.6352963+01:00 0HLCG9JSA7JLB:00000016 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 2.9756ms (afa2e885)
2018-03-23T09:12:28.6360656+01:00 0HLCG9JSA7JLB:00000016 [INF] Request finished in 7.0186ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T09:12:28.8717822+01:00 0HLCG9JSA7JLB:00000017 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8I8cZ24bSc5BkaJobKJXk0L5LjGUqcocpg8kJ4MCh0_IDEgtKsCYuUPXcE4WR3t6x45pNCVAsk2LWnGkSPieZluFr5ZpJfZA0szjw6zOf_Qqj5RVOApjLKQsHOOGtrXMQQ1Rzp5ykOItYiCuFbRvhO8UK2F8zNluv1-rE3uo6QWQX1iCs0h2gFtquyK7Io-wya7uZPeWrp-l0HW59gaNTV2Do75u3ongs2EYHAv1FmIRxOp8yyoYJK0muSk9-1owievv4rgmBShyK-szluS4h2uOTViVGOiUejN7svH76z80pF26USrYT4dfbj2Te-T9oAZ9xJZgC3ieLtes6azw20o   (ca22a1cb)
2018-03-23T09:12:28.8730767+01:00 0HLCG9JSA7JLB:00000017 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback" (f7642de5)
2018-03-23T09:12:28.8734762+01:00 0HLCG9JSA7JLB:00000017 [INF] Successful signout callback. (d13fac4f)
2018-03-23T09:12:28.8942733+01:00 0HLCG9JSA7JLB:00000017 [INF] Request finished in 22.5326ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T09:12:35.2828439+01:00 0HLCG9JSA7JKD:00000018 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T09:12:35.2833393+01:00 0HLCG9JSA7JKD:00000018 [INF] Policy execution successful. (0204925d)
2018-03-23T09:12:35.2839264+01:00 0HLCG9JSA7JKD:00000018 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T09:12:35.2844011+01:00 0HLCG9JSA7JKD:00000018 [INF] Request finished in 1.5801ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:12:35.3098764+01:00 0HLCG9JSA7JLB:00000018 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=29d22ee6c89c4fc49a260b8d097a5279&nonce=eedb7849e72a4826bc65810d18d0e773   (ca22a1cb)
2018-03-23T09:12:35.3109686+01:00 0HLCG9JSA7JLB:00000018 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T09:12:35.3122195+01:00 0HLCG9JSA7JLB:00000018 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"29d22ee6c89c4fc49a260b8d097a5279\",
  \"Nonce\": \"eedb7849e72a4826bc65810d18d0e773\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"29d22ee6c89c4fc49a260b8d097a5279\",
    \"nonce\": \"eedb7849e72a4826bc65810d18d0e773\"
  }
}" (9a175e33)
2018-03-23T09:12:35.3123709+01:00 0HLCG9JSA7JLB:00000018 [INF] Showing login: User is not authenticated (4b8d50b2)
2018-03-23T09:12:35.3127994+01:00 0HLCG9JSA7JLB:00000018 [INF] Request finished in 2.9465ms 302  (791a596a)
2018-03-23T09:12:35.3210972+01:00 0HLCG9JSA7JLB:00000019 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D29d22ee6c89c4fc49a260b8d097a5279%26nonce%3Deedb7849e72a4826bc65810d18d0e773   (ca22a1cb)
2018-03-23T09:12:35.3241001+01:00 0HLCG9JSA7JLB:00000019 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=29d22ee6c89c4fc49a260b8d097a5279&nonce=eedb7849e72a4826bc65810d18d0e773"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:12:35.3249704+01:00 0HLCG9JSA7JLB:00000019 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T09:12:35.3262118+01:00 0HLCG9JSA7JLB:00000019 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T09:12:35.3326079+01:00 0HLCG9JSA7JLB:00000019 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 8.9674ms (afa2e885)
2018-03-23T09:12:35.3336145+01:00 0HLCG9JSA7JLB:00000019 [INF] Request finished in 12.1034ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T09:12:38.4746684+01:00 0HLCG9JSA7JLB:0000001A [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D29d22ee6c89c4fc49a260b8d097a5279%26nonce%3Deedb7849e72a4826bc65810d18d0e773 application/x-www-form-urlencoded 233 (ca22a1cb)
2018-03-23T09:12:38.4767819+01:00 0HLCG9JSA7JLB:0000001A [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=29d22ee6c89c4fc49a260b8d097a5279&nonce=eedb7849e72a4826bc65810d18d0e773"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:12:38.4772292+01:00 0HLCG9JSA7JLB:0000001A [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T09:12:38.4795051+01:00 0HLCG9JSA7JLB:0000001A [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T09:12:38.4935309+01:00 0HLCG9JSA7JLB:0000001A [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T09:12:38.4943746+01:00 0HLCG9JSA7JLB:0000001A [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T09:12:38.4947112+01:00 0HLCG9JSA7JLB:0000001A [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T09:12:38.4947454+01:00 0HLCG9JSA7JLB:0000001A [INF] User logged in. (fdce0db4)
2018-03-23T09:12:38.4948087+01:00 0HLCG9JSA7JLB:0000001A [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=29d22ee6c89c4fc49a260b8d097a5279&nonce=eedb7849e72a4826bc65810d18d0e773". (d98d540e)
2018-03-23T09:12:38.4948981+01:00 0HLCG9JSA7JLB:0000001A [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 19.7148ms (afa2e885)
2018-03-23T09:12:38.5500234+01:00 0HLCG9JSA7JLB:0000001A [INF] Request finished in 20.3952ms 302  (791a596a)
2018-03-23T09:12:38.5788623+01:00 0HLCG9JSA7JLB:0000001B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=29d22ee6c89c4fc49a260b8d097a5279&nonce=eedb7849e72a4826bc65810d18d0e773   (ca22a1cb)
2018-03-23T09:12:38.5797146+01:00 0HLCG9JSA7JLB:0000001B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:38.5797916+01:00 0HLCG9JSA7JLB:0000001B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:38.5801537+01:00 0HLCG9JSA7JLB:0000001B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T09:12:38.6307362+01:00 0HLCG9JSA7JLB:0000001B [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"29d22ee6c89c4fc49a260b8d097a5279\",
  \"Nonce\": \"eedb7849e72a4826bc65810d18d0e773\",
  \"SessionId\": \"761cba44e1aa6ffc2970f3c7aa4b87f4\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"29d22ee6c89c4fc49a260b8d097a5279\",
    \"nonce\": \"eedb7849e72a4826bc65810d18d0e773\"
  }
}" (9a175e33)
2018-03-23T09:12:38.6311455+01:00 0HLCG9JSA7JLB:0000001B [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T09:12:38.6326158+01:00 0HLCG9JSA7JLB:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T09:12:38.6335852+01:00 0HLCG9JSA7JLB:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T09:12:38.6344508+01:00 0HLCG9JSA7JLB:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T09:12:38.6410068+01:00 0HLCG9JSA7JLB:0000001B [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"29d22ee6c89c4fc49a260b8d097a5279\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T09:12:38.6413724+01:00 0HLCG9JSA7JLB:0000001B [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T09:12:38.6415793+01:00 0HLCG9JSA7JLB:0000001B [INF] Request finished in 62.7696ms 302  (791a596a)
2018-03-23T09:12:40.6742161+01:00 0HLCG9JSA7JKD:00000019 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T09:12:40.6746605+01:00 0HLCG9JSA7JKD:00000019 [INF] Policy execution successful. (0204925d)
2018-03-23T09:12:40.6750881+01:00 0HLCG9JSA7JKD:00000019 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T09:12:40.6755898+01:00 0HLCG9JSA7JKD:00000019 [INF] Request finished in 1.4339ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:12:40.8596907+01:00 0HLCG9JSA7JKD:0000001A [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T09:12:40.8601184+01:00 0HLCG9JSA7JKD:0000001A [INF] Policy execution successful. (0204925d)
2018-03-23T09:12:40.8606590+01:00 0HLCG9JSA7JKD:0000001A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T09:12:40.8610618+01:00 0HLCG9JSA7JKD:0000001A [INF] Request finished in 1.3124ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:12:40.9908816+01:00 0HLCG9JSA7JKD:0000001B [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T09:12:40.9917154+01:00 0HLCG9JSA7JKD:0000001B [INF] Policy execution successful. (0204925d)
2018-03-23T09:12:40.9922846+01:00 0HLCG9JSA7JKD:0000001B [INF] Request finished in 1.3133ms 204  (791a596a)
2018-03-23T09:12:41.0192089+01:00 0HLCG9JSA7JKD:0000001C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T09:12:41.0199286+01:00 0HLCG9JSA7JKD:0000001C [INF] Policy execution successful. (0204925d)
2018-03-23T09:12:41.0207831+01:00 0HLCG9JSA7JKD:0000001C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T09:12:41.0264315+01:00 0HLCG9JSA7JKD:0000001C [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T09:12:41.0536932+01:00 0HLCG9JSA7JKD:0000001C [INF] Executed DbCommand ("25"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T09:12:41.0914802+01:00 0HLCG9JSA7JKD:0000001C [INF] Executed DbCommand ("36"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T09:12:41.1390250+01:00 0HLCG9JSA7JKD:0000001C [INF] Executed DbCommand ("26"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T09:12:41.1393769+01:00 0HLCG9JSA7JKD:0000001C [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T09:12:41.1397212+01:00 0HLCG9JSA7JKD:0000001C [INF] Request finished in 120.7368ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:12:41.2425261+01:00 0HLCG9JSA7JLB:0000001C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T09:12:41.2436021+01:00 0HLCG9JSA7JLB:0000001C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:41.2631090+01:00 0HLCG9JSA7JLB:0000001C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:12:41.2633203+01:00 0HLCG9JSA7JLB:0000001C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T09:12:41.2636676+01:00 0HLCG9JSA7JLB:0000001C [INF] Request finished in 21.2193ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T09:14:12.7638634+01:00 0HLCG9JSA7JKD:0000001D [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T09:14:12.7647110+01:00 0HLCG9JSA7JKD:0000001D [INF] Policy execution successful. (0204925d)
2018-03-23T09:14:12.7653478+01:00 0HLCG9JSA7JKD:0000001D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T09:14:12.7660197+01:00 0HLCG9JSA7JKD:0000001D [INF] Request finished in 2.2088ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:14:13.5893646+01:00 0HLCG9JSA7JLB:0000001D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T09:14:13.6166403+01:00 0HLCG9JSA7JLB:0000001D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:14:13.6167322+01:00 0HLCG9JSA7JLB:0000001D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:14:13.6168122+01:00 0HLCG9JSA7JLB:0000001D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T09:14:13.6172877+01:00 0HLCG9JSA7JLB:0000001D [INF] Request finished in 27.9758ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T09:15:04.5092164+01:00 0HLCG9JSA7JLI:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D29d22ee6c89c4fc49a260b8d097a5279%26nonce%3Deedb7849e72a4826bc65810d18d0e773   (ca22a1cb)
2018-03-23T09:15:04.5103055+01:00 0HLCG9JSA7JLI:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:15:04.5104753+01:00 0HLCG9JSA7JLI:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:15:04.5111305+01:00 0HLCG9JSA7JLI:00000001 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=29d22ee6c89c4fc49a260b8d097a5279&nonce=eedb7849e72a4826bc65810d18d0e773"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:15:04.5112776+01:00 0HLCG9JSA7JLI:00000001 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T09:15:04.5116522+01:00 0HLCG9JSA7JLI:00000001 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T09:15:04.5142002+01:00 0HLCG9JSA7JLI:00000001 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 3.4708ms (afa2e885)
2018-03-23T09:15:04.5147656+01:00 0HLCG9JSA7JLI:00000001 [INF] Request finished in 5.5167ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T09:15:08.9806828+01:00 0HLCG9JSA7JLI:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T09:15:09.1278790+01:00 0HLCG9JSA7JLI:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:15:09.1280082+01:00 0HLCG9JSA7JLI:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:15:09.1281592+01:00 0HLCG9JSA7JLI:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T09:15:09.1285633+01:00 0HLCG9JSA7JLI:00000002 [INF] Request finished in 147.9197ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T09:15:11.0150940+01:00 0HLCG9JSA7JLI:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE3OTI3NTgsImV4cCI6MTUyMTc5MzA1OCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiJlZWRiNzg0OWU3MmE0ODI2YmM2NTgxMGQxOGQwZTc3MyIsImlhdCI6MTUyMTc5Mjc1OCwiYXRfaGFzaCI6InYxUkw4aDNKTVpIb0FFdDdCZlpjZUEiLCJzaWQiOiI3NjFjYmE0NGUxYWE2ZmZjMjk3MGYzYzdhYTRiODdmNCIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTc5Mjc1OCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.IANgSHKh8-quFTWzuDv6PgOQeCcd8FPQg_PGg9uXRp5QL3lsPLtKnAb3GFgPdur0WWvPMFmHwQg7FX6Z_wd_Uo8Fyyw6Cf_ZXVpGHPPbrZU-0Gc4KOVGL_pNyS83b4ogJnOm0vV0k0vDLousB-4bqjZ-q8-XIuS7MrqdR8ElI2UHuu0vwgWSFBPQyjV7OetdD9wOGDW6yESGZ7bkIiwh-DsB16fJP9MImxOa8gABRqCsr-s_aGcjbAUxfk0kS8EKIDDQ_R7MlcwQqZ-G_LeOONd6_MIslrzodmUIxLqASkUS6svEsdoOn1IdIAeahN3QYlpVraHKGRL-7531HCd1GQ&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fhome   (ca22a1cb)
2018-03-23T09:15:11.0160716+01:00 0HLCG9JSA7JLI:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:15:11.0161375+01:00 0HLCG9JSA7JLI:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:15:11.0162516+01:00 0HLCG9JSA7JLI:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2018-03-23T09:15:11.0518961+01:00 0HLCG9JSA7JLI:00000003 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T09:15:11.0585885+01:00 0HLCG9JSA7JLI:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T09:15:11.0594925+01:00 0HLCG9JSA7JLI:00000003 [INF] End session request validation success
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"PostLogOutUri\": \"http://localhost:51540/home\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE3OTI3NTgsImV4cCI6MTUyMTc5MzA1OCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiJlZWRiNzg0OWU3MmE0ODI2YmM2NTgxMGQxOGQwZTc3MyIsImlhdCI6MTUyMTc5Mjc1OCwiYXRfaGFzaCI6InYxUkw4aDNKTVpIb0FFdDdCZlpjZUEiLCJzaWQiOiI3NjFjYmE0NGUxYWE2ZmZjMjk3MGYzYzdhYTRiODdmNCIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTc5Mjc1OCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.IANgSHKh8-quFTWzuDv6PgOQeCcd8FPQg_PGg9uXRp5QL3lsPLtKnAb3GFgPdur0WWvPMFmHwQg7FX6Z_wd_Uo8Fyyw6Cf_ZXVpGHPPbrZU-0Gc4KOVGL_pNyS83b4ogJnOm0vV0k0vDLousB-4bqjZ-q8-XIuS7MrqdR8ElI2UHuu0vwgWSFBPQyjV7OetdD9wOGDW6yESGZ7bkIiwh-DsB16fJP9MImxOa8gABRqCsr-s_aGcjbAUxfk0kS8EKIDDQ_R7MlcwQqZ-G_LeOONd6_MIslrzodmUIxLqASkUS6svEsdoOn1IdIAeahN3QYlpVraHKGRL-7531HCd1GQ\",
    \"post_logout_redirect_uri\": \"http://localhost:51540/home\"
  }
}" (8a893fca)
2018-03-23T09:15:11.0599104+01:00 0HLCG9JSA7JLI:00000003 [INF] Request finished in 44.8287ms 302  (791a596a)
2018-03-23T09:15:11.2846564+01:00 0HLCG9JSA7JLI:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8I8cZ24bSc5BkaJobKJXk0IK6ZKXuaceMM13y5F2sibUqISApclUI9vJXGs2PJobT25c0Ry2TPgPS_kTD_MpW_e7xFJ_pqZT_pms2BENnkcowsMgbu1dxqONCicua0lBEILkQtdO055WAty7ZXAQy7qrbAZ8SkWTZjB_3yduNUNa0CScDgCy-pHQITt_1ItpLBuC3UcL2Vs5D-RViRzyhvFmWzbUY_Slm5cjWoZ9R2O1KA3uYXgZxnZevRSXbGtbtSVhld9VY9jYJuPZhN3imzm3S3HqJ6CKRcHy-c5Nm2y4fQF7qrOL6mv2sgo8I5H65R9MYF4tYo9l0kYsDqDceW3LhHgEcnaHXdboAoVJ2PjaBgsyPh93G23ZBgz_XtxkZRw5ag0KIEqjCElVnzFz644ot5ov02lItTXNcfWyjun8wlZ5EkLz_KhodPBlrUIc4cnCWsntwohSK07ZwIAC-WPYOCDunQlvaoSgqThVRL0G   (ca22a1cb)
2018-03-23T09:15:11.2855793+01:00 0HLCG9JSA7JLI:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:15:11.2856520+01:00 0HLCG9JSA7JLI:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:15:11.2861827+01:00 0HLCG9JSA7JLI:00000004 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0IK6ZKXuaceMM13y5F2sibUqISApclUI9vJXGs2PJobT25c0Ry2TPgPS_kTD_MpW_e7xFJ_pqZT_pms2BENnkcowsMgbu1dxqONCicua0lBEILkQtdO055WAty7ZXAQy7qrbAZ8SkWTZjB_3yduNUNa0CScDgCy-pHQITt_1ItpLBuC3UcL2Vs5D-RViRzyhvFmWzbUY_Slm5cjWoZ9R2O1KA3uYXgZxnZevRSXbGtbtSVhld9VY9jYJuPZhN3imzm3S3HqJ6CKRcHy-c5Nm2y4fQF7qrOL6mv2sgo8I5H65R9MYF4tYo9l0kYsDqDceW3LhHgEcnaHXdboAoVJ2PjaBgsyPh93G23ZBgz_XtxkZRw5ag0KIEqjCElVnzFz644ot5ov02lItTXNcfWyjun8wlZ5EkLz_KhodPBlrUIc4cnCWsntwohSK07ZwIAC-WPYOCDunQlvaoSgqThVRL0G"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:15:11.2869003+01:00 0HLCG9JSA7JLI:00000004 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T09:15:11.2870538+01:00 0HLCG9JSA7JLI:00000004 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T09:15:11.2871696+01:00 0HLCG9JSA7JLI:00000004 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T09:15:11.2872030+01:00 0HLCG9JSA7JLI:00000004 [INF] User logged out. (f9c27106)
2018-03-23T09:15:11.2873082+01:00 0HLCG9JSA7JLI:00000004 [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T09:15:11.2885280+01:00 0HLCG9JSA7JLI:00000004 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 2.7224ms (afa2e885)
2018-03-23T09:15:11.2888918+01:00 0HLCG9JSA7JLI:00000004 [INF] Request finished in 4.4642ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T09:15:11.4569152+01:00 0HLCG9JSA7JLI:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8I8cZ24bSc5BkaJobKJXk0K6CEs66rXFQFTAlfo2O3YwxnFTGJwhhdNIGCCSaDnyrazhSYlD7fuzowLAL0bRJOIeaIlWG8Q5_n6vBB6n_3Rr3zweHkyFUzpvPECQKfqYb2ECsn_yWdenKh0YEGTZOcfzgY6E8chn3HvI2P3SQCPa1u_q2nXeaO8cFAGT-vFfulnvk7h_HNSiy6udGnezyZ84GBNy8PKWwBOnI3CejXrkT8o0zsjeBgpCWuIZk9ial6VbhuKybNKmqY2aoL0eAPpO43j6MMU12lo1Hl6m29dd0nAdvn5zAfI8ImvNkwmCLOT1Qp6iE3WasQs6OjQY464   (ca22a1cb)
2018-03-23T09:15:11.4578628+01:00 0HLCG9JSA7JLI:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback" (f7642de5)
2018-03-23T09:15:11.4580852+01:00 0HLCG9JSA7JLI:00000005 [INF] Successful signout callback. (d13fac4f)
2018-03-23T09:15:11.4582418+01:00 0HLCG9JSA7JLI:00000005 [INF] Request finished in 1.3932ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T09:15:21.4656808+01:00 0HLCG9JSA7JLN:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T09:15:21.4662911+01:00 0HLCG9JSA7JLN:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T09:15:21.4667131+01:00 0HLCG9JSA7JLN:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T09:15:21.4671433+01:00 0HLCG9JSA7JLN:00000001 [INF] Request finished in 1.5622ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:15:21.4833728+01:00 0HLCG9JSA7JLI:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=b6cb0bbad6f64a97833d30c8a9c95cec&nonce=d02692d81ff34a75a94695f922bf0d94   (ca22a1cb)
2018-03-23T09:15:21.4843962+01:00 0HLCG9JSA7JLI:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T09:15:21.4849256+01:00 0HLCG9JSA7JLI:00000006 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"b6cb0bbad6f64a97833d30c8a9c95cec\",
  \"Nonce\": \"d02692d81ff34a75a94695f922bf0d94\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"b6cb0bbad6f64a97833d30c8a9c95cec\",
    \"nonce\": \"d02692d81ff34a75a94695f922bf0d94\"
  }
}" (9a175e33)
2018-03-23T09:15:21.4849816+01:00 0HLCG9JSA7JLI:00000006 [INF] Showing login: User is not authenticated (4b8d50b2)
2018-03-23T09:15:21.4881172+01:00 0HLCG9JSA7JLI:00000006 [INF] Request finished in 4.7576ms 302  (791a596a)
2018-03-23T09:15:21.4885252+01:00 0HLCG9JSA7JLI:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Db6cb0bbad6f64a97833d30c8a9c95cec%26nonce%3Dd02692d81ff34a75a94695f922bf0d94   (ca22a1cb)
2018-03-23T09:15:21.4917916+01:00 0HLCG9JSA7JLI:00000007 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=b6cb0bbad6f64a97833d30c8a9c95cec&nonce=d02692d81ff34a75a94695f922bf0d94"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:15:21.4925087+01:00 0HLCG9JSA7JLI:00000007 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T09:15:21.4935454+01:00 0HLCG9JSA7JLI:00000007 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T09:15:21.4967271+01:00 0HLCG9JSA7JLI:00000007 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 7.2337ms (afa2e885)
2018-03-23T09:15:21.4974243+01:00 0HLCG9JSA7JLI:00000007 [INF] Request finished in 8.8096ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T09:15:23.9606722+01:00 0HLCG9JSA7JLI:00000008 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Db6cb0bbad6f64a97833d30c8a9c95cec%26nonce%3Dd02692d81ff34a75a94695f922bf0d94 application/x-www-form-urlencoded 233 (ca22a1cb)
2018-03-23T09:15:23.9618007+01:00 0HLCG9JSA7JLI:00000008 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=b6cb0bbad6f64a97833d30c8a9c95cec&nonce=d02692d81ff34a75a94695f922bf0d94"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T09:15:23.9622813+01:00 0HLCG9JSA7JLI:00000008 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T09:15:23.9660448+01:00 0HLCG9JSA7JLI:00000008 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T09:15:23.9802454+01:00 0HLCG9JSA7JLI:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T09:15:23.9830115+01:00 0HLCG9JSA7JLI:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T09:15:23.9834733+01:00 0HLCG9JSA7JLI:00000008 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T09:15:23.9835101+01:00 0HLCG9JSA7JLI:00000008 [INF] User logged in. (fdce0db4)
2018-03-23T09:15:23.9835841+01:00 0HLCG9JSA7JLI:00000008 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=b6cb0bbad6f64a97833d30c8a9c95cec&nonce=d02692d81ff34a75a94695f922bf0d94". (d98d540e)
2018-03-23T09:15:23.9836794+01:00 0HLCG9JSA7JLI:00000008 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 22.4368ms (afa2e885)
2018-03-23T09:15:23.9837962+01:00 0HLCG9JSA7JLI:00000008 [INF] Request finished in 23.2181ms 302  (791a596a)
2018-03-23T09:15:24.3246094+01:00 0HLCG9JSA7JLI:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=b6cb0bbad6f64a97833d30c8a9c95cec&nonce=d02692d81ff34a75a94695f922bf0d94   (ca22a1cb)
2018-03-23T09:15:24.3253297+01:00 0HLCG9JSA7JLI:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:15:24.3253746+01:00 0HLCG9JSA7JLI:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:15:24.3255264+01:00 0HLCG9JSA7JLI:00000009 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T09:15:24.3260623+01:00 0HLCG9JSA7JLI:00000009 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"b6cb0bbad6f64a97833d30c8a9c95cec\",
  \"Nonce\": \"d02692d81ff34a75a94695f922bf0d94\",
  \"SessionId\": \"ff8260f66b89824eda2ba77860d7b2c1\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"b6cb0bbad6f64a97833d30c8a9c95cec\",
    \"nonce\": \"d02692d81ff34a75a94695f922bf0d94\"
  }
}" (9a175e33)
2018-03-23T09:15:24.3266271+01:00 0HLCG9JSA7JLI:00000009 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T09:15:24.3283690+01:00 0HLCG9JSA7JLI:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T09:15:24.3295835+01:00 0HLCG9JSA7JLI:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T09:15:24.3308947+01:00 0HLCG9JSA7JLI:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T09:15:24.4319137+01:00 0HLCG9JSA7JLI:00000009 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"b6cb0bbad6f64a97833d30c8a9c95cec\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T09:15:24.4322020+01:00 0HLCG9JSA7JLI:00000009 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T09:15:24.4326095+01:00 0HLCG9JSA7JLI:00000009 [INF] Request finished in 107.9221ms 302  (791a596a)
2018-03-23T09:15:26.6709570+01:00 0HLCG9JSA7JLN:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T09:15:26.6715322+01:00 0HLCG9JSA7JLN:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T09:15:26.6719599+01:00 0HLCG9JSA7JLN:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T09:15:26.6731051+01:00 0HLCG9JSA7JLN:00000002 [INF] Request finished in 2.1972ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:15:26.9953976+01:00 0HLCG9JSA7JLN:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T09:15:26.9959274+01:00 0HLCG9JSA7JLN:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T09:15:26.9964183+01:00 0HLCG9JSA7JLN:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T09:15:26.9967434+01:00 0HLCG9JSA7JLN:00000003 [INF] Request finished in 1.4262ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:15:27.1207701+01:00 0HLCG9JSA7JLN:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T09:15:27.1213343+01:00 0HLCG9JSA7JLN:00000004 [INF] Policy execution successful. (0204925d)
2018-03-23T09:15:27.1217700+01:00 0HLCG9JSA7JLN:00000004 [INF] Request finished in 0.8852ms 204  (791a596a)
2018-03-23T09:15:27.2753280+01:00 0HLCG9JSA7JLN:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T09:15:27.2763604+01:00 0HLCG9JSA7JLN:00000005 [INF] Policy execution successful. (0204925d)
2018-03-23T09:15:27.2772815+01:00 0HLCG9JSA7JLN:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T09:15:27.2832413+01:00 0HLCG9JSA7JLN:00000005 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T09:15:27.3078502+01:00 0HLCG9JSA7JLN:00000005 [INF] Executed DbCommand ("22"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T09:15:27.3239766+01:00 0HLCG9JSA7JLN:00000005 [INF] Executed DbCommand ("14"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T09:15:27.3377500+01:00 0HLCG9JSA7JLN:00000005 [INF] Executed DbCommand ("12"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T09:15:27.3379924+01:00 0HLCG9JSA7JLN:00000005 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T09:15:27.3386852+01:00 0HLCG9JSA7JLN:00000005 [INF] Request finished in 63.2366ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:15:27.4469517+01:00 0HLCG9JSA7JLI:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T09:15:27.4485913+01:00 0HLCG9JSA7JLI:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:15:27.4489719+01:00 0HLCG9JSA7JLI:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:15:27.4496263+01:00 0HLCG9JSA7JLI:0000000A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T09:15:27.4509853+01:00 0HLCG9JSA7JLI:0000000A [INF] Request finished in 4.0614ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T09:16:50.0471218+01:00 0HLCG9JSA7JLR:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T09:16:50.0479001+01:00 0HLCG9JSA7JLR:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T09:16:50.0493473+01:00 0HLCG9JSA7JLR:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T09:16:50.0501047+01:00 0HLCG9JSA7JLR:00000001 [INF] Request finished in 2.97ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T09:16:50.4259886+01:00 0HLCG9JSA7JLT:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T09:16:50.4271697+01:00 0HLCG9JSA7JLT:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:16:50.4272685+01:00 0HLCG9JSA7JLT:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T09:16:50.4273446+01:00 0HLCG9JSA7JLT:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T09:16:50.4277128+01:00 0HLCG9JSA7JLT:00000001 [INF] Request finished in 1.7743ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T11:30:36.6248841+01:00 0HLCG9JSA7JM5:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T11:30:36.6255047+01:00 0HLCG9JSA7JM5:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T11:30:36.6260940+01:00 0HLCG9JSA7JM5:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T11:30:36.6268090+01:00 0HLCG9JSA7JM5:00000001 [INF] Request finished in 184.1698ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T11:30:36.7746877+01:00 0HLCG9JSA7JM2:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T11:30:36.7761160+01:00 0HLCG9JSA7JM2:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T11:30:36.8451261+01:00 0HLCG9JSA7JM2:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T11:30:36.8499996+01:00 0HLCG9JSA7JM2:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T11:30:36.8572325+01:00 0HLCG9JSA7JM2:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T11:30:36.8575618+01:00 0HLCG9JSA7JM2:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:30:36.8576769+01:00 0HLCG9JSA7JM2:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:30:36.8578154+01:00 0HLCG9JSA7JM2:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T11:30:36.8583970+01:00 0HLCG9JSA7JM2:00000001 [INF] Request finished in 84.116ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T11:30:39.4204208+01:00 0HLCG9JSA7JM2:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE3OTI5MjQsImV4cCI6MTUyMTc5MzIyNCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiJkMDI2OTJkODFmZjM0YTc1YTk0Njk1ZjkyMmJmMGQ5NCIsImlhdCI6MTUyMTc5MjkyNCwiYXRfaGFzaCI6IlV5SmR3bUJSbVYxaERXSm4tdDMxbWciLCJzaWQiOiJmZjgyNjBmNjZiODk4MjRlZGEyYmE3Nzg2MGQ3YjJjMSIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTc5MjkyMywiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.EUaRBbIfaDAI1CQCSt5qU4CFsMKTxtZBsPDfKvOdVKmmE3-6NEYjccrRAVe_8__euCN109o8l2r87gWJ3mHouW0i2KpJgxW5XheiYDySO12719XtBIRNMZoEmOGd-bm4eEySDNMkB_iJ_gAmJQ1cYsJUd9S3eyFY0Mb8-1SNeZ1tCLVDL-q-AyHiIuOGmo6wN9b2eMAURDMTyQ_sE3Rvt0jLW1H7mgJIyxPp0wVemrsl86gyEL6-LO6EpvoqV5qcFBPoXc7HDnu64AeIxBdeo-CZa1x8M1bCxFftCqmOxPqSXWZO-CeXFs1aQCgRsmsaCBxV3_-py_QDC451bktvgQ&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fhome   (ca22a1cb)
2018-03-23T11:30:39.4212240+01:00 0HLCG9JSA7JM2:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:30:39.4212779+01:00 0HLCG9JSA7JM2:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:30:39.4214849+01:00 0HLCG9JSA7JM2:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2018-03-23T11:30:39.4263507+01:00 0HLCG9JSA7JM2:00000002 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T11:30:39.4326214+01:00 0HLCG9JSA7JM2:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T11:30:39.4332689+01:00 0HLCG9JSA7JM2:00000002 [INF] End session request validation success
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"PostLogOutUri\": \"http://localhost:51540/home\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE3OTI5MjQsImV4cCI6MTUyMTc5MzIyNCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiJkMDI2OTJkODFmZjM0YTc1YTk0Njk1ZjkyMmJmMGQ5NCIsImlhdCI6MTUyMTc5MjkyNCwiYXRfaGFzaCI6IlV5SmR3bUJSbVYxaERXSm4tdDMxbWciLCJzaWQiOiJmZjgyNjBmNjZiODk4MjRlZGEyYmE3Nzg2MGQ3YjJjMSIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTc5MjkyMywiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.EUaRBbIfaDAI1CQCSt5qU4CFsMKTxtZBsPDfKvOdVKmmE3-6NEYjccrRAVe_8__euCN109o8l2r87gWJ3mHouW0i2KpJgxW5XheiYDySO12719XtBIRNMZoEmOGd-bm4eEySDNMkB_iJ_gAmJQ1cYsJUd9S3eyFY0Mb8-1SNeZ1tCLVDL-q-AyHiIuOGmo6wN9b2eMAURDMTyQ_sE3Rvt0jLW1H7mgJIyxPp0wVemrsl86gyEL6-LO6EpvoqV5qcFBPoXc7HDnu64AeIxBdeo-CZa1x8M1bCxFftCqmOxPqSXWZO-CeXFs1aQCgRsmsaCBxV3_-py_QDC451bktvgQ\",
    \"post_logout_redirect_uri\": \"http://localhost:51540/home\"
  }
}" (8a893fca)
2018-03-23T11:30:39.4336273+01:00 0HLCG9JSA7JM2:00000002 [INF] Request finished in 13.2944ms 302  (791a596a)
2018-03-23T11:30:39.4356112+01:00 0HLCG9JSA7JM2:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8I8cZ24bSc5BkaJobKJXk0KafPbMZo3sW9rFqoUmL2Rsaj5I4H65cRVJUJ8epQv9tRsu9iiwTT0MvznYqd5GTj8F-C91WpNltofeFb-Vdy8Djcw7jOTKYiihbM6QXHYZAC2VzlvscnbfekTsEMnm4wUhNOCPfTPYNhRp9QULqiJpbA_-AX9SPHOAFToHaZgeb5xE3k5bENRMvDeINtiewejHXUsF5kk2Rh_am9K_IVbzuSeXsl_F2l4qSidvqNSaBDIvmxxRdK8EPXRz0AIfebf9ebYyVPXKU73UoKE3Z0-sPlqL-fGcD1YhDTW-aGpdQ2rwOJkyrekWdUkmFQGGU-NWF68C5FF3hXUu3VJoDgKHqJKcC3684rz8BMIIZ7SR3mMjo2BUUlAuSZpx_1HYvwSVx6fm8bLPTXtppIrdBuWz5cjyiq09Hgm6DQlOfqxpn61ZNP_OM8oJmzeYUVd0byy2slNUFF4r6C45e4eRlRp0   (ca22a1cb)
2018-03-23T11:30:39.4369441+01:00 0HLCG9JSA7JM2:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:30:39.4380094+01:00 0HLCG9JSA7JM2:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:30:39.4390816+01:00 0HLCG9JSA7JM2:00000003 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0KafPbMZo3sW9rFqoUmL2Rsaj5I4H65cRVJUJ8epQv9tRsu9iiwTT0MvznYqd5GTj8F-C91WpNltofeFb-Vdy8Djcw7jOTKYiihbM6QXHYZAC2VzlvscnbfekTsEMnm4wUhNOCPfTPYNhRp9QULqiJpbA_-AX9SPHOAFToHaZgeb5xE3k5bENRMvDeINtiewejHXUsF5kk2Rh_am9K_IVbzuSeXsl_F2l4qSidvqNSaBDIvmxxRdK8EPXRz0AIfebf9ebYyVPXKU73UoKE3Z0-sPlqL-fGcD1YhDTW-aGpdQ2rwOJkyrekWdUkmFQGGU-NWF68C5FF3hXUu3VJoDgKHqJKcC3684rz8BMIIZ7SR3mMjo2BUUlAuSZpx_1HYvwSVx6fm8bLPTXtppIrdBuWz5cjyiq09Hgm6DQlOfqxpn61ZNP_OM8oJmzeYUVd0byy2slNUFF4r6C45e4eRlRp0"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T11:30:39.4398307+01:00 0HLCG9JSA7JM2:00000003 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T11:30:39.4400579+01:00 0HLCG9JSA7JM2:00000003 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T11:30:39.4401571+01:00 0HLCG9JSA7JM2:00000003 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T11:30:39.4402794+01:00 0HLCG9JSA7JM2:00000003 [INF] User logged out. (f9c27106)
2018-03-23T11:30:39.4437493+01:00 0HLCG9JSA7JM2:00000003 [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T11:30:39.8022063+01:00 0HLCG9JSA7JM2:00000003 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 363.7975ms (afa2e885)
2018-03-23T11:30:39.8023145+01:00 0HLCG9JSA7JM2:00000003 [INF] Request finished in 366.7872ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T11:30:39.9617459+01:00 0HLCG9JSA7JM2:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8I8cZ24bSc5BkaJobKJXk0Ke8fm41SaTNJXkVlTcuSquiBdXMZ4HPFz6Kfs7smJi9M570WahhQQwLMn50d-v-ZXfSIsXry60qBHC3EfeOZlRfYrjn-GS3tWctyw-SuTPIKj9REOmIATI0yBmxp4oXZBLxs3xdhuLxq19nmVV7I0XvP8CG0s9u1MecWqOf6x8O1aY6CxC1DjCxr81ICr5-u64ylA-1OX__b6HiIiOGdqyMduYjfmRrgtBsxl6-bC5J_zldyBuZaM1pIVywR8P_cw0ea1p4gx6xx4VSdK2DlqEfKWjC867C0Y3xR-W7PNq2epsLN189aH3ZIBBg161pYQ   (ca22a1cb)
2018-03-23T11:30:39.9649191+01:00 0HLCG9JSA7JM2:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback" (f7642de5)
2018-03-23T11:30:39.9651765+01:00 0HLCG9JSA7JM2:00000004 [INF] Successful signout callback. (d13fac4f)
2018-03-23T11:30:39.9660271+01:00 0HLCG9JSA7JM2:00000004 [INF] Request finished in 3.815ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T11:31:26.8263726+01:00 0HLCG9JSA7JM5:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T11:31:26.8270880+01:00 0HLCG9JSA7JM5:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T11:31:26.8276723+01:00 0HLCG9JSA7JM5:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T11:31:26.8282649+01:00 0HLCG9JSA7JM5:00000002 [INF] Request finished in 2.0099ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T11:31:26.8402517+01:00 0HLCG9JSA7JM2:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=c57ced15cb6344d185b345d736b6d4eb&nonce=ba17028bf1aa46baaf3629eeea0a3e25   (ca22a1cb)
2018-03-23T11:31:26.8412028+01:00 0HLCG9JSA7JM2:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T11:31:26.8638637+01:00 0HLCG9JSA7JM2:00000005 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"c57ced15cb6344d185b345d736b6d4eb\",
  \"Nonce\": \"ba17028bf1aa46baaf3629eeea0a3e25\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"c57ced15cb6344d185b345d736b6d4eb\",
    \"nonce\": \"ba17028bf1aa46baaf3629eeea0a3e25\"
  }
}" (9a175e33)
2018-03-23T11:31:26.8639065+01:00 0HLCG9JSA7JM2:00000005 [INF] Showing login: User is not authenticated (4b8d50b2)
2018-03-23T11:31:26.8640498+01:00 0HLCG9JSA7JM2:00000005 [INF] Request finished in 23.9323ms 302  (791a596a)
2018-03-23T11:31:26.8659117+01:00 0HLCG9JSA7JM2:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Dc57ced15cb6344d185b345d736b6d4eb%26nonce%3Dba17028bf1aa46baaf3629eeea0a3e25   (ca22a1cb)
2018-03-23T11:31:26.8668197+01:00 0HLCG9JSA7JM2:00000006 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=c57ced15cb6344d185b345d736b6d4eb&nonce=ba17028bf1aa46baaf3629eeea0a3e25"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T11:31:26.8669634+01:00 0HLCG9JSA7JM2:00000006 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T11:31:26.8712706+01:00 0HLCG9JSA7JM2:00000006 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T11:31:26.8909620+01:00 0HLCG9JSA7JM2:00000006 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 24.4994ms (afa2e885)
2018-03-23T11:31:26.8912515+01:00 0HLCG9JSA7JM2:00000006 [INF] Request finished in 25.3187ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T11:31:29.8278647+01:00 0HLCG9JSA7JM2:00000007 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Dc57ced15cb6344d185b345d736b6d4eb%26nonce%3Dba17028bf1aa46baaf3629eeea0a3e25 application/x-www-form-urlencoded 233 (ca22a1cb)
2018-03-23T11:31:29.8307377+01:00 0HLCG9JSA7JM2:00000007 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=c57ced15cb6344d185b345d736b6d4eb&nonce=ba17028bf1aa46baaf3629eeea0a3e25"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T11:31:29.8323063+01:00 0HLCG9JSA7JM2:00000007 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T11:31:29.8382862+01:00 0HLCG9JSA7JM2:00000007 [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T11:31:29.8543403+01:00 0HLCG9JSA7JM2:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T11:31:29.8579843+01:00 0HLCG9JSA7JM2:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T11:31:29.8584380+01:00 0HLCG9JSA7JM2:00000007 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T11:31:29.8584826+01:00 0HLCG9JSA7JM2:00000007 [INF] User logged in. (fdce0db4)
2018-03-23T11:31:29.8586883+01:00 0HLCG9JSA7JM2:00000007 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=c57ced15cb6344d185b345d736b6d4eb&nonce=ba17028bf1aa46baaf3629eeea0a3e25". (d98d540e)
2018-03-23T11:31:29.8587892+01:00 0HLCG9JSA7JM2:00000007 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 30.3488ms (afa2e885)
2018-03-23T11:31:29.8589568+01:00 0HLCG9JSA7JM2:00000007 [INF] Request finished in 31.1938ms 302  (791a596a)
2018-03-23T11:31:29.8809224+01:00 0HLCG9JSA7JM2:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=c57ced15cb6344d185b345d736b6d4eb&nonce=ba17028bf1aa46baaf3629eeea0a3e25   (ca22a1cb)
2018-03-23T11:31:29.8817260+01:00 0HLCG9JSA7JM2:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:31:29.8817803+01:00 0HLCG9JSA7JM2:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:31:29.8820796+01:00 0HLCG9JSA7JM2:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T11:31:29.8840404+01:00 0HLCG9JSA7JM2:00000008 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"c57ced15cb6344d185b345d736b6d4eb\",
  \"Nonce\": \"ba17028bf1aa46baaf3629eeea0a3e25\",
  \"SessionId\": \"926d312de4daf0806cb810a035d2df5b\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"c57ced15cb6344d185b345d736b6d4eb\",
    \"nonce\": \"ba17028bf1aa46baaf3629eeea0a3e25\"
  }
}" (9a175e33)
2018-03-23T11:31:29.8846473+01:00 0HLCG9JSA7JM2:00000008 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T11:31:30.1898322+01:00 0HLCG9JSA7JM2:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T11:31:30.1911896+01:00 0HLCG9JSA7JM2:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T11:31:30.1919513+01:00 0HLCG9JSA7JM2:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T11:31:30.1982327+01:00 0HLCG9JSA7JM2:00000008 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"c57ced15cb6344d185b345d736b6d4eb\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T11:31:30.2147670+01:00 0HLCG9JSA7JM2:00000008 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T11:31:30.2149766+01:00 0HLCG9JSA7JM2:00000008 [INF] Request finished in 334.3125ms 302  (791a596a)
2018-03-23T11:31:32.0492643+01:00 0HLCG9JSA7JM5:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T11:31:32.0497946+01:00 0HLCG9JSA7JM5:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T11:31:32.0501709+01:00 0HLCG9JSA7JM5:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T11:31:32.0507376+01:00 0HLCG9JSA7JM5:00000003 [INF] Request finished in 1.4856ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T11:31:32.2236417+01:00 0HLCG9JSA7JM5:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T11:31:32.2241459+01:00 0HLCG9JSA7JM5:00000004 [INF] Policy execution successful. (0204925d)
2018-03-23T11:31:32.2245940+01:00 0HLCG9JSA7JM5:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T11:31:32.2249764+01:00 0HLCG9JSA7JM5:00000004 [INF] Request finished in 1.2453ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T11:31:32.3428000+01:00 0HLCG9JSA7JM5:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T11:31:32.3474807+01:00 0HLCG9JSA7JM5:00000005 [INF] Policy execution successful. (0204925d)
2018-03-23T11:31:32.3491567+01:00 0HLCG9JSA7JM5:00000005 [INF] Request finished in 6.3857ms 204  (791a596a)
2018-03-23T11:31:32.3878012+01:00 0HLCG9JSA7JM5:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T11:31:32.3883144+01:00 0HLCG9JSA7JM5:00000006 [INF] Policy execution successful. (0204925d)
2018-03-23T11:31:32.4031509+01:00 0HLCG9JSA7JM5:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T11:31:32.4087349+01:00 0HLCG9JSA7JM5:00000006 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T11:31:32.4575758+01:00 0HLCG9JSA7JM5:00000006 [INF] Executed DbCommand ("45"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T11:31:32.5156850+01:00 0HLCG9JSA7JM5:00000006 [INF] Executed DbCommand ("20"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T11:31:32.5391126+01:00 0HLCG9JSA7JM5:00000006 [INF] Executed DbCommand ("21"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T11:31:32.5395669+01:00 0HLCG9JSA7JM5:00000006 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T11:31:32.5413826+01:00 0HLCG9JSA7JM5:00000006 [INF] Request finished in 153.4822ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T11:31:32.6021334+01:00 0HLCG9JSA7JM2:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T11:31:32.6037743+01:00 0HLCG9JSA7JM2:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:31:32.6053301+01:00 0HLCG9JSA7JM2:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:31:32.6060208+01:00 0HLCG9JSA7JM2:00000009 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T11:31:32.6381812+01:00 0HLCG9JSA7JM2:00000009 [INF] Request finished in 36.1927ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T11:43:56.0584982+01:00 0HLCG9JSA7JM9:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T11:43:56.0590884+01:00 0HLCG9JSA7JM9:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T11:43:56.0597641+01:00 0HLCG9JSA7JM9:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T11:43:56.1541908+01:00 0HLCG9JSA7JM9:00000001 [INF] Request finished in 95.7178ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T11:43:56.5569321+01:00 0HLCG9JSA7JMC:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T11:43:56.5579410+01:00 0HLCG9JSA7JMC:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:43:56.5579958+01:00 0HLCG9JSA7JMC:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:43:56.5581467+01:00 0HLCG9JSA7JMC:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T11:43:56.5584533+01:00 0HLCG9JSA7JMC:00000001 [INF] Request finished in 16.1028ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T11:45:19.2927748+01:00 0HLCG9JSA7JM9:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T11:45:19.2964125+01:00 0HLCG9JSA7JM9:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T11:45:19.2969309+01:00 0HLCG9JSA7JM9:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T11:45:19.2974298+01:00 0HLCG9JSA7JM9:00000002 [INF] Request finished in 4.788ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T11:45:19.6517890+01:00 0HLCG9JSA7JMC:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T11:45:19.9476521+01:00 0HLCG9JSA7JMC:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:45:19.9477377+01:00 0HLCG9JSA7JMC:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:45:19.9478048+01:00 0HLCG9JSA7JMC:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T11:45:19.9479977+01:00 0HLCG9JSA7JMC:00000002 [INF] Request finished in 296.2765ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T11:45:33.0073102+01:00 0HLCG9JSA7JM9:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T11:45:33.0076823+01:00 0HLCG9JSA7JM9:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T11:45:33.0081266+01:00 0HLCG9JSA7JM9:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T11:45:33.0397221+01:00 0HLCG9JSA7JM9:00000003 [INF] Request finished in 32.4464ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T11:45:33.2904788+01:00 0HLCG9JSA7JMC:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T11:45:33.3575669+01:00 0HLCG9JSA7JMC:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:45:33.3576404+01:00 0HLCG9JSA7JMC:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:45:33.3577067+01:00 0HLCG9JSA7JMC:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T11:45:33.3580065+01:00 0HLCG9JSA7JMC:00000003 [INF] Request finished in 67.5487ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T11:50:58.0078440+01:00 0HLCG9JSA7JMK:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T11:50:58.0084084+01:00 0HLCG9JSA7JMK:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T11:50:58.0609966+01:00 0HLCG9JSA7JMK:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T11:50:58.0613892+01:00 0HLCG9JSA7JMK:00000001 [INF] Request finished in 53.6474ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T11:50:58.2300223+01:00 0HLCG9JSA7JMI:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T11:50:58.2752916+01:00 0HLCG9JSA7JMI:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:50:58.2753591+01:00 0HLCG9JSA7JMI:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:50:58.2754198+01:00 0HLCG9JSA7JMI:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T11:50:58.3525215+01:00 0HLCG9JSA7JMI:00000001 [INF] Request finished in 122.4987ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T11:51:07.2713247+01:00 0HLCG9JSA7JMK:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T11:51:07.2717335+01:00 0HLCG9JSA7JMK:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T11:51:07.2721808+01:00 0HLCG9JSA7JMK:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T11:51:07.3534346+01:00 0HLCG9JSA7JMK:00000002 [INF] Request finished in 81.8109ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T11:51:07.4478424+01:00 0HLCG9JSA7JMI:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T11:51:07.5606514+01:00 0HLCG9JSA7JMI:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:51:07.5607173+01:00 0HLCG9JSA7JMI:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:51:07.5607699+01:00 0HLCG9JSA7JMI:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T11:51:07.5610069+01:00 0HLCG9JSA7JMI:00000002 [INF] Request finished in 113.2161ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T11:51:10.8043066+01:00 0HLCG9JSA7JMI:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MDEwOTAsImV4cCI6MTUyMTgwMTM5MCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiJiYTE3MDI4YmYxYWE0NmJhYWYzNjI5ZWVlYTBhM2UyNSIsImlhdCI6MTUyMTgwMTA5MCwiYXRfaGFzaCI6IktpNkNUQURTNTNJOEI0eGJ6X3RPbVEiLCJzaWQiOiI5MjZkMzEyZGU0ZGFmMDgwNmNiODEwYTAzNWQyZGY1YiIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgwMTA4OSwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.eScdnK6-TrvQfdVhvg_a8bAFWnkZpC4Z48G9MBRXltgROWz4NlnjpFdKLn-tY2h1-htuBqPRZo6spbh5eQkbaS_lUiB6XpK6EkrxQLxMw8wMkRS2zdlOcb03xqoL5taih5mWpltcPNRKIKJGXKF9N2_xBydhOk1zSKfhoDejDfafzaFbq6NDj4csb52g211eRIe1pOLszRtfwComMko1sFlqCzWpwDunJgZTGuQCmLegmQpgWPzEzpNYQk3f2gSjfFNSRmW2Bm4WcS0qtreRH9lSbRPF5MXakzMg5T_yUEBDwW8nBogO0Gx50VkeJBRSWwds_YHp6HiPGGvJKI63mg&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fhome   (ca22a1cb)
2018-03-23T11:51:10.8063298+01:00 0HLCG9JSA7JMI:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:51:10.8064080+01:00 0HLCG9JSA7JMI:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:51:10.8065611+01:00 0HLCG9JSA7JMI:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2018-03-23T11:51:10.8105233+01:00 0HLCG9JSA7JMI:00000003 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T11:51:10.8338300+01:00 0HLCG9JSA7JMI:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T11:51:10.8351387+01:00 0HLCG9JSA7JMI:00000003 [INF] End session request validation success
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"PostLogOutUri\": \"http://localhost:51540/home\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MDEwOTAsImV4cCI6MTUyMTgwMTM5MCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiJiYTE3MDI4YmYxYWE0NmJhYWYzNjI5ZWVlYTBhM2UyNSIsImlhdCI6MTUyMTgwMTA5MCwiYXRfaGFzaCI6IktpNkNUQURTNTNJOEI0eGJ6X3RPbVEiLCJzaWQiOiI5MjZkMzEyZGU0ZGFmMDgwNmNiODEwYTAzNWQyZGY1YiIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgwMTA4OSwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.eScdnK6-TrvQfdVhvg_a8bAFWnkZpC4Z48G9MBRXltgROWz4NlnjpFdKLn-tY2h1-htuBqPRZo6spbh5eQkbaS_lUiB6XpK6EkrxQLxMw8wMkRS2zdlOcb03xqoL5taih5mWpltcPNRKIKJGXKF9N2_xBydhOk1zSKfhoDejDfafzaFbq6NDj4csb52g211eRIe1pOLszRtfwComMko1sFlqCzWpwDunJgZTGuQCmLegmQpgWPzEzpNYQk3f2gSjfFNSRmW2Bm4WcS0qtreRH9lSbRPF5MXakzMg5T_yUEBDwW8nBogO0Gx50VkeJBRSWwds_YHp6HiPGGvJKI63mg\",
    \"post_logout_redirect_uri\": \"http://localhost:51540/home\"
  }
}" (8a893fca)
2018-03-23T11:51:10.8358302+01:00 0HLCG9JSA7JMI:00000003 [INF] Request finished in 31.3765ms 302  (791a596a)
2018-03-23T11:51:10.8550673+01:00 0HLCG9JSA7JMI:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8I8cZ24bSc5BkaJobKJXk0KxGtR1uEBSNSH2Nl7YqyhWvJpxUfwTY-WFmFkxM8-39mIl-sa0N02SB3I1rVtahHAvu5O_yIT2QY5V2hrx8jcdwYqezdF3-T8lCK5vvikuwvZVKSoTl33RKNo0jmONmCZv7wPfwQY-aB3kX4vaj5C2XKhhvWR04lMAI1JDt69e8uRA_MlhEGNLqFH0n8YZEUuttlp51Tu2HdPVoPquO809mhwwi6ZxEVkKCJQ7ZVWU0e-iwpKn1DF2r6WGwIt0ozfiK4aEmtPjrFyqKqBFk0sJuCxHOlhGRTO5bJzRwCy2vozSfTMxh9DCx6J59ifMqbHQcU50bta362igZXtsElcT95SCMnMQiHKxbUyo4gUumi3YoXJ-9EHWFaukjL3-r6rWSFy6gBVCegAt5mvHrDoePOPSjr6EQUfiFCPObgJQFi7Smka4YobvZaWTHMdPGO40EodrCkpekD-fJ7E018hr   (ca22a1cb)
2018-03-23T11:51:10.8563969+01:00 0HLCG9JSA7JMI:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:51:10.8564678+01:00 0HLCG9JSA7JMI:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:51:10.8570477+01:00 0HLCG9JSA7JMI:00000004 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0KxGtR1uEBSNSH2Nl7YqyhWvJpxUfwTY-WFmFkxM8-39mIl-sa0N02SB3I1rVtahHAvu5O_yIT2QY5V2hrx8jcdwYqezdF3-T8lCK5vvikuwvZVKSoTl33RKNo0jmONmCZv7wPfwQY-aB3kX4vaj5C2XKhhvWR04lMAI1JDt69e8uRA_MlhEGNLqFH0n8YZEUuttlp51Tu2HdPVoPquO809mhwwi6ZxEVkKCJQ7ZVWU0e-iwpKn1DF2r6WGwIt0ozfiK4aEmtPjrFyqKqBFk0sJuCxHOlhGRTO5bJzRwCy2vozSfTMxh9DCx6J59ifMqbHQcU50bta362igZXtsElcT95SCMnMQiHKxbUyo4gUumi3YoXJ-9EHWFaukjL3-r6rWSFy6gBVCegAt5mvHrDoePOPSjr6EQUfiFCPObgJQFi7Smka4YobvZaWTHMdPGO40EodrCkpekD-fJ7E018hr"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T11:51:10.8582973+01:00 0HLCG9JSA7JMI:00000004 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T11:51:10.8585612+01:00 0HLCG9JSA7JMI:00000004 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T11:51:10.8587644+01:00 0HLCG9JSA7JMI:00000004 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T11:51:10.8588187+01:00 0HLCG9JSA7JMI:00000004 [INF] User logged out. (f9c27106)
2018-03-23T11:51:10.8770512+01:00 0HLCG9JSA7JMI:00000004 [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T11:51:10.9660562+01:00 0HLCG9JSA7JMI:00000004 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 109.4014ms (afa2e885)
2018-03-23T11:51:10.9663885+01:00 0HLCG9JSA7JMI:00000004 [INF] Request finished in 126.9561ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T11:51:11.1857178+01:00 0HLCG9JSA7JMI:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8I8cZ24bSc5BkaJobKJXk0I54WM_5pPQUTte5Zx9P_H6tR--wb_hmYbc_0xe08Gzy8OhyoKCH3jx2ZHNTmrnQsU1S7EIsoaFt3mHZlZl4kHfurjEK74mObTmCLRQT9KyITQvZgixEViQWxYHZjsTxLV8lMuLXB-0E9OU6Z7dDDS-IwBP3qFaimf6fa9ceXEsbnZCbFRsJfTb8GOaWk6rB3mPPrln5-N6MmhWpjytTCxuCGxQQOyRdHtm8GSPiBRb8itBdRdJvbTS8XTLvEjLk_HSv6nlcoL063eRnCMOR0rd1lMfX7KLAWgECH_fteNHnx697TZhZRKML9Htz5CLPVU   (ca22a1cb)
2018-03-23T11:51:11.1866078+01:00 0HLCG9JSA7JMI:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback" (f7642de5)
2018-03-23T11:51:11.1869448+01:00 0HLCG9JSA7JMI:00000005 [INF] Successful signout callback. (d13fac4f)
2018-03-23T11:51:11.1872796+01:00 0HLCG9JSA7JMI:00000005 [INF] Request finished in 1.4839ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T11:51:42.1441106+01:00 0HLCG9JSA7JMK:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T11:51:42.1446708+01:00 0HLCG9JSA7JMK:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T11:51:42.1452618+01:00 0HLCG9JSA7JMK:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T11:51:42.1455894+01:00 0HLCG9JSA7JMK:00000003 [INF] Request finished in 1.5357ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T11:51:42.1831822+01:00 0HLCG9JSA7JMI:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=16aa658998db41ab9702e24580043671&nonce=2bcca216a9d849e19d2e70b360fea852   (ca22a1cb)
2018-03-23T11:51:42.1839504+01:00 0HLCG9JSA7JMI:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T11:51:42.2129243+01:00 0HLCG9JSA7JMI:00000006 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"16aa658998db41ab9702e24580043671\",
  \"Nonce\": \"2bcca216a9d849e19d2e70b360fea852\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"16aa658998db41ab9702e24580043671\",
    \"nonce\": \"2bcca216a9d849e19d2e70b360fea852\"
  }
}" (9a175e33)
2018-03-23T11:51:42.2129654+01:00 0HLCG9JSA7JMI:00000006 [INF] Showing login: User is not authenticated (4b8d50b2)
2018-03-23T11:51:42.2131069+01:00 0HLCG9JSA7JMI:00000006 [INF] Request finished in 29.9686ms 302  (791a596a)
2018-03-23T11:51:42.2327246+01:00 0HLCG9JSA7JMI:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D16aa658998db41ab9702e24580043671%26nonce%3D2bcca216a9d849e19d2e70b360fea852   (ca22a1cb)
2018-03-23T11:51:42.2336098+01:00 0HLCG9JSA7JMI:00000007 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=16aa658998db41ab9702e24580043671&nonce=2bcca216a9d849e19d2e70b360fea852"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T11:51:42.2337357+01:00 0HLCG9JSA7JMI:00000007 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T11:51:42.2379390+01:00 0HLCG9JSA7JMI:00000007 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T11:51:42.2419539+01:00 0HLCG9JSA7JMI:00000007 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 8.6792ms (afa2e885)
2018-03-23T11:51:42.2420864+01:00 0HLCG9JSA7JMI:00000007 [INF] Request finished in 9.3972ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T11:51:47.4374675+01:00 0HLCG9JSA7JMI:00000008 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D16aa658998db41ab9702e24580043671%26nonce%3D2bcca216a9d849e19d2e70b360fea852 application/x-www-form-urlencoded 233 (ca22a1cb)
2018-03-23T11:51:47.4395190+01:00 0HLCG9JSA7JMI:00000008 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=16aa658998db41ab9702e24580043671&nonce=2bcca216a9d849e19d2e70b360fea852"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T11:51:47.4401703+01:00 0HLCG9JSA7JMI:00000008 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T11:51:47.4464778+01:00 0HLCG9JSA7JMI:00000008 [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T11:51:47.4600139+01:00 0HLCG9JSA7JMI:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T11:51:47.4645962+01:00 0HLCG9JSA7JMI:00000008 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T11:51:47.4653946+01:00 0HLCG9JSA7JMI:00000008 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T11:51:47.4654502+01:00 0HLCG9JSA7JMI:00000008 [INF] User logged in. (fdce0db4)
2018-03-23T11:51:47.4663201+01:00 0HLCG9JSA7JMI:00000008 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=16aa658998db41ab9702e24580043671&nonce=2bcca216a9d849e19d2e70b360fea852". (d98d540e)
2018-03-23T11:51:47.4670073+01:00 0HLCG9JSA7JMI:00000008 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 28.7968ms (afa2e885)
2018-03-23T11:51:47.4672716+01:00 0HLCG9JSA7JMI:00000008 [INF] Request finished in 30.0529ms 302  (791a596a)
2018-03-23T11:51:47.4702540+01:00 0HLCG9JSA7JMI:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=16aa658998db41ab9702e24580043671&nonce=2bcca216a9d849e19d2e70b360fea852   (ca22a1cb)
2018-03-23T11:51:47.4949233+01:00 0HLCG9JSA7JMI:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:51:47.4950302+01:00 0HLCG9JSA7JMI:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:51:47.4952021+01:00 0HLCG9JSA7JMI:00000009 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T11:51:47.4959026+01:00 0HLCG9JSA7JMI:00000009 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"16aa658998db41ab9702e24580043671\",
  \"Nonce\": \"2bcca216a9d849e19d2e70b360fea852\",
  \"SessionId\": \"06dc0cb91774e746847e1ef370088abd\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"16aa658998db41ab9702e24580043671\",
    \"nonce\": \"2bcca216a9d849e19d2e70b360fea852\"
  }
}" (9a175e33)
2018-03-23T11:51:47.4964577+01:00 0HLCG9JSA7JMI:00000009 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T11:51:47.5004443+01:00 0HLCG9JSA7JMI:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T11:51:47.5033574+01:00 0HLCG9JSA7JMI:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T11:51:47.5047768+01:00 0HLCG9JSA7JMI:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T11:51:47.5442381+01:00 0HLCG9JSA7JMI:00000009 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"16aa658998db41ab9702e24580043671\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T11:51:47.5446794+01:00 0HLCG9JSA7JMI:00000009 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T11:51:47.5453402+01:00 0HLCG9JSA7JMI:00000009 [INF] Request finished in 74.9809ms 302  (791a596a)
2018-03-23T11:51:49.4435531+01:00 0HLCG9JSA7JMK:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T11:51:49.4442185+01:00 0HLCG9JSA7JMK:00000004 [INF] Policy execution successful. (0204925d)
2018-03-23T11:51:49.4446718+01:00 0HLCG9JSA7JMK:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T11:51:49.4451363+01:00 0HLCG9JSA7JMK:00000004 [INF] Request finished in 1.6267ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T11:51:49.6062414+01:00 0HLCG9JSA7JMK:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T11:51:49.6067063+01:00 0HLCG9JSA7JMK:00000005 [INF] Policy execution successful. (0204925d)
2018-03-23T11:51:49.6072712+01:00 0HLCG9JSA7JMK:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T11:51:49.6077228+01:00 0HLCG9JSA7JMK:00000005 [INF] Request finished in 1.4801ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T11:51:49.7396030+01:00 0HLCG9JSA7JMK:00000006 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T11:51:49.7403210+01:00 0HLCG9JSA7JMK:00000006 [INF] Policy execution successful. (0204925d)
2018-03-23T11:51:49.7406879+01:00 0HLCG9JSA7JMK:00000006 [INF] Request finished in 0.9942ms 204  (791a596a)
2018-03-23T11:51:49.7682250+01:00 0HLCG9JSA7JMK:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T11:51:49.7690367+01:00 0HLCG9JSA7JMK:00000007 [INF] Policy execution successful. (0204925d)
2018-03-23T11:51:49.7696140+01:00 0HLCG9JSA7JMK:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T11:51:49.7954777+01:00 0HLCG9JSA7JMK:00000007 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T11:51:49.8354278+01:00 0HLCG9JSA7JMK:00000007 [INF] Executed DbCommand ("38"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T11:51:49.8405113+01:00 0HLCG9JSA7JMK:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T11:51:49.8907147+01:00 0HLCG9JSA7JMK:00000007 [INF] Executed DbCommand ("40"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T11:51:49.8911651+01:00 0HLCG9JSA7JMK:00000007 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T11:51:49.8947446+01:00 0HLCG9JSA7JMK:00000007 [INF] Request finished in 126.4271ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T11:51:49.9945965+01:00 0HLCG9JSA7JMI:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T11:51:49.9989299+01:00 0HLCG9JSA7JMI:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:51:49.9996163+01:00 0HLCG9JSA7JMI:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T11:51:49.9999892+01:00 0HLCG9JSA7JMI:0000000A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T11:51:50.0013072+01:00 0HLCG9JSA7JMI:0000000A [INF] Request finished in 6.0786ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T12:33:41.6330356+01:00 0HLCG9JSA7JMP:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T12:33:41.6368550+01:00 0HLCG9JSA7JMP:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T12:33:41.6431171+01:00 0HLCG9JSA7JMP:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T12:33:41.6454521+01:00 0HLCG9JSA7JMP:00000001 [INF] Request finished in 14.5932ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T12:33:42.1803504+01:00 0HLCG9JSA7JMR:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T12:33:42.1860809+01:00 0HLCG9JSA7JMR:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T12:33:42.2296977+01:00 0HLCG9JSA7JMR:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T12:33:42.2383940+01:00 0HLCG9JSA7JMR:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T12:33:42.2457317+01:00 0HLCG9JSA7JMR:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T12:33:42.2461932+01:00 0HLCG9JSA7JMR:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:33:42.2463582+01:00 0HLCG9JSA7JMR:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:33:42.2467833+01:00 0HLCG9JSA7JMR:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T12:33:42.2479239+01:00 0HLCG9JSA7JMR:00000001 [INF] Request finished in 67.7693ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T12:33:53.0363911+01:00 0HLCG9JSA7JMP:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T12:33:53.0369470+01:00 0HLCG9JSA7JMP:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T12:33:53.0373272+01:00 0HLCG9JSA7JMP:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T12:33:53.0378955+01:00 0HLCG9JSA7JMP:00000002 [INF] Request finished in 1.6533ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T12:33:53.3124260+01:00 0HLCG9JSA7JMR:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T12:33:53.3134510+01:00 0HLCG9JSA7JMR:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:33:53.3136238+01:00 0HLCG9JSA7JMR:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:33:53.3139805+01:00 0HLCG9JSA7JMR:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T12:33:53.3146990+01:00 0HLCG9JSA7JMR:00000002 [INF] Request finished in 2.311ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T12:34:02.0599535+01:00 0HLCG9JSA7JMP:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T12:34:02.0604423+01:00 0HLCG9JSA7JMP:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T12:34:02.0608460+01:00 0HLCG9JSA7JMP:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T12:34:02.0612497+01:00 0HLCG9JSA7JMP:00000003 [INF] Request finished in 1.5737ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T12:34:02.3599580+01:00 0HLCG9JSA7JMR:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T12:34:02.3619991+01:00 0HLCG9JSA7JMR:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:34:02.3620693+01:00 0HLCG9JSA7JMR:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:34:02.3621403+01:00 0HLCG9JSA7JMR:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T12:34:02.3626564+01:00 0HLCG9JSA7JMR:00000003 [INF] Request finished in 2.7185ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T12:34:06.3963859+01:00 0HLCG9JSA7JMR:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MDIzMDcsImV4cCI6MTUyMTgwMjYwNywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiIyYmNjYTIxNmE5ZDg0OWUxOWQyZTcwYjM2MGZlYTg1MiIsImlhdCI6MTUyMTgwMjMwNywiYXRfaGFzaCI6InE5MENHYVVwc1djLWpNNl9yR2VmN1EiLCJzaWQiOiIwNmRjMGNiOTE3NzRlNzQ2ODQ3ZTFlZjM3MDA4OGFiZCIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgwMjMwNywiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.Wxevs9WfwAzp_Rvsfv8R0E6Pat4q_ARlGqH2VH78VDrSeHE6Vq7gAWftxeAqoCa9rKITcEFfja_Ioifh-j9xNjOsRPnoje2WWFryr_19DOqo40WldgmRadYnDtDfex6NbGMyq_b1WhDiumH19fcKUvRpFgyt0DAqGqyBkfFRfyEQy486VYh9MEPfD9zENnCjvTr54ui2bHVJYWxa-lszSeIJkjxwumfVvN8fobaxKvvwtBeho0AB647pu-rgAP5l4S6YFZwOuCgAm2SwGcMSMn1X6-XrC93zOZX14HRBoR69V0OUsvRLudqlsSQPaUqQlNRs1v92hNwZvrfuoGypLw&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fhome   (ca22a1cb)
2018-03-23T12:34:06.3984347+01:00 0HLCG9JSA7JMR:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:34:06.3985254+01:00 0HLCG9JSA7JMR:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:34:06.3990917+01:00 0HLCG9JSA7JMR:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2018-03-23T12:34:06.4049928+01:00 0HLCG9JSA7JMR:00000004 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T12:34:06.4080814+01:00 0HLCG9JSA7JMR:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T12:34:06.4090162+01:00 0HLCG9JSA7JMR:00000004 [INF] End session request validation success
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"PostLogOutUri\": \"http://localhost:51540/home\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MDIzMDcsImV4cCI6MTUyMTgwMjYwNywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiIyYmNjYTIxNmE5ZDg0OWUxOWQyZTcwYjM2MGZlYTg1MiIsImlhdCI6MTUyMTgwMjMwNywiYXRfaGFzaCI6InE5MENHYVVwc1djLWpNNl9yR2VmN1EiLCJzaWQiOiIwNmRjMGNiOTE3NzRlNzQ2ODQ3ZTFlZjM3MDA4OGFiZCIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgwMjMwNywiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.Wxevs9WfwAzp_Rvsfv8R0E6Pat4q_ARlGqH2VH78VDrSeHE6Vq7gAWftxeAqoCa9rKITcEFfja_Ioifh-j9xNjOsRPnoje2WWFryr_19DOqo40WldgmRadYnDtDfex6NbGMyq_b1WhDiumH19fcKUvRpFgyt0DAqGqyBkfFRfyEQy486VYh9MEPfD9zENnCjvTr54ui2bHVJYWxa-lszSeIJkjxwumfVvN8fobaxKvvwtBeho0AB647pu-rgAP5l4S6YFZwOuCgAm2SwGcMSMn1X6-XrC93zOZX14HRBoR69V0OUsvRLudqlsSQPaUqQlNRs1v92hNwZvrfuoGypLw\",
    \"post_logout_redirect_uri\": \"http://localhost:51540/home\"
  }
}" (8a893fca)
2018-03-23T12:34:06.4097376+01:00 0HLCG9JSA7JMR:00000004 [INF] Request finished in 13.5087ms 302  (791a596a)
2018-03-23T12:34:06.4118366+01:00 0HLCG9JSA7JMR:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8I8cZ24bSc5BkaJobKJXk0KfY90D_jjlxyxWCXnFf3qQK--iSs4CvQagtvpITnZRTXeyYsuQ7el8RBkR-PSw3xFwRHdvvFZ_oat2hPuUtz9D6h0a2ytKGI_mh9XwWc5pwp_yuvX-4LVeHhXeCbtlXaKnyVb0EbsJsGnbje5kHgaIn7YlAoNz9Ajf27q4CcPj2HjyrqQwGIZUnp1t9lQtFKWkQHMLHALUlV7JJwPFT4dnP7tEugZ44otmZ2imQcOXkp9MyAGuL3zLvq7dGW3V0fBs3xfu-guQhtX4gTEvj9o2H-VdUyuj07odIqU79yxtUJ6lsfcrBmTFF82ekYvkrv30mJU4K7wWCG5bg6ZuwvZ8vEhkfbbWmTG2SjTJIUesqeIs72YCk-4nmWruuD9J3zzXVnXg5IbpJJx7HGJi3-8Ebr85vEW1nr4DOgR0Vg1vfi0Y1NUQqsbgqHLEUZsQ1Sepvj6tSuzSbdobaTvh5ak8   (ca22a1cb)
2018-03-23T12:34:06.4135361+01:00 0HLCG9JSA7JMR:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:34:06.4136978+01:00 0HLCG9JSA7JMR:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:34:06.4209807+01:00 0HLCG9JSA7JMR:00000005 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0KfY90D_jjlxyxWCXnFf3qQK--iSs4CvQagtvpITnZRTXeyYsuQ7el8RBkR-PSw3xFwRHdvvFZ_oat2hPuUtz9D6h0a2ytKGI_mh9XwWc5pwp_yuvX-4LVeHhXeCbtlXaKnyVb0EbsJsGnbje5kHgaIn7YlAoNz9Ajf27q4CcPj2HjyrqQwGIZUnp1t9lQtFKWkQHMLHALUlV7JJwPFT4dnP7tEugZ44otmZ2imQcOXkp9MyAGuL3zLvq7dGW3V0fBs3xfu-guQhtX4gTEvj9o2H-VdUyuj07odIqU79yxtUJ6lsfcrBmTFF82ekYvkrv30mJU4K7wWCG5bg6ZuwvZ8vEhkfbbWmTG2SjTJIUesqeIs72YCk-4nmWruuD9J3zzXVnXg5IbpJJx7HGJi3-8Ebr85vEW1nr4DOgR0Vg1vfi0Y1NUQqsbgqHLEUZsQ1Sepvj6tSuzSbdobaTvh5ak8"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T12:34:06.4266997+01:00 0HLCG9JSA7JMR:00000005 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T12:34:06.4271632+01:00 0HLCG9JSA7JMR:00000005 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T12:34:06.4274404+01:00 0HLCG9JSA7JMR:00000005 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T12:34:06.4276649+01:00 0HLCG9JSA7JMR:00000005 [INF] User logged out. (f9c27106)
2018-03-23T12:34:06.4325350+01:00 0HLCG9JSA7JMR:00000005 [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T12:34:06.4423561+01:00 0HLCG9JSA7JMR:00000005 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 25.926ms (afa2e885)
2018-03-23T12:34:06.4434602+01:00 0HLCG9JSA7JMR:00000005 [INF] Request finished in 31.7797ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T12:34:06.5995076+01:00 0HLCG9JSA7JMR:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8I8cZ24bSc5BkaJobKJXk0IEdVQP8jrdqz3GQvE5043Ccndoi8Pa6wDJprhbYRhbxPUA6apC1Fge7AGuGV-SUb5NabAAladJgZY7MQjltoVpM5at0jCYv_bY9Q2XuBv_nhBgqc78oXKR_wsQnnv7Z0I9lNj34UeGkksJ7xApNeu0zsY29FVlzz9Hirc4wPD8WJrUM-DN3XYmcPcypVxiTNKcjnBu0dG17dWEV6gnYeshWo5GtqK6y863ar6MXXKcGfbphSDe5KOpA3wYYEumHR8of1keBRNRHkRCfZPf-qSCPkG12GlYYjQvW2vVzcSO-UwX9dNah-83pm9bVkvbdE4   (ca22a1cb)
2018-03-23T12:34:06.6006716+01:00 0HLCG9JSA7JMR:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback" (f7642de5)
2018-03-23T12:34:06.6009736+01:00 0HLCG9JSA7JMR:00000006 [INF] Successful signout callback. (d13fac4f)
2018-03-23T12:34:06.6012118+01:00 0HLCG9JSA7JMR:00000006 [INF] Request finished in 1.7213ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T12:34:13.8179269+01:00 0HLCG9JSA7JMP:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T12:34:13.8184003+01:00 0HLCG9JSA7JMP:00000004 [INF] Policy execution successful. (0204925d)
2018-03-23T12:34:13.8188839+01:00 0HLCG9JSA7JMP:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T12:34:13.8192479+01:00 0HLCG9JSA7JMP:00000004 [INF] Request finished in 1.2893ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T12:34:13.8288740+01:00 0HLCG9JSA7JMR:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=63f9791b4b814af2b693d53addc56f18&nonce=bbc26d9c6dc6420d8b315b2a76afe319   (ca22a1cb)
2018-03-23T12:34:13.8329016+01:00 0HLCG9JSA7JMR:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T12:34:13.8344818+01:00 0HLCG9JSA7JMR:00000007 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"63f9791b4b814af2b693d53addc56f18\",
  \"Nonce\": \"bbc26d9c6dc6420d8b315b2a76afe319\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"63f9791b4b814af2b693d53addc56f18\",
    \"nonce\": \"bbc26d9c6dc6420d8b315b2a76afe319\"
  }
}" (9a175e33)
2018-03-23T12:34:13.8356553+01:00 0HLCG9JSA7JMR:00000007 [INF] Showing login: User is not authenticated (4b8d50b2)
2018-03-23T12:34:13.8359709+01:00 0HLCG9JSA7JMR:00000007 [INF] Request finished in 7.1157ms 302  (791a596a)
2018-03-23T12:34:13.8383854+01:00 0HLCG9JSA7JMR:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D63f9791b4b814af2b693d53addc56f18%26nonce%3Dbbc26d9c6dc6420d8b315b2a76afe319   (ca22a1cb)
2018-03-23T12:34:13.8401901+01:00 0HLCG9JSA7JMR:00000008 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=63f9791b4b814af2b693d53addc56f18&nonce=bbc26d9c6dc6420d8b315b2a76afe319"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T12:34:13.8406177+01:00 0HLCG9JSA7JMR:00000008 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T12:34:13.8443413+01:00 0HLCG9JSA7JMR:00000008 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T12:34:13.8538878+01:00 0HLCG9JSA7JMR:00000008 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 14.1903ms (afa2e885)
2018-03-23T12:34:13.8546769+01:00 0HLCG9JSA7JMR:00000008 [INF] Request finished in 16.1332ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T12:34:17.2949353+01:00 0HLCG9JSA7JMR:00000009 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D63f9791b4b814af2b693d53addc56f18%26nonce%3Dbbc26d9c6dc6420d8b315b2a76afe319 application/x-www-form-urlencoded 233 (ca22a1cb)
2018-03-23T12:34:17.2966370+01:00 0HLCG9JSA7JMR:00000009 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=63f9791b4b814af2b693d53addc56f18&nonce=bbc26d9c6dc6420d8b315b2a76afe319"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T12:34:17.2978182+01:00 0HLCG9JSA7JMR:00000009 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T12:34:17.3044824+01:00 0HLCG9JSA7JMR:00000009 [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T12:34:17.3204872+01:00 0HLCG9JSA7JMR:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T12:34:17.3214644+01:00 0HLCG9JSA7JMR:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T12:34:17.3219973+01:00 0HLCG9JSA7JMR:00000009 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T12:34:17.3220550+01:00 0HLCG9JSA7JMR:00000009 [INF] User logged in. (fdce0db4)
2018-03-23T12:34:17.3221700+01:00 0HLCG9JSA7JMR:00000009 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=63f9791b4b814af2b693d53addc56f18&nonce=bbc26d9c6dc6420d8b315b2a76afe319". (d98d540e)
2018-03-23T12:34:17.3222791+01:00 0HLCG9JSA7JMR:00000009 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 26.7809ms (afa2e885)
2018-03-23T12:34:17.3224283+01:00 0HLCG9JSA7JMR:00000009 [INF] Request finished in 27.5425ms 302  (791a596a)
2018-03-23T12:34:17.3243399+01:00 0HLCG9JSA7JMR:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=63f9791b4b814af2b693d53addc56f18&nonce=bbc26d9c6dc6420d8b315b2a76afe319   (ca22a1cb)
2018-03-23T12:34:17.3259300+01:00 0HLCG9JSA7JMR:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:34:17.3260185+01:00 0HLCG9JSA7JMR:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:34:17.3263311+01:00 0HLCG9JSA7JMR:0000000A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T12:34:17.3269521+01:00 0HLCG9JSA7JMR:0000000A [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"63f9791b4b814af2b693d53addc56f18\",
  \"Nonce\": \"bbc26d9c6dc6420d8b315b2a76afe319\",
  \"SessionId\": \"b9d1e2b42c067b0f5f928f1ec07908c1\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"63f9791b4b814af2b693d53addc56f18\",
    \"nonce\": \"bbc26d9c6dc6420d8b315b2a76afe319\"
  }
}" (9a175e33)
2018-03-23T12:34:17.3275641+01:00 0HLCG9JSA7JMR:0000000A [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T12:34:17.3324495+01:00 0HLCG9JSA7JMR:0000000A [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T12:34:17.3348453+01:00 0HLCG9JSA7JMR:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T12:34:17.3361065+01:00 0HLCG9JSA7JMR:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T12:34:17.3444533+01:00 0HLCG9JSA7JMR:0000000A [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"63f9791b4b814af2b693d53addc56f18\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T12:34:17.3450059+01:00 0HLCG9JSA7JMR:0000000A [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T12:34:17.3468012+01:00 0HLCG9JSA7JMR:0000000A [INF] Request finished in 22.288ms 302  (791a596a)
2018-03-23T12:34:19.2221321+01:00 0HLCG9JSA7JMP:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T12:34:19.2225991+01:00 0HLCG9JSA7JMP:00000005 [INF] Policy execution successful. (0204925d)
2018-03-23T12:34:19.2229754+01:00 0HLCG9JSA7JMP:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T12:34:19.2235566+01:00 0HLCG9JSA7JMP:00000005 [INF] Request finished in 1.256ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T12:34:19.3897192+01:00 0HLCG9JSA7JMP:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T12:34:19.3901259+01:00 0HLCG9JSA7JMP:00000006 [INF] Policy execution successful. (0204925d)
2018-03-23T12:34:19.3912126+01:00 0HLCG9JSA7JMP:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T12:34:19.3929185+01:00 0HLCG9JSA7JMP:00000006 [INF] Request finished in 3.0543ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T12:34:19.4868150+01:00 0HLCG9JSA7JMP:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T12:34:19.4877592+01:00 0HLCG9JSA7JMP:00000007 [INF] Policy execution successful. (0204925d)
2018-03-23T12:34:19.4880859+01:00 0HLCG9JSA7JMP:00000007 [INF] Request finished in 1.3086ms 204  (791a596a)
2018-03-23T12:34:19.5184506+01:00 0HLCG9JSA7JMP:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T12:34:19.5193636+01:00 0HLCG9JSA7JMP:00000008 [INF] Policy execution successful. (0204925d)
2018-03-23T12:34:19.5205157+01:00 0HLCG9JSA7JMP:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T12:34:19.5246524+01:00 0HLCG9JSA7JMP:00000008 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T12:34:19.5353531+01:00 0HLCG9JSA7JMP:00000008 [INF] Executed DbCommand ("9"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T12:34:19.5652765+01:00 0HLCG9JSA7JMP:00000008 [INF] Executed DbCommand ("28"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T12:34:19.5757685+01:00 0HLCG9JSA7JMP:00000008 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T12:34:19.5762989+01:00 0HLCG9JSA7JMP:00000008 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T12:34:19.5771045+01:00 0HLCG9JSA7JMP:00000008 [INF] Request finished in 58.813ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T12:34:19.6947734+01:00 0HLCG9JSA7JMR:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T12:34:19.6963634+01:00 0HLCG9JSA7JMR:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:34:19.6964601+01:00 0HLCG9JSA7JMR:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:34:19.6965340+01:00 0HLCG9JSA7JMR:0000000B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T12:34:19.6972636+01:00 0HLCG9JSA7JMR:0000000B [INF] Request finished in 2.5672ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T12:37:38.0824412+01:00 0HLCG9JSA7JN3:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T12:37:38.0831289+01:00 0HLCG9JSA7JN3:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T12:37:38.0836263+01:00 0HLCG9JSA7JN3:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T12:37:38.0841557+01:00 0HLCG9JSA7JN3:00000001 [INF] Request finished in 1.7315ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T12:37:38.5721519+01:00 0HLCG9JSA7JN6:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T12:37:38.5731231+01:00 0HLCG9JSA7JN6:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:37:38.5732082+01:00 0HLCG9JSA7JN6:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:37:38.5732655+01:00 0HLCG9JSA7JN6:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T12:37:38.5735751+01:00 0HLCG9JSA7JN6:00000001 [INF] Request finished in 1.4159ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T12:37:59.4032634+01:00 0HLCG9JSA7JN3:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T12:37:59.4037330+01:00 0HLCG9JSA7JN3:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T12:37:59.4041747+01:00 0HLCG9JSA7JN3:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T12:37:59.4046575+01:00 0HLCG9JSA7JN3:00000002 [INF] Request finished in 1.4052ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T12:37:59.6836313+01:00 0HLCG9JSA7JN6:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T12:37:59.6848048+01:00 0HLCG9JSA7JN6:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:37:59.6854497+01:00 0HLCG9JSA7JN6:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:37:59.6857845+01:00 0HLCG9JSA7JN6:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T12:37:59.6863307+01:00 0HLCG9JSA7JN6:00000002 [INF] Request finished in 2.7232ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T12:38:06.1098717+01:00 0HLCG9JSA7JN6:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MDQ4NTcsImV4cCI6MTUyMTgwNTE1NywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiJiYmMyNmQ5YzZkYzY0MjBkOGIzMTViMmE3NmFmZTMxOSIsImlhdCI6MTUyMTgwNDg1NywiYXRfaGFzaCI6InM5RU14QzJYNGpVOFRLMnRETV9WNmciLCJzaWQiOiJiOWQxZTJiNDJjMDY3YjBmNWY5MjhmMWVjMDc5MDhjMSIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgwNDg1NywiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.ToE5SkEkjYtb-6NDphTeW1C_gWlzJwu33CS3PuIEvqe21YQ3_TGGDiWm2cGImmnoE8ej2aXI-ryze4LRaGTupkWKb_wut7WTR277hRXp7TuiJT7b-GPdHYyk2QIBLd1Ugr5mvyYcr_igwm487BfRDk9MrhFtIxp0i6jkQphtNtyboALTUInYbvX-XOo893dWbprho_qNhaupgONcEw80A5w2ws9Gucv-NgXKVtjqCP4qVlCtz6HtGkNmhvs960OLBQg5k9TTSYQP9xEC7we_XUPaveXuYE8I2cJ2yK50lVuXKbWEEsffou2rXCiAzWpU-3yHw3WfwY4Fgdypf5VFpA&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fhome   (ca22a1cb)
2018-03-23T12:38:06.1119181+01:00 0HLCG9JSA7JN6:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:38:06.1121371+01:00 0HLCG9JSA7JN6:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:38:06.1124633+01:00 0HLCG9JSA7JN6:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2018-03-23T12:38:06.1180396+01:00 0HLCG9JSA7JN6:00000003 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T12:38:06.1238539+01:00 0HLCG9JSA7JN6:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T12:38:06.1244963+01:00 0HLCG9JSA7JN6:00000003 [INF] End session request validation success
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"PostLogOutUri\": \"http://localhost:51540/home\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MDQ4NTcsImV4cCI6MTUyMTgwNTE1NywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiJiYmMyNmQ5YzZkYzY0MjBkOGIzMTViMmE3NmFmZTMxOSIsImlhdCI6MTUyMTgwNDg1NywiYXRfaGFzaCI6InM5RU14QzJYNGpVOFRLMnRETV9WNmciLCJzaWQiOiJiOWQxZTJiNDJjMDY3YjBmNWY5MjhmMWVjMDc5MDhjMSIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgwNDg1NywiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.ToE5SkEkjYtb-6NDphTeW1C_gWlzJwu33CS3PuIEvqe21YQ3_TGGDiWm2cGImmnoE8ej2aXI-ryze4LRaGTupkWKb_wut7WTR277hRXp7TuiJT7b-GPdHYyk2QIBLd1Ugr5mvyYcr_igwm487BfRDk9MrhFtIxp0i6jkQphtNtyboALTUInYbvX-XOo893dWbprho_qNhaupgONcEw80A5w2ws9Gucv-NgXKVtjqCP4qVlCtz6HtGkNmhvs960OLBQg5k9TTSYQP9xEC7we_XUPaveXuYE8I2cJ2yK50lVuXKbWEEsffou2rXCiAzWpU-3yHw3WfwY4Fgdypf5VFpA\",
    \"post_logout_redirect_uri\": \"http://localhost:51540/home\"
  }
}" (8a893fca)
2018-03-23T12:38:06.1248315+01:00 0HLCG9JSA7JN6:00000003 [INF] Request finished in 15.1ms 302  (791a596a)
2018-03-23T12:38:06.1271541+01:00 0HLCG9JSA7JN6:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8I8cZ24bSc5BkaJobKJXk0L-dfC2H4dO9rNgU1cMnOx2Afo8WUnW8zdT-cz1YRsZVAConUKskj6cV5D7b3azbslAKZ_Bvsw_bUhv0MWwhGPVax-fPuRQyo96Bfknxz4JD6eH6qnwv2TLV5WdpCNptqdEe5-wO2reUJ6T-Ki9iPw67d0hdKTNcQHe4f7CFeA0Y0iDWY61LeKAW4Nqn0JGQPNn7qSLtX35Borg2-ORK7OCrVqSwPOq3_-M1x_EuJ2JH9LexM_MKQ8YrYfy7JhKKtTNxWGNpqhxOATqjWPNSki5OBSteNOrqu60llgPwbC9udnbZWY4s5jM1O4wIwQoQWU6EO-59LbI4jfYQVBLzYPe904NOkC6TIHnBNh4FGyDURqkdjiacNG5oQ4Gql5jQqT2WZrH3eJjOcV9dE1eQs02y2BW0g3lxYhR_6y4TWkRbFWDQk4bj_nR-H0GUVQfDJYnJcAMgGPKyyVXBpsK7QRr   (ca22a1cb)
2018-03-23T12:38:06.1279106+01:00 0HLCG9JSA7JN6:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:38:06.1280868+01:00 0HLCG9JSA7JN6:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:38:06.1287616+01:00 0HLCG9JSA7JN6:00000004 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0L-dfC2H4dO9rNgU1cMnOx2Afo8WUnW8zdT-cz1YRsZVAConUKskj6cV5D7b3azbslAKZ_Bvsw_bUhv0MWwhGPVax-fPuRQyo96Bfknxz4JD6eH6qnwv2TLV5WdpCNptqdEe5-wO2reUJ6T-Ki9iPw67d0hdKTNcQHe4f7CFeA0Y0iDWY61LeKAW4Nqn0JGQPNn7qSLtX35Borg2-ORK7OCrVqSwPOq3_-M1x_EuJ2JH9LexM_MKQ8YrYfy7JhKKtTNxWGNpqhxOATqjWPNSki5OBSteNOrqu60llgPwbC9udnbZWY4s5jM1O4wIwQoQWU6EO-59LbI4jfYQVBLzYPe904NOkC6TIHnBNh4FGyDURqkdjiacNG5oQ4Gql5jQqT2WZrH3eJjOcV9dE1eQs02y2BW0g3lxYhR_6y4TWkRbFWDQk4bj_nR-H0GUVQfDJYnJcAMgGPKyyVXBpsK7QRr"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T12:38:06.1294083+01:00 0HLCG9JSA7JN6:00000004 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T12:38:06.1296136+01:00 0HLCG9JSA7JN6:00000004 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T12:38:06.1297316+01:00 0HLCG9JSA7JN6:00000004 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T12:38:06.1297653+01:00 0HLCG9JSA7JN6:00000004 [INF] User logged out. (f9c27106)
2018-03-23T12:38:06.1298667+01:00 0HLCG9JSA7JN6:00000004 [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T12:38:06.1319515+01:00 0HLCG9JSA7JN6:00000004 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 3.6243ms (afa2e885)
2018-03-23T12:38:06.1321662+01:00 0HLCG9JSA7JN6:00000004 [INF] Request finished in 5.0381ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T12:38:06.2995758+01:00 0HLCG9JSA7JN6:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8I8cZ24bSc5BkaJobKJXk0KXCRizNwC4PencwmailWEvabbVmKyliqL4wLVdnyTjtX21uQo-K5XLMBxZOp-BoxmeTGZF3mFKolij8gzVS7ZA_NcSNmaTyK84nmoBZG8zrMdiUftjA-btbzYrJQFHOm5bHsd7TM4Lb4_iFo9oo5Zf8y9Ph8i_pXqswSljoYMKRbioJNOMQzVom1yZTHRApfLEVadey-XN_jmFsOndHO_IoA6XFCyGEluHDYVkko8qUSgI08vgYhHksSYiqFNj1BfzSTulUqgy7OVDUx618RsZs8u28QNc2fHflqNtPz1trIL_yN0-IdqzIGX4ft6-OHQ   (ca22a1cb)
2018-03-23T12:38:06.3003794+01:00 0HLCG9JSA7JN6:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback" (f7642de5)
2018-03-23T12:38:06.3005599+01:00 0HLCG9JSA7JN6:00000005 [INF] Successful signout callback. (d13fac4f)
2018-03-23T12:38:06.3007309+01:00 0HLCG9JSA7JN6:00000005 [INF] Request finished in 1.1807ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T12:38:12.8490460+01:00 0HLCG9JSA7JN3:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T12:38:12.8498747+01:00 0HLCG9JSA7JN3:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T12:38:12.8504828+01:00 0HLCG9JSA7JN3:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T12:38:12.8508643+01:00 0HLCG9JSA7JN3:00000003 [INF] Request finished in 1.9282ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T12:38:12.8620325+01:00 0HLCG9JSA7JN6:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=8c9b66ec22644f1e8b0affb6168ddcbb&nonce=99cc4d9d4d7a489c968050d0f97e9fe3   (ca22a1cb)
2018-03-23T12:38:12.8627330+01:00 0HLCG9JSA7JN6:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T12:38:12.8632599+01:00 0HLCG9JSA7JN6:00000006 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"8c9b66ec22644f1e8b0affb6168ddcbb\",
  \"Nonce\": \"99cc4d9d4d7a489c968050d0f97e9fe3\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"8c9b66ec22644f1e8b0affb6168ddcbb\",
    \"nonce\": \"99cc4d9d4d7a489c968050d0f97e9fe3\"
  }
}" (9a175e33)
2018-03-23T12:38:12.8632889+01:00 0HLCG9JSA7JN6:00000006 [INF] Showing login: User is not authenticated (4b8d50b2)
2018-03-23T12:38:12.8634900+01:00 0HLCG9JSA7JN6:00000006 [INF] Request finished in 1.4407ms 302  (791a596a)
2018-03-23T12:38:12.8665973+01:00 0HLCG9JSA7JN6:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D8c9b66ec22644f1e8b0affb6168ddcbb%26nonce%3D99cc4d9d4d7a489c968050d0f97e9fe3   (ca22a1cb)
2018-03-23T12:38:12.8686718+01:00 0HLCG9JSA7JN6:00000007 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=8c9b66ec22644f1e8b0affb6168ddcbb&nonce=99cc4d9d4d7a489c968050d0f97e9fe3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T12:38:12.8689832+01:00 0HLCG9JSA7JN6:00000007 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T12:38:12.8696028+01:00 0HLCG9JSA7JN6:00000007 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T12:38:12.8733282+01:00 0HLCG9JSA7JN6:00000007 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 5.583ms (afa2e885)
2018-03-23T12:38:12.8758688+01:00 0HLCG9JSA7JN6:00000007 [INF] Request finished in 9.4571ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T12:38:18.4517653+01:00 0HLCG9JSA7JN6:00000008 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D8c9b66ec22644f1e8b0affb6168ddcbb%26nonce%3D99cc4d9d4d7a489c968050d0f97e9fe3 application/x-www-form-urlencoded 233 (ca22a1cb)
2018-03-23T12:38:18.4545891+01:00 0HLCG9JSA7JN6:00000008 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=8c9b66ec22644f1e8b0affb6168ddcbb&nonce=99cc4d9d4d7a489c968050d0f97e9fe3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T12:38:18.4559328+01:00 0HLCG9JSA7JN6:00000008 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T12:38:18.4622252+01:00 0HLCG9JSA7JN6:00000008 [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T12:38:18.4767296+01:00 0HLCG9JSA7JN6:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T12:38:18.4802337+01:00 0HLCG9JSA7JN6:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T12:38:18.4807302+01:00 0HLCG9JSA7JN6:00000008 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T12:38:18.4807756+01:00 0HLCG9JSA7JN6:00000008 [INF] User logged in. (fdce0db4)
2018-03-23T12:38:18.4808504+01:00 0HLCG9JSA7JN6:00000008 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=8c9b66ec22644f1e8b0affb6168ddcbb&nonce=99cc4d9d4d7a489c968050d0f97e9fe3". (d98d540e)
2018-03-23T12:38:18.4809800+01:00 0HLCG9JSA7JN6:00000008 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 28.5368ms (afa2e885)
2018-03-23T12:38:18.4811754+01:00 0HLCG9JSA7JN6:00000008 [INF] Request finished in 29.6154ms 302  (791a596a)
2018-03-23T12:38:18.4834172+01:00 0HLCG9JSA7JN6:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=8c9b66ec22644f1e8b0affb6168ddcbb&nonce=99cc4d9d4d7a489c968050d0f97e9fe3   (ca22a1cb)
2018-03-23T12:38:18.4840515+01:00 0HLCG9JSA7JN6:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:38:18.4841648+01:00 0HLCG9JSA7JN6:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:38:18.4842687+01:00 0HLCG9JSA7JN6:00000009 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T12:38:18.4847815+01:00 0HLCG9JSA7JN6:00000009 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"8c9b66ec22644f1e8b0affb6168ddcbb\",
  \"Nonce\": \"99cc4d9d4d7a489c968050d0f97e9fe3\",
  \"SessionId\": \"ae4f94cd49138be0ecf974d570843ca8\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"8c9b66ec22644f1e8b0affb6168ddcbb\",
    \"nonce\": \"99cc4d9d4d7a489c968050d0f97e9fe3\"
  }
}" (9a175e33)
2018-03-23T12:38:18.4851403+01:00 0HLCG9JSA7JN6:00000009 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T12:38:18.4878922+01:00 0HLCG9JSA7JN6:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T12:38:18.4900364+01:00 0HLCG9JSA7JN6:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T12:38:18.4908545+01:00 0HLCG9JSA7JN6:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T12:38:18.4966522+01:00 0HLCG9JSA7JN6:00000009 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"8c9b66ec22644f1e8b0affb6168ddcbb\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T12:38:18.4969897+01:00 0HLCG9JSA7JN6:00000009 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T12:38:18.4972552+01:00 0HLCG9JSA7JN6:00000009 [INF] Request finished in 13.9821ms 302  (791a596a)
2018-03-23T12:38:20.3492529+01:00 0HLCG9JSA7JN3:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T12:38:20.3498824+01:00 0HLCG9JSA7JN3:00000004 [INF] Policy execution successful. (0204925d)
2018-03-23T12:38:20.3502857+01:00 0HLCG9JSA7JN3:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T12:38:20.3508511+01:00 0HLCG9JSA7JN3:00000004 [INF] Request finished in 1.6379ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T12:38:20.4814081+01:00 0HLCG9JSA7JN3:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T12:38:20.4818614+01:00 0HLCG9JSA7JN3:00000005 [INF] Policy execution successful. (0204925d)
2018-03-23T12:38:20.4823113+01:00 0HLCG9JSA7JN3:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T12:38:20.4824901+01:00 0HLCG9JSA7JN3:00000005 [INF] Request finished in 1.0999ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T12:38:20.5852989+01:00 0HLCG9JSA7JN3:00000006 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T12:38:20.5857846+01:00 0HLCG9JSA7JN3:00000006 [INF] Policy execution successful. (0204925d)
2018-03-23T12:38:20.5859771+01:00 0HLCG9JSA7JN3:00000006 [INF] Request finished in 0.7308ms 204  (791a596a)
2018-03-23T12:38:20.6177333+01:00 0HLCG9JSA7JN3:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T12:38:20.6185570+01:00 0HLCG9JSA7JN3:00000007 [INF] Policy execution successful. (0204925d)
2018-03-23T12:38:20.6230867+01:00 0HLCG9JSA7JN3:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T12:38:20.6274098+01:00 0HLCG9JSA7JN3:00000007 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T12:38:20.6544346+01:00 0HLCG9JSA7JN3:00000007 [INF] Executed DbCommand ("24"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T12:38:20.6768778+01:00 0HLCG9JSA7JN3:00000007 [INF] Executed DbCommand ("21"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T12:38:20.6922918+01:00 0HLCG9JSA7JN3:00000007 [INF] Executed DbCommand ("12"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T12:38:20.6924983+01:00 0HLCG9JSA7JN3:00000007 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T12:38:20.6941191+01:00 0HLCG9JSA7JN3:00000007 [INF] Request finished in 76.5037ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T12:38:20.7458455+01:00 0HLCG9JSA7JN6:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T12:38:20.7468539+01:00 0HLCG9JSA7JN6:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:38:20.7469104+01:00 0HLCG9JSA7JN6:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T12:38:20.7470036+01:00 0HLCG9JSA7JN6:0000000A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T12:38:20.7473272+01:00 0HLCG9JSA7JN6:0000000A [INF] Request finished in 1.6357ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T13:49:20.1651712+01:00 0HLCG9JSA7JNH:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=dbf901722c754f8d977552a461213e87&nonce=26a9230ef2314fbcaa370a5f0d97ee30&prompt=none&id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MDUwOTgsImV4cCI6MTUyMTgwNTM5OCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiI5OWNjNGQ5ZDRkN2E0ODljOTY4MDUwZDBmOTdlOWZlMyIsImlhdCI6MTUyMTgwNTA5OCwiYXRfaGFzaCI6ImVZRE1xT253bXZ4NjBSTmx6MHQ0TFEiLCJzaWQiOiJhZTRmOTRjZDQ5MTM4YmUwZWNmOTc0ZDU3MDg0M2NhOCIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgwNTA5OCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.qIRGF5fw_rCfv5pDFY5zI_5LEFPJcO6iKTrKhncdyj4wJ7Zi4zZBzikCoxbe463xaEwn82Fvgq-y2X-40It4CyIne0FvWfKgIKWtUJ9F3pITroJzfvPi2-RsqGTOnR44SBr2yA87jMITkm26V7BXiPRtTEf2IydpC7iGxn-O1LzjJMhV-igzHXQBLJLNnGJuD1x0YzdZJnfghywtM0KlZwblVkjzYKxrEwfyCMhcQ2XTuH1NbcGD9VsRetUNOFDfoUkvQGwHXEkNaVQ92E_RQEkF4SZpUrBjsUuyR9wEAyB0x3-3_9C95kf0qwJEFY21QeO5GJvwJyAWuM0gvfXeDg   (ca22a1cb)
2018-03-23T13:49:20.1671008+01:00 0HLCG9JSA7JNH:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T13:49:20.5265350+01:00 0HLCG9JSA7JNH:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T13:49:20.5303877+01:00 0HLCG9JSA7JNH:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T13:49:20.5382163+01:00 0HLCG9JSA7JNH:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T13:49:20.5385512+01:00 0HLCG9JSA7JNH:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T13:49:20.5386829+01:00 0HLCG9JSA7JNH:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T13:49:20.5389070+01:00 0HLCG9JSA7JNH:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T13:49:20.5396481+01:00 0HLCG9JSA7JNH:00000001 [ERR] Invalid redirect_uri: "http://localhost/callback"
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"dbf901722c754f8d977552a461213e87\",
    \"nonce\": \"26a9230ef2314fbcaa370a5f0d97ee30\",
    \"prompt\": \"none\",
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MDUwOTgsImV4cCI6MTUyMTgwNTM5OCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiI5OWNjNGQ5ZDRkN2E0ODljOTY4MDUwZDBmOTdlOWZlMyIsImlhdCI6MTUyMTgwNTA5OCwiYXRfaGFzaCI6ImVZRE1xT253bXZ4NjBSTmx6MHQ0TFEiLCJzaWQiOiJhZTRmOTRjZDQ5MTM4YmUwZWNmOTc0ZDU3MDg0M2NhOCIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgwNTA5OCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.qIRGF5fw_rCfv5pDFY5zI_5LEFPJcO6iKTrKhncdyj4wJ7Zi4zZBzikCoxbe463xaEwn82Fvgq-y2X-40It4CyIne0FvWfKgIKWtUJ9F3pITroJzfvPi2-RsqGTOnR44SBr2yA87jMITkm26V7BXiPRtTEf2IydpC7iGxn-O1LzjJMhV-igzHXQBLJLNnGJuD1x0YzdZJnfghywtM0KlZwblVkjzYKxrEwfyCMhcQ2XTuH1NbcGD9VsRetUNOFDfoUkvQGwHXEkNaVQ92E_RQEkF4SZpUrBjsUuyR9wEAyB0x3-3_9C95kf0qwJEFY21QeO5GJvwJyAWuM0gvfXeDg\"
  }
}" (aa493bc4)
2018-03-23T13:49:20.5398089+01:00 0HLCG9JSA7JNH:00000001 [ERR] Request validation failed (abd529bc)
2018-03-23T13:49:20.5401369+01:00 0HLCG9JSA7JNH:00000001 [INF] "{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"dbf901722c754f8d977552a461213e87\",
    \"nonce\": \"26a9230ef2314fbcaa370a5f0d97ee30\",
    \"prompt\": \"none\",
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MDUwOTgsImV4cCI6MTUyMTgwNTM5OCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiI5OWNjNGQ5ZDRkN2E0ODljOTY4MDUwZDBmOTdlOWZlMyIsImlhdCI6MTUyMTgwNTA5OCwiYXRfaGFzaCI6ImVZRE1xT253bXZ4NjBSTmx6MHQ0TFEiLCJzaWQiOiJhZTRmOTRjZDQ5MTM4YmUwZWNmOTc0ZDU3MDg0M2NhOCIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgwNTA5OCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.qIRGF5fw_rCfv5pDFY5zI_5LEFPJcO6iKTrKhncdyj4wJ7Zi4zZBzikCoxbe463xaEwn82Fvgq-y2X-40It4CyIne0FvWfKgIKWtUJ9F3pITroJzfvPi2-RsqGTOnR44SBr2yA87jMITkm26V7BXiPRtTEf2IydpC7iGxn-O1LzjJMhV-igzHXQBLJLNnGJuD1x0YzdZJnfghywtM0KlZwblVkjzYKxrEwfyCMhcQ2XTuH1NbcGD9VsRetUNOFDfoUkvQGwHXEkNaVQ92E_RQEkF4SZpUrBjsUuyR9wEAyB0x3-3_9C95kf0qwJEFY21QeO5GJvwJyAWuM0gvfXeDg\"
  }
}" (9899f104)
2018-03-23T13:49:20.5416671+01:00 0HLCG9JSA7JNH:00000001 [INF] Request finished in 376.7361ms 302  (791a596a)
2018-03-23T13:50:01.9520587+01:00 0HLCG9JSA7JNM:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T13:50:01.9525748+01:00 0HLCG9JSA7JNM:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T13:50:01.9530714+01:00 0HLCG9JSA7JNM:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T13:50:01.9536192+01:00 0HLCG9JSA7JNM:00000001 [INF] Request finished in 1.528ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T13:50:02.1451241+01:00 0HLCG9JSA7JNI:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T13:50:02.1460569+01:00 0HLCG9JSA7JNI:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T13:50:02.1461236+01:00 0HLCG9JSA7JNI:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T13:50:02.1461805+01:00 0HLCG9JSA7JNI:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T13:50:02.1464499+01:00 0HLCG9JSA7JNI:00000001 [INF] Request finished in 1.3633ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T13:51:16.0654775+01:00 0HLCG9JSA7JNM:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T13:51:16.2517125+01:00 0HLCG9JSA7JNM:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T13:51:16.2523261+01:00 0HLCG9JSA7JNM:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T13:51:16.4636207+01:00 0HLCG9JSA7JNM:00000002 [INF] Request finished in 398.1637ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T13:51:17.3747852+01:00 0HLCG9JSA7JNI:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T13:51:17.3756781+01:00 0HLCG9JSA7JNI:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T13:51:17.3758055+01:00 0HLCG9JSA7JNI:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T13:51:17.3758684+01:00 0HLCG9JSA7JNI:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T13:51:17.3764594+01:00 0HLCG9JSA7JNI:00000002 [INF] Request finished in 1.7208ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T14:03:33.4796868+01:00 0HLCG9JSA7JNQ:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T14:03:33.4802578+01:00 0HLCG9JSA7JNQ:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T14:03:33.4809091+01:00 0HLCG9JSA7JNQ:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T14:03:33.4813422+01:00 0HLCG9JSA7JNQ:00000001 [INF] Request finished in 1.7272ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T14:03:33.8259372+01:00 0HLCG9JSA7JNR:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T14:03:33.8268965+01:00 0HLCG9JSA7JNR:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:03:33.8269465+01:00 0HLCG9JSA7JNR:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:03:33.8270342+01:00 0HLCG9JSA7JNR:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T14:03:33.8396787+01:00 0HLCG9JSA7JNR:00000001 [INF] Request finished in 13.9008ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T14:10:09.5353703+01:00 0HLCG9JSA7JNS:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T14:10:09.5360164+01:00 0HLCG9JSA7JNS:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T14:10:09.5369312+01:00 0HLCG9JSA7JNS:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T14:10:09.5374944+01:00 0HLCG9JSA7JNS:00000001 [INF] Request finished in 2.1861ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T14:10:10.0301709+01:00 0HLCG9JSA7JNT:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T14:10:10.1773530+01:00 0HLCG9JSA7JNT:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:10:10.1774761+01:00 0HLCG9JSA7JNT:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:10:10.1775630+01:00 0HLCG9JSA7JNT:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T14:10:10.1779004+01:00 0HLCG9JSA7JNT:00000001 [INF] Request finished in 147.7709ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T14:10:19.3971878+01:00 0HLCG9JSA7JNS:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T14:10:19.4107020+01:00 0HLCG9JSA7JNS:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T14:10:19.4110621+01:00 0HLCG9JSA7JNS:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T14:10:19.4188749+01:00 0HLCG9JSA7JNS:00000002 [INF] Request finished in 21.6871ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T14:10:19.8569237+01:00 0HLCG9JSA7JNT:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T14:10:19.8799666+01:00 0HLCG9JSA7JNT:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:10:19.8800179+01:00 0HLCG9JSA7JNT:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:10:19.8800710+01:00 0HLCG9JSA7JNT:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T14:10:19.8804952+01:00 0HLCG9JSA7JNT:00000002 [INF] Request finished in 23.6026ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T14:12:46.6008735+01:00 0HLCG9JSA7JNU:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T14:12:46.6014809+01:00 0HLCG9JSA7JNU:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T14:12:46.6022583+01:00 0HLCG9JSA7JNU:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T14:12:46.6027488+01:00 0HLCG9JSA7JNU:00000001 [INF] Request finished in 1.9086ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T14:12:46.9038964+01:00 0HLCG9JSA7JNV:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T14:12:46.9049249+01:00 0HLCG9JSA7JNV:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:12:46.9049904+01:00 0HLCG9JSA7JNV:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:12:46.9050498+01:00 0HLCG9JSA7JNV:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T14:12:46.9054821+01:00 0HLCG9JSA7JNV:00000001 [INF] Request finished in 1.6468ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T14:14:58.1112711+01:00 0HLCG9JSA7JO0:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T14:14:58.1363136+01:00 0HLCG9JSA7JO0:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T14:14:58.1374645+01:00 0HLCG9JSA7JO0:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T14:14:58.1395313+01:00 0HLCG9JSA7JO0:00000001 [INF] Request finished in 27.0105ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T14:14:58.4576152+01:00 0HLCG9JSA7JO1:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T14:14:58.4586077+01:00 0HLCG9JSA7JO1:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:14:58.4586574+01:00 0HLCG9JSA7JO1:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:14:58.4587181+01:00 0HLCG9JSA7JO1:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T14:14:58.4595259+01:00 0HLCG9JSA7JO1:00000001 [INF] Request finished in 1.8572ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T14:16:48.5331346+01:00 0HLCG9JSA7JO0:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T14:16:48.5340706+01:00 0HLCG9JSA7JO0:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T14:16:48.5553593+01:00 0HLCG9JSA7JO0:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T14:16:48.5716725+01:00 0HLCG9JSA7JO0:00000002 [INF] Request finished in 39.315ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T14:16:48.7879381+01:00 0HLCG9JSA7JO1:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T14:16:48.7888546+01:00 0HLCG9JSA7JO1:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:16:48.7889063+01:00 0HLCG9JSA7JO1:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:16:48.7889632+01:00 0HLCG9JSA7JO1:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T14:16:48.7891796+01:00 0HLCG9JSA7JO1:00000002 [INF] Request finished in 1.256ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T14:17:16.5722853+01:00 0HLCG9JSA7JO1:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=158745a468d24c8a96df417942724828&nonce=cb28f156f6534c57bc5c9d781752bf6f   (ca22a1cb)
2018-03-23T14:17:16.6034562+01:00 0HLCG9JSA7JO1:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:17:16.6035469+01:00 0HLCG9JSA7JO1:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:17:16.6038500+01:00 0HLCG9JSA7JO1:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T14:17:16.6218953+01:00 0HLCG9JSA7JO1:00000003 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"158745a468d24c8a96df417942724828\",
  \"Nonce\": \"cb28f156f6534c57bc5c9d781752bf6f\",
  \"SessionId\": \"ae4f94cd49138be0ecf974d570843ca8\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"158745a468d24c8a96df417942724828\",
    \"nonce\": \"cb28f156f6534c57bc5c9d781752bf6f\"
  }
}" (9a175e33)
2018-03-23T14:17:16.6232146+01:00 0HLCG9JSA7JO1:00000003 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T14:17:16.6372968+01:00 0HLCG9JSA7JO1:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T14:17:16.6512537+01:00 0HLCG9JSA7JO1:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T14:17:16.6540073+01:00 0HLCG9JSA7JO1:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T14:17:16.6721146+01:00 0HLCG9JSA7JO1:00000003 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"158745a468d24c8a96df417942724828\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T14:17:16.6728635+01:00 0HLCG9JSA7JO1:00000003 [INF] Request finished in 100.7513ms 302  (791a596a)
2018-03-23T14:17:18.5225561+01:00 0HLCG9JSA7JO0:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T14:17:18.5231407+01:00 0HLCG9JSA7JO0:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T14:17:18.5238293+01:00 0HLCG9JSA7JO0:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T14:17:18.5241359+01:00 0HLCG9JSA7JO0:00000003 [INF] Request finished in 1.6314ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T14:17:18.5266440+01:00 0HLCG9JSA7JO0:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T14:17:18.5273501+01:00 0HLCG9JSA7JO0:00000004 [INF] Policy execution successful. (0204925d)
2018-03-23T14:17:18.5279813+01:00 0HLCG9JSA7JO0:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T14:17:18.5288713+01:00 0HLCG9JSA7JO0:00000004 [INF] Request finished in 2.1211ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T14:17:18.9072629+01:00 0HLCG9JSA7JO0:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T14:17:18.9077435+01:00 0HLCG9JSA7JO0:00000005 [INF] Policy execution successful. (0204925d)
2018-03-23T14:17:18.9165746+01:00 0HLCG9JSA7JO0:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T14:17:18.9172024+01:00 0HLCG9JSA7JO0:00000005 [INF] Request finished in 9.9673ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T14:17:18.9173901+01:00 0HLCG9JSA7JO1:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T14:17:18.9218266+01:00 0HLCG9JSA7JO1:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:17:18.9222499+01:00 0HLCG9JSA7JO1:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:17:18.9223731+01:00 0HLCG9JSA7JO1:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T14:17:18.9343436+01:00 0HLCG9JSA7JO1:00000004 [INF] Request finished in 16.9278ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T14:17:19.0125725+01:00 0HLCG9JSA7JO0:00000006 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T14:17:19.0283953+01:00 0HLCG9JSA7JO0:00000006 [INF] Policy execution successful. (0204925d)
2018-03-23T14:17:19.0286411+01:00 0HLCG9JSA7JO0:00000006 [INF] Request finished in 16.1298ms 204  (791a596a)
2018-03-23T14:17:19.1175670+01:00 0HLCG9JSA7JO0:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T14:17:19.1212456+01:00 0HLCG9JSA7JO0:00000007 [INF] Policy execution successful. (0204925d)
2018-03-23T14:17:19.1222955+01:00 0HLCG9JSA7JO0:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T14:17:19.1427601+01:00 0HLCG9JSA7JO0:00000007 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T14:17:19.1537268+01:00 0HLCG9JSA7JO0:00000007 [INF] Executed DbCommand ("9"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T14:17:19.2072579+01:00 0HLCG9JSA7JO0:00000007 [INF] Executed DbCommand ("51"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T14:17:19.2368293+01:00 0HLCG9JSA7JO0:00000007 [INF] Executed DbCommand ("28"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T14:17:19.2471584+01:00 0HLCG9JSA7JO0:00000007 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T14:17:19.2474364+01:00 0HLCG9JSA7JO0:00000007 [INF] Request finished in 129.9856ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T14:17:28.1738756+01:00 0HLCG9JSA7JO1:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T14:17:28.1753272+01:00 0HLCG9JSA7JO1:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:17:28.1753964+01:00 0HLCG9JSA7JO1:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:17:28.1754610+01:00 0HLCG9JSA7JO1:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T14:17:28.1852278+01:00 0HLCG9JSA7JO1:00000005 [INF] Request finished in 11.2772ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T14:23:31.2927218+01:00 0HLCG9JSA7JO7:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T14:23:31.2932308+01:00 0HLCG9JSA7JO7:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T14:23:31.2937503+01:00 0HLCG9JSA7JO7:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T14:23:31.2942157+01:00 0HLCG9JSA7JO7:00000001 [INF] Request finished in 1.5741ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T14:23:31.4957661+01:00 0HLCG9JSA7JO8:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T14:23:31.4971423+01:00 0HLCG9JSA7JO8:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T14:23:31.5510104+01:00 0HLCG9JSA7JO8:00000001 [INF] Executed DbCommand ("52"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T14:23:31.6242008+01:00 0HLCG9JSA7JO8:00000001 [INF] Executed DbCommand ("72"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T14:23:31.6844020+01:00 0HLCG9JSA7JO8:00000001 [INF] Executed DbCommand ("52"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T14:23:31.6849045+01:00 0HLCG9JSA7JO8:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:23:31.6852744+01:00 0HLCG9JSA7JO8:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:23:31.6941337+01:00 0HLCG9JSA7JO8:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T14:23:31.6953550+01:00 0HLCG9JSA7JO8:00000001 [INF] Request finished in 199.4853ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T14:23:46.8434505+01:00 0HLCG9JSA7JO8:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=977cb819af7b424ab2e884c46bd5dfcd&nonce=5aa7fe9c47374dc9b33c7a945b11532f   (ca22a1cb)
2018-03-23T14:23:46.8446800+01:00 0HLCG9JSA7JO8:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:23:46.8447587+01:00 0HLCG9JSA7JO8:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:23:46.8448939+01:00 0HLCG9JSA7JO8:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T14:23:46.8774191+01:00 0HLCG9JSA7JO8:00000002 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"977cb819af7b424ab2e884c46bd5dfcd\",
  \"Nonce\": \"5aa7fe9c47374dc9b33c7a945b11532f\",
  \"SessionId\": \"ae4f94cd49138be0ecf974d570843ca8\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"977cb819af7b424ab2e884c46bd5dfcd\",
    \"nonce\": \"5aa7fe9c47374dc9b33c7a945b11532f\"
  }
}" (9a175e33)
2018-03-23T14:23:46.8784300+01:00 0HLCG9JSA7JO8:00000002 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T14:23:46.8821643+01:00 0HLCG9JSA7JO8:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T14:23:46.9134164+01:00 0HLCG9JSA7JO8:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T14:23:46.9150658+01:00 0HLCG9JSA7JO8:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T14:23:47.1281116+01:00 0HLCG9JSA7JO8:00000002 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"977cb819af7b424ab2e884c46bd5dfcd\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T14:23:47.1285727+01:00 0HLCG9JSA7JO8:00000002 [INF] Request finished in 285.164ms 302  (791a596a)
2018-03-23T14:23:48.9786356+01:00 0HLCG9JSA7JO7:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T14:23:48.9790860+01:00 0HLCG9JSA7JO7:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T14:23:48.9940106+01:00 0HLCG9JSA7JO7:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T14:23:49.0055436+01:00 0HLCG9JSA7JO7:00000002 [INF] Request finished in 26.9143ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T14:23:49.0069733+01:00 0HLCG9JSA7JO7:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T14:23:49.0074129+01:00 0HLCG9JSA7JO7:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T14:23:49.0080706+01:00 0HLCG9JSA7JO7:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T14:23:49.0539352+01:00 0HLCG9JSA7JO7:00000003 [INF] Request finished in 46.9486ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T14:23:49.1720946+01:00 0HLCG9JSA7JO7:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T14:23:49.1725119+01:00 0HLCG9JSA7JO7:00000004 [INF] Policy execution successful. (0204925d)
2018-03-23T14:23:49.1731188+01:00 0HLCG9JSA7JO7:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T14:23:49.1732864+01:00 0HLCG9JSA7JO7:00000004 [INF] Request finished in 1.2222ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T14:23:49.2842022+01:00 0HLCG9JSA7JO7:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T14:23:49.2865277+01:00 0HLCG9JSA7JO7:00000005 [INF] Policy execution successful. (0204925d)
2018-03-23T14:23:49.2866462+01:00 0HLCG9JSA7JO7:00000005 [INF] Request finished in 2.5107ms 204  (791a596a)
2018-03-23T14:23:49.2868181+01:00 0HLCG9JSA7JO8:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T14:23:49.2885141+01:00 0HLCG9JSA7JO8:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:23:49.2886207+01:00 0HLCG9JSA7JO8:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:23:49.2887387+01:00 0HLCG9JSA7JO8:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T14:23:49.3027876+01:00 0HLCG9JSA7JO8:00000003 [INF] Request finished in 15.901ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T14:23:49.4225472+01:00 0HLCG9JSA7JO7:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T14:23:49.4234717+01:00 0HLCG9JSA7JO7:00000006 [INF] Policy execution successful. (0204925d)
2018-03-23T14:23:49.4239799+01:00 0HLCG9JSA7JO7:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T14:23:49.4379790+01:00 0HLCG9JSA7JO7:00000006 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T14:23:49.4526258+01:00 0HLCG9JSA7JO7:00000006 [INF] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T14:23:49.5054495+01:00 0HLCG9JSA7JO7:00000006 [INF] Executed DbCommand ("28"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T14:23:49.6276575+01:00 0HLCG9JSA7JO7:00000006 [INF] Executed DbCommand ("110"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T14:23:49.6279397+01:00 0HLCG9JSA7JO7:00000006 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T14:23:49.6282023+01:00 0HLCG9JSA7JO7:00000006 [INF] Request finished in 205.7876ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T14:24:12.7527231+01:00 0HLCG9JSA7JO8:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T14:24:12.7723404+01:00 0HLCG9JSA7JO8:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:24:12.7724182+01:00 0HLCG9JSA7JO8:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:24:12.7724862+01:00 0HLCG9JSA7JO8:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T14:24:12.7730387+01:00 0HLCG9JSA7JO8:00000004 [INF] Request finished in 20.3323ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T14:24:14.4256657+01:00 0HLCG9JSA7JO8:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MTE0MjcsImV4cCI6MTUyMTgxMTcyNywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiI1YWE3ZmU5YzQ3Mzc0ZGM5YjMzYzdhOTQ1YjExNTMyZiIsImlhdCI6MTUyMTgxMTQyNywiYXRfaGFzaCI6InFvcWdsTmd0RU5xX2pkbnVPTnRsNFEiLCJzaWQiOiJhZTRmOTRjZDQ5MTM4YmUwZWNmOTc0ZDU3MDg0M2NhOCIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgwNTA5OCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.M-4eQs45iJLHfHEj5y6R1V1Wgl5m_f2aFapPYS6H73i9LkMubQ9YkBV6F8ahwE2_2bxj8UMC13jQDkmqRLUjuBYxtgpNWsHlSDdRtt5CdeyKEr2rRtnTZGd4VehpWrxkwxdHRFnmppZPiVEr8e2j1zvTeZLZKW-6jDiIJazDe-_F7wiFUJTvyq1bWQEJxecdi-AJvCBPkEhnrSr1VCUU_eoDZLNNDwrh9Fm-7_yzC4M584G99vWEMhVJ2rMceLoDgYEfnyL8FXGxwy5nqoaNflHNSX7RdzPJIabZDSrBofuiKJ5KnisTCyHIKvmlmo0mZPUQm8fZagWb9tbswxHybA&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fhome   (ca22a1cb)
2018-03-23T14:24:14.4266107+01:00 0HLCG9JSA7JO8:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:24:14.4266646+01:00 0HLCG9JSA7JO8:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:24:14.4269897+01:00 0HLCG9JSA7JO8:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2018-03-23T14:24:14.4341554+01:00 0HLCG9JSA7JO8:00000005 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T14:24:14.4363304+01:00 0HLCG9JSA7JO8:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T14:24:14.4690139+01:00 0HLCG9JSA7JO8:00000005 [INF] End session request validation success
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"PostLogOutUri\": \"http://localhost:51540/home\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MTE0MjcsImV4cCI6MTUyMTgxMTcyNywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiI1YWE3ZmU5YzQ3Mzc0ZGM5YjMzYzdhOTQ1YjExNTMyZiIsImlhdCI6MTUyMTgxMTQyNywiYXRfaGFzaCI6InFvcWdsTmd0RU5xX2pkbnVPTnRsNFEiLCJzaWQiOiJhZTRmOTRjZDQ5MTM4YmUwZWNmOTc0ZDU3MDg0M2NhOCIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgwNTA5OCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.M-4eQs45iJLHfHEj5y6R1V1Wgl5m_f2aFapPYS6H73i9LkMubQ9YkBV6F8ahwE2_2bxj8UMC13jQDkmqRLUjuBYxtgpNWsHlSDdRtt5CdeyKEr2rRtnTZGd4VehpWrxkwxdHRFnmppZPiVEr8e2j1zvTeZLZKW-6jDiIJazDe-_F7wiFUJTvyq1bWQEJxecdi-AJvCBPkEhnrSr1VCUU_eoDZLNNDwrh9Fm-7_yzC4M584G99vWEMhVJ2rMceLoDgYEfnyL8FXGxwy5nqoaNflHNSX7RdzPJIabZDSrBofuiKJ5KnisTCyHIKvmlmo0mZPUQm8fZagWb9tbswxHybA\",
    \"post_logout_redirect_uri\": \"http://localhost:51540/home\"
  }
}" (8a893fca)
2018-03-23T14:24:14.4696366+01:00 0HLCG9JSA7JO8:00000005 [INF] Request finished in 44.0632ms 302  (791a596a)
2018-03-23T14:24:14.4840160+01:00 0HLCG9JSA7JO8:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8I8cZ24bSc5BkaJobKJXk0IxeWRJiipGpqk2LLN0IgDx4N6q5tTXH8c4FpWjB-xTFIihzVI10iEtG8RZtBkQeHmlaoZ1TRfNX94jz1aSTJ8HR8Wn_Eorr_b58p3Qfbyw8d_HhQJCQGkZgoWp4vfuihrjgCkVHNC0PDEosfXG7kYsFORp4Xw8mLAa88iTPn6uKhvCfwfpwH4HJ8EbZgC8LiEFdhQjd1LVmMqVU0oNCt-67FMneaRQ7RfL7jtFVP0d-BojY95lz8i_9oYM8frj8Zo5Kqa0n1gxIx_5K67YH_OQbMj4k4ANTOVL-ZwC6u_ds4j9JvXOJ3O3ywRXllP48VIs0HFrGE6D3c3Tqun42wxX0HwKBQuQRdqllPzcS0CX4pNFwp8UFSUdnAwR66Way_Z21SKW_8kQPiOSBBKi1lEYuuvSFNZOVtY_AG27TKgjR5poe5OVjzLQdaSH3_cz6W4INsU9sbV2L375baUI_ODk   (ca22a1cb)
2018-03-23T14:24:14.4849444+01:00 0HLCG9JSA7JO8:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:24:14.4850004+01:00 0HLCG9JSA7JO8:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:24:14.4885212+01:00 0HLCG9JSA7JO8:00000006 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0IxeWRJiipGpqk2LLN0IgDx4N6q5tTXH8c4FpWjB-xTFIihzVI10iEtG8RZtBkQeHmlaoZ1TRfNX94jz1aSTJ8HR8Wn_Eorr_b58p3Qfbyw8d_HhQJCQGkZgoWp4vfuihrjgCkVHNC0PDEosfXG7kYsFORp4Xw8mLAa88iTPn6uKhvCfwfpwH4HJ8EbZgC8LiEFdhQjd1LVmMqVU0oNCt-67FMneaRQ7RfL7jtFVP0d-BojY95lz8i_9oYM8frj8Zo5Kqa0n1gxIx_5K67YH_OQbMj4k4ANTOVL-ZwC6u_ds4j9JvXOJ3O3ywRXllP48VIs0HFrGE6D3c3Tqun42wxX0HwKBQuQRdqllPzcS0CX4pNFwp8UFSUdnAwR66Way_Z21SKW_8kQPiOSBBKi1lEYuuvSFNZOVtY_AG27TKgjR5poe5OVjzLQdaSH3_cz6W4INsU9sbV2L375baUI_ODk"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T14:24:14.4902622+01:00 0HLCG9JSA7JO8:00000006 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T14:24:14.4904697+01:00 0HLCG9JSA7JO8:00000006 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T14:24:14.4905608+01:00 0HLCG9JSA7JO8:00000006 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T14:24:14.4905877+01:00 0HLCG9JSA7JO8:00000006 [INF] User logged out. (f9c27106)
2018-03-23T14:24:14.4949685+01:00 0HLCG9JSA7JO8:00000006 [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T14:24:14.5007368+01:00 0HLCG9JSA7JO8:00000006 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 13.7221ms (afa2e885)
2018-03-23T14:24:14.5008724+01:00 0HLCG9JSA7JO8:00000006 [INF] Request finished in 16.9025ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T14:24:14.6480198+01:00 0HLCG9JSA7JO8:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8I8cZ24bSc5BkaJobKJXk0KNTOSnzMjVHwnkXRY8s13RFZxYvEOZxWejWIgi1Tyx6afHA4mkD-KZiNErSQi1SXWP2pOfbllzh-xMWxNpYNiq2-IgjKUP6ybzQEPE-Ta3Cc1ayIaff3Xi3vWPjv5dl3sH30Hsteoc3X-1qaVGy6q6QZxGBTJZj9Dvz9XPtCBU4yZBw1P25til4kbNI7zonfqa4Tc3yShBZG8eSkUTKQxaJwQsxeFgSlnW9LidBghDjkokP9lRA1XUx8SgW5Hjd1h7v-dzo9AkMrL-H-lAW7ERA0tQuqSBAtGmCxe1-rSWBo4NNd7ILXiObBsMZFdfiJQ   (ca22a1cb)
2018-03-23T14:24:14.6492300+01:00 0HLCG9JSA7JO8:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback" (f7642de5)
2018-03-23T14:24:14.6497171+01:00 0HLCG9JSA7JO8:00000007 [INF] Successful signout callback. (d13fac4f)
2018-03-23T14:24:14.6499010+01:00 0HLCG9JSA7JO8:00000007 [INF] Request finished in 2.0651ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T14:26:38.0301277+01:00 0HLCG9JSA7JOF:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T14:26:38.0306503+01:00 0HLCG9JSA7JOF:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T14:26:38.0312234+01:00 0HLCG9JSA7JOF:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T14:26:38.0315877+01:00 0HLCG9JSA7JOF:00000001 [INF] Request finished in 1.5776ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T14:26:38.0453949+01:00 0HLCG9JSA7JOG:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=73207182e93c4806aaabf2e5644ae071&nonce=6c909bd8cf914223b90c3ee542af568d   (ca22a1cb)
2018-03-23T14:26:38.0465329+01:00 0HLCG9JSA7JOG:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T14:26:38.0472788+01:00 0HLCG9JSA7JOG:00000001 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"73207182e93c4806aaabf2e5644ae071\",
  \"Nonce\": \"6c909bd8cf914223b90c3ee542af568d\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"73207182e93c4806aaabf2e5644ae071\",
    \"nonce\": \"6c909bd8cf914223b90c3ee542af568d\"
  }
}" (9a175e33)
2018-03-23T14:26:38.0473117+01:00 0HLCG9JSA7JOG:00000001 [INF] Showing login: User is not authenticated (4b8d50b2)
2018-03-23T14:26:38.0738557+01:00 0HLCG9JSA7JOG:00000001 [INF] Request finished in 28.7036ms 302  (791a596a)
2018-03-23T14:26:38.0883788+01:00 0HLCG9JSA7JOG:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D73207182e93c4806aaabf2e5644ae071%26nonce%3D6c909bd8cf914223b90c3ee542af568d   (ca22a1cb)
2018-03-23T14:26:38.1308123+01:00 0HLCG9JSA7JOG:00000002 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=73207182e93c4806aaabf2e5644ae071&nonce=6c909bd8cf914223b90c3ee542af568d"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T14:26:38.1310885+01:00 0HLCG9JSA7JOG:00000002 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T14:26:38.1334193+01:00 0HLCG9JSA7JOG:00000002 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T14:26:38.1372168+01:00 0HLCG9JSA7JOG:00000002 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 24.9924ms (afa2e885)
2018-03-23T14:26:38.1374336+01:00 0HLCG9JSA7JOG:00000002 [INF] Request finished in 49.1262ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T14:26:42.3615638+01:00 0HLCG9JSA7JOG:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D73207182e93c4806aaabf2e5644ae071%26nonce%3D6c909bd8cf914223b90c3ee542af568d application/x-www-form-urlencoded 233 (ca22a1cb)
2018-03-23T14:26:42.3633390+01:00 0HLCG9JSA7JOG:00000003 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=73207182e93c4806aaabf2e5644ae071&nonce=6c909bd8cf914223b90c3ee542af568d"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T14:26:42.3638941+01:00 0HLCG9JSA7JOG:00000003 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T14:26:42.4339587+01:00 0HLCG9JSA7JOG:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T14:26:42.4465326+01:00 0HLCG9JSA7JOG:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T14:26:42.4495988+01:00 0HLCG9JSA7JOG:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T14:26:42.4567864+01:00 0HLCG9JSA7JOG:00000003 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T14:26:42.4568493+01:00 0HLCG9JSA7JOG:00000003 [INF] User logged in. (fdce0db4)
2018-03-23T14:26:42.4569404+01:00 0HLCG9JSA7JOG:00000003 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=73207182e93c4806aaabf2e5644ae071&nonce=6c909bd8cf914223b90c3ee542af568d". (d98d540e)
2018-03-23T14:26:42.4570541+01:00 0HLCG9JSA7JOG:00000003 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 94.8283ms (afa2e885)
2018-03-23T14:26:42.4572269+01:00 0HLCG9JSA7JOG:00000003 [INF] Request finished in 95.7699ms 302  (791a596a)
2018-03-23T14:26:42.4601871+01:00 0HLCG9JSA7JOG:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=73207182e93c4806aaabf2e5644ae071&nonce=6c909bd8cf914223b90c3ee542af568d   (ca22a1cb)
2018-03-23T14:26:42.4780758+01:00 0HLCG9JSA7JOG:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:26:42.4782264+01:00 0HLCG9JSA7JOG:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:26:42.4785030+01:00 0HLCG9JSA7JOG:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T14:26:42.4946033+01:00 0HLCG9JSA7JOG:00000004 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"73207182e93c4806aaabf2e5644ae071\",
  \"Nonce\": \"6c909bd8cf914223b90c3ee542af568d\",
  \"SessionId\": \"84e8f918cd6868d9abce550b600ed98f\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"73207182e93c4806aaabf2e5644ae071\",
    \"nonce\": \"6c909bd8cf914223b90c3ee542af568d\"
  }
}" (9a175e33)
2018-03-23T14:26:42.4949228+01:00 0HLCG9JSA7JOG:00000004 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T14:26:42.5056975+01:00 0HLCG9JSA7JOG:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T14:26:42.5071127+01:00 0HLCG9JSA7JOG:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T14:26:42.5082588+01:00 0HLCG9JSA7JOG:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T14:26:42.5454885+01:00 0HLCG9JSA7JOG:00000004 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"73207182e93c4806aaabf2e5644ae071\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T14:26:42.5459120+01:00 0HLCG9JSA7JOG:00000004 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T14:26:42.5501102+01:00 0HLCG9JSA7JOG:00000004 [INF] Request finished in 90.0325ms 302  (791a596a)
2018-03-23T14:26:44.3557939+01:00 0HLCG9JSA7JOF:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T14:26:44.3561865+01:00 0HLCG9JSA7JOF:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T14:26:44.3565445+01:00 0HLCG9JSA7JOF:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T14:26:44.3569571+01:00 0HLCG9JSA7JOF:00000002 [INF] Request finished in 1.572ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T14:26:44.5369672+01:00 0HLCG9JSA7JOF:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T14:26:44.5373525+01:00 0HLCG9JSA7JOF:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T14:26:44.5377836+01:00 0HLCG9JSA7JOF:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T14:26:44.5380837+01:00 0HLCG9JSA7JOF:00000003 [INF] Request finished in 1.2094ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T14:26:44.7505044+01:00 0HLCG9JSA7JOF:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T14:26:44.7513451+01:00 0HLCG9JSA7JOF:00000004 [INF] Policy execution successful. (0204925d)
2018-03-23T14:26:44.7514460+01:00 0HLCG9JSA7JOF:00000004 [INF] Request finished in 1.0652ms 204  (791a596a)
2018-03-23T14:26:44.8069794+01:00 0HLCG9JSA7JOF:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T14:26:44.8074288+01:00 0HLCG9JSA7JOF:00000005 [INF] Policy execution successful. (0204925d)
2018-03-23T14:26:44.8078574+01:00 0HLCG9JSA7JOF:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T14:26:44.8134618+01:00 0HLCG9JSA7JOF:00000005 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T14:26:44.8345844+01:00 0HLCG9JSA7JOF:00000005 [INF] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T14:26:44.8376888+01:00 0HLCG9JSA7JOF:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T14:26:44.8417998+01:00 0HLCG9JSA7JOF:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T14:26:44.8470603+01:00 0HLCG9JSA7JOF:00000005 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T14:26:44.8472639+01:00 0HLCG9JSA7JOF:00000005 [INF] Request finished in 40.3217ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T14:26:44.8578355+01:00 0HLCG9JSA7JOG:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T14:26:44.8599913+01:00 0HLCG9JSA7JOG:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:26:44.8610327+01:00 0HLCG9JSA7JOG:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T14:26:44.8612691+01:00 0HLCG9JSA7JOG:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T14:26:44.8650573+01:00 0HLCG9JSA7JOG:00000005 [INF] Request finished in 7.0391ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:16:25.7785238+01:00  [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation. (553c312b)
2018-03-23T15:16:41.4190797+01:00 0HLCGP2P3EAQN:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T15:16:42.1526833+01:00 0HLCGP2P3EAQN:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T15:16:42.7476664+01:00 0HLCGP2P3EAQN:00000001 [INF] Executed DbCommand ("118"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T15:16:42.8525617+01:00 0HLCGP2P3EAQN:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T15:16:42.9179028+01:00 0HLCGP2P3EAQN:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T15:16:42.9317396+01:00 0HLCGP2P3EAQN:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:16:42.9562284+01:00 0HLCGP2P3EAQN:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:16:42.9624964+01:00 0HLCGP2P3EAQN:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T15:16:42.9932070+01:00 0HLCGP2P3EAQN:00000001 [INF] Request finished in 1579.1612ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:16:52.6682302+01:00 0HLCGP2P3EAQN:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MTE2MDIsImV4cCI6MTUyMTgxMTkwMiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiI2YzkwOWJkOGNmOTE0MjIzYjkwYzNlZTU0MmFmNTY4ZCIsImlhdCI6MTUyMTgxMTYwMiwiYXRfaGFzaCI6Ii1kaWhYUWFPeDUyRTE0dTNsM0t4MnciLCJzaWQiOiI4NGU4ZjkxOGNkNjg2OGQ5YWJjZTU1MGI2MDBlZDk4ZiIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgxMTYwMiwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.1kih1isgpcS0lZksH9RAP9PyzGu1BwY3UAMfA6T-KdYIAnR3df3dLYoQ-9har_0XvEevqXZ0wcggxX1FfsAnQk5p58bXjhcqdAsQVxf3gWu5VX_oqGuNGPleQQ-LpAZZhZ2L3AXHo_dmgV3MMpJQzfJskEPAUWBnzxn44ZvlbAG6y0dwewO3GDwgeHm99TL2zfcMZIEpwECH2FXsWxgtJE6B2RgFWTtaH-QTccRXNw97h9zoalwC0pPAEv8ebYlNQehPCSHznFy8zneFcMa7Y5_Hfb00EeOLB0Pz12nb3MUZBLXZ28aH3n9p_wE3om6kCdFpvfLpdzrCb-5xUtPzSA&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fhome   (ca22a1cb)
2018-03-23T15:16:52.6720915+01:00 0HLCGP2P3EAQN:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:16:52.6722467+01:00 0HLCGP2P3EAQN:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:16:52.6792569+01:00 0HLCGP2P3EAQN:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2018-03-23T15:16:52.9460617+01:00 0HLCGP2P3EAQN:00000002 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T15:16:52.9516190+01:00 0HLCGP2P3EAQN:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T15:16:53.0279775+01:00 0HLCGP2P3EAQN:00000002 [INF] End session request validation success
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"PostLogOutUri\": \"http://localhost:51540/home\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MTE2MDIsImV4cCI6MTUyMTgxMTkwMiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiI2YzkwOWJkOGNmOTE0MjIzYjkwYzNlZTU0MmFmNTY4ZCIsImlhdCI6MTUyMTgxMTYwMiwiYXRfaGFzaCI6Ii1kaWhYUWFPeDUyRTE0dTNsM0t4MnciLCJzaWQiOiI4NGU4ZjkxOGNkNjg2OGQ5YWJjZTU1MGI2MDBlZDk4ZiIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgxMTYwMiwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.1kih1isgpcS0lZksH9RAP9PyzGu1BwY3UAMfA6T-KdYIAnR3df3dLYoQ-9har_0XvEevqXZ0wcggxX1FfsAnQk5p58bXjhcqdAsQVxf3gWu5VX_oqGuNGPleQQ-LpAZZhZ2L3AXHo_dmgV3MMpJQzfJskEPAUWBnzxn44ZvlbAG6y0dwewO3GDwgeHm99TL2zfcMZIEpwECH2FXsWxgtJE6B2RgFWTtaH-QTccRXNw97h9zoalwC0pPAEv8ebYlNQehPCSHznFy8zneFcMa7Y5_Hfb00EeOLB0Pz12nb3MUZBLXZ28aH3n9p_wE3om6kCdFpvfLpdzrCb-5xUtPzSA\",
    \"post_logout_redirect_uri\": \"http://localhost:51540/home\"
  }
}" (8a893fca)
2018-03-23T15:16:53.0609525+01:00 0HLCGP2P3EAQN:00000002 [INF] Request finished in 392.6807ms 302  (791a596a)
2018-03-23T15:16:53.4552652+01:00 0HLCGP2P3EAQN:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8I8cZ24bSc5BkaJobKJXk0KtQZNvg1tb06lNpqGBBw5ZzoQmWZvHbwGOQBKZ_PSWO9f8oWrp6gy4TISD-oLAQwuBBxkVniskjre7MqW3TL1lTyERIbnQCZs2wKffP4om5KddU1m90mqXx5XqTny5Knn97hhn8I9IzY4UgtxZXAgvPzqJp5ZsPn7uXsIeHfiSFKJPWsC0pg9jVtUTtVFfSBJpZdv8KVE38vGeZ_xYh0q-Ed_L9AY2ood3eUSb5CZjePdfruAyf5pgRDtWdrXBOu5quIhCXPA8aa0XOFX-adl2lDS8VVjC4OB3QYhFHCaoh04qWJNA43OJBAzHlfhefZpn6Xbg0prZTikLr1nU6TWYwc3zodBR0iH4hxFvtnKKNEJ96wikJmqYvlDaC0-BC5PjgwU2X8RpPC1A3sz4T6qi1CBuyv8_UtXbL6-aTU9TACfVN8U6yAi6PAR_2cbnLlCO38za4mye3DMT3cJ-qhoj   (ca22a1cb)
2018-03-23T15:16:53.4564144+01:00 0HLCGP2P3EAQN:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:16:53.4564768+01:00 0HLCGP2P3EAQN:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:16:53.7187109+01:00 0HLCGP2P3EAQN:00000003 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0KtQZNvg1tb06lNpqGBBw5ZzoQmWZvHbwGOQBKZ_PSWO9f8oWrp6gy4TISD-oLAQwuBBxkVniskjre7MqW3TL1lTyERIbnQCZs2wKffP4om5KddU1m90mqXx5XqTny5Knn97hhn8I9IzY4UgtxZXAgvPzqJp5ZsPn7uXsIeHfiSFKJPWsC0pg9jVtUTtVFfSBJpZdv8KVE38vGeZ_xYh0q-Ed_L9AY2ood3eUSb5CZjePdfruAyf5pgRDtWdrXBOu5quIhCXPA8aa0XOFX-adl2lDS8VVjC4OB3QYhFHCaoh04qWJNA43OJBAzHlfhefZpn6Xbg0prZTikLr1nU6TWYwc3zodBR0iH4hxFvtnKKNEJ96wikJmqYvlDaC0-BC5PjgwU2X8RpPC1A3sz4T6qi1CBuyv8_UtXbL6-aTU9TACfVN8U6yAi6PAR_2cbnLlCO38za4mye3DMT3cJ-qhoj"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T15:16:53.7905083+01:00 0HLCGP2P3EAQN:00000003 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T15:16:53.7914688+01:00 0HLCGP2P3EAQN:00000003 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T15:16:53.7916639+01:00 0HLCGP2P3EAQN:00000003 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T15:16:53.7918234+01:00 0HLCGP2P3EAQN:00000003 [INF] User logged out. (f9c27106)
2018-03-23T15:17:00.1107262+01:00 0HLCGP2P3EAQN:00000003 [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T15:17:00.7702991+01:00 0HLCGP2P3EAQN:00000003 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 7095.5369ms (afa2e885)
2018-03-23T15:17:00.7758463+01:00 0HLCGP2P3EAQN:00000003 [INF] Request finished in 7320.6515ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T15:17:00.9547251+01:00 0HLCGP2P3EAQN:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8I8cZ24bSc5BkaJobKJXk0JwDUMy8kHnD08Lutt79OijJQa5kTkuuvwhDygebgk0jvG_sRRopAL_CszVho8WpQdTV2ihW8ZwxPIheOcf5PxIp1d6oSrURPADJXxLD299sWHDOoOVpHzkY185VEbWD-KFHWjTI91-wZb5XaUF4oUdFBZUpIr2hQ33B3IK0qsGsJno-YK85a_3xktEy8y7HGO5AD5Cei5HGLfI8SFRsnsDxM1xTcRXfnCsgoqzoGng8rxVaRmfKJUN3waa_sG8nGdmTZYzlNFTqkdFf21HpKNHBQM-wcbsLsHxPuehwOw0DWLmEpZkkM-GxyRnS7gsEeQ   (ca22a1cb)
2018-03-23T15:17:00.9586009+01:00 0HLCGP2P3EAQN:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback" (f7642de5)
2018-03-23T15:17:00.9873713+01:00 0HLCGP2P3EAQN:00000004 [INF] Successful signout callback. (d13fac4f)
2018-03-23T15:17:01.0048419+01:00 0HLCGP2P3EAQN:00000004 [INF] Request finished in 50.1359ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:17:10.6937809+01:00 0HLCGP2P3EAQS:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T15:17:10.7119163+01:00 0HLCGP2P3EAQS:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T15:17:10.7164448+01:00 0HLCGP2P3EAQS:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T15:17:10.8324205+01:00 0HLCGP2P3EAQS:00000001 [INF] Request finished in 138.5926ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:17:10.8412314+01:00 0HLCGP2P3EAQN:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=33c516ce9fd6461289ca3bcf9e1706b0&nonce=1158dd03ecb549e58565080d62361f5f   (ca22a1cb)
2018-03-23T15:17:10.8483477+01:00 0HLCGP2P3EAQN:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T15:17:10.9454856+01:00 0HLCGP2P3EAQN:00000005 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"33c516ce9fd6461289ca3bcf9e1706b0\",
  \"Nonce\": \"1158dd03ecb549e58565080d62361f5f\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"33c516ce9fd6461289ca3bcf9e1706b0\",
    \"nonce\": \"1158dd03ecb549e58565080d62361f5f\"
  }
}" (9a175e33)
2018-03-23T15:17:10.9568561+01:00 0HLCGP2P3EAQN:00000005 [INF] Showing login: User is not authenticated (4b8d50b2)
2018-03-23T15:17:10.9616117+01:00 0HLCGP2P3EAQN:00000005 [INF] Request finished in 120.3096ms 302  (791a596a)
2018-03-23T15:17:10.9632183+01:00 0HLCGP2P3EAQN:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D33c516ce9fd6461289ca3bcf9e1706b0%26nonce%3D1158dd03ecb549e58565080d62361f5f   (ca22a1cb)
2018-03-23T15:17:10.9724736+01:00 0HLCGP2P3EAQN:00000006 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=33c516ce9fd6461289ca3bcf9e1706b0&nonce=1158dd03ecb549e58565080d62361f5f"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T15:17:10.9768062+01:00 0HLCGP2P3EAQN:00000006 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T15:17:11.7848124+01:00 0HLCGP2P3EAQN:00000006 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T15:17:12.3809036+01:00 0HLCGP2P3EAQN:00000006 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 1409.8151ms (afa2e885)
2018-03-23T15:17:12.3817717+01:00 0HLCGP2P3EAQN:00000006 [INF] Request finished in 1417.9029ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T15:17:16.0307764+01:00 0HLCGP2P3EAQN:00000007 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D33c516ce9fd6461289ca3bcf9e1706b0%26nonce%3D1158dd03ecb549e58565080d62361f5f application/x-www-form-urlencoded 233 (ca22a1cb)
2018-03-23T15:17:16.0791851+01:00 0HLCGP2P3EAQN:00000007 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=33c516ce9fd6461289ca3bcf9e1706b0&nonce=1158dd03ecb549e58565080d62361f5f"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T15:17:16.0841883+01:00 0HLCGP2P3EAQN:00000007 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T15:17:16.0990988+01:00 0HLCGP2P3EAQN:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T15:17:16.1426489+01:00 0HLCGP2P3EAQN:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T15:17:16.1471384+01:00 0HLCGP2P3EAQN:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T15:17:16.1632673+01:00 0HLCGP2P3EAQN:00000007 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T15:17:16.1633811+01:00 0HLCGP2P3EAQN:00000007 [INF] User logged in. (fdce0db4)
2018-03-23T15:17:16.1644357+01:00 0HLCGP2P3EAQN:00000007 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=33c516ce9fd6461289ca3bcf9e1706b0&nonce=1158dd03ecb549e58565080d62361f5f". (d98d540e)
2018-03-23T15:17:16.1648308+01:00 0HLCGP2P3EAQN:00000007 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 119.0048ms (afa2e885)
2018-03-23T15:17:16.1658392+01:00 0HLCGP2P3EAQN:00000007 [INF] Request finished in 135.1936ms 302  (791a596a)
2018-03-23T15:17:16.1679711+01:00 0HLCGP2P3EAQN:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=33c516ce9fd6461289ca3bcf9e1706b0&nonce=1158dd03ecb549e58565080d62361f5f   (ca22a1cb)
2018-03-23T15:17:16.1686613+01:00 0HLCGP2P3EAQN:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:17:16.1687105+01:00 0HLCGP2P3EAQN:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:17:16.1698134+01:00 0HLCGP2P3EAQN:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T15:17:16.1840581+01:00 0HLCGP2P3EAQN:00000008 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"33c516ce9fd6461289ca3bcf9e1706b0\",
  \"Nonce\": \"1158dd03ecb549e58565080d62361f5f\",
  \"SessionId\": \"6a4b26dc43f7565365c14b008d44e39f\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"33c516ce9fd6461289ca3bcf9e1706b0\",
    \"nonce\": \"1158dd03ecb549e58565080d62361f5f\"
  }
}" (9a175e33)
2018-03-23T15:17:16.1844901+01:00 0HLCGP2P3EAQN:00000008 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T15:17:16.1886780+01:00 0HLCGP2P3EAQN:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T15:17:16.2362759+01:00 0HLCGP2P3EAQN:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T15:17:16.2378916+01:00 0HLCGP2P3EAQN:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T15:17:16.3175514+01:00 0HLCGP2P3EAQN:00000008 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"33c516ce9fd6461289ca3bcf9e1706b0\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T15:17:16.3374698+01:00 0HLCGP2P3EAQN:00000008 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T15:17:16.3416784+01:00 0HLCGP2P3EAQN:00000008 [INF] Request finished in 173.7803ms 302  (791a596a)
2018-03-23T15:17:18.2094872+01:00 0HLCGP2P3EAQS:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T15:17:18.2104071+01:00 0HLCGP2P3EAQS:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T15:17:18.2109831+01:00 0HLCGP2P3EAQS:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T15:17:18.2115814+01:00 0HLCGP2P3EAQS:00000002 [INF] Request finished in 2.1365ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:17:18.4227037+01:00 0HLCGP2P3EAQS:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T15:17:18.4236172+01:00 0HLCGP2P3EAQS:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T15:17:18.4252115+01:00 0HLCGP2P3EAQS:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T15:17:18.4492999+01:00 0HLCGP2P3EAQS:00000003 [INF] Request finished in 26.6021ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:17:18.5093245+01:00 0HLCGP2P3EAQS:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T15:17:18.5115598+01:00 0HLCGP2P3EAQS:00000004 [INF] Policy execution successful. (0204925d)
2018-03-23T15:17:18.5124643+01:00 0HLCGP2P3EAQS:00000004 [INF] Request finished in 3.1308ms 204  (791a596a)
2018-03-23T15:17:18.5435932+01:00 0HLCGP2P3EAQS:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T15:17:18.5443861+01:00 0HLCGP2P3EAQS:00000005 [INF] Policy execution successful. (0204925d)
2018-03-23T15:17:18.5473459+01:00 0HLCGP2P3EAQS:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T15:17:18.6133174+01:00 0HLCGP2P3EAQS:00000005 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T15:17:18.6501631+01:00 0HLCGP2P3EAQS:00000005 [INF] Executed DbCommand ("33"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T15:17:18.7019746+01:00 0HLCGP2P3EAQS:00000005 [INF] Executed DbCommand ("18"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T15:17:18.7322286+01:00 0HLCGP2P3EAQS:00000005 [INF] Executed DbCommand ("29"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T15:17:18.7345418+01:00 0HLCGP2P3EAQS:00000005 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T15:17:18.7421857+01:00 0HLCGP2P3EAQS:00000005 [INF] Request finished in 197.7905ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:17:18.7610383+01:00 0HLCGP2P3EAQN:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T15:17:18.7630496+01:00 0HLCGP2P3EAQN:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:17:18.7632617+01:00 0HLCGP2P3EAQN:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:17:18.7634379+01:00 0HLCGP2P3EAQN:00000009 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T15:17:18.7648235+01:00 0HLCGP2P3EAQN:00000009 [INF] Request finished in 3.8095ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:22:37.9199539+01:00 0HLCGP2P3EAR0:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T15:22:37.9206574+01:00 0HLCGP2P3EAR0:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T15:22:37.9214943+01:00 0HLCGP2P3EAR0:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T15:22:37.9218656+01:00 0HLCGP2P3EAR0:00000001 [INF] Request finished in 2.0065ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:22:38.0796645+01:00 0HLCGP2P3EAR1:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T15:22:38.0809295+01:00 0HLCGP2P3EAR1:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:22:38.0810112+01:00 0HLCGP2P3EAR1:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:22:38.0810865+01:00 0HLCGP2P3EAR1:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T15:22:38.0813969+01:00 0HLCGP2P3EAR1:00000001 [INF] Request finished in 1.9851ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:24:13.6432326+01:00 0HLCGP2P3EAR1:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D33c516ce9fd6461289ca3bcf9e1706b0%26nonce%3D1158dd03ecb549e58565080d62361f5f   (ca22a1cb)
2018-03-23T15:24:13.6444352+01:00 0HLCGP2P3EAR1:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:24:13.6445468+01:00 0HLCGP2P3EAR1:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:24:13.6453175+01:00 0HLCGP2P3EAR1:00000002 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=33c516ce9fd6461289ca3bcf9e1706b0&nonce=1158dd03ecb549e58565080d62361f5f"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T15:24:13.6457105+01:00 0HLCGP2P3EAR1:00000002 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T15:24:13.6475998+01:00 0HLCGP2P3EAR1:00000002 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T15:24:13.6515300+01:00 0HLCGP2P3EAR1:00000002 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 6.614ms (afa2e885)
2018-03-23T15:24:13.6518631+01:00 0HLCGP2P3EAR1:00000002 [INF] Request finished in 8.8032ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T15:24:17.2248408+01:00 0HLCGP2P3EAR1:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T15:24:17.2255760+01:00 0HLCGP2P3EAR1:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:24:17.2256209+01:00 0HLCGP2P3EAR1:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:24:17.2256736+01:00 0HLCGP2P3EAR1:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T15:24:17.2258677+01:00 0HLCGP2P3EAR1:00000003 [INF] Request finished in 1.0811ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:24:22.1913979+01:00 0HLCGP2P3EAR1:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MTQ2MzYsImV4cCI6MTUyMTgxNDkzNiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiIxMTU4ZGQwM2VjYjU0OWU1ODU2NTA4MGQ2MjM2MWY1ZiIsImlhdCI6MTUyMTgxNDYzNiwiYXRfaGFzaCI6IlFfR0FzNjZ1bHdOWXV0MDVQWmhYN2ciLCJzaWQiOiI2YTRiMjZkYzQzZjc1NjUzNjVjMTRiMDA4ZDQ0ZTM5ZiIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgxNDYzNiwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.SIVG1WAqYxxXCGolIde_hqbAHEoElWNx8IbLLgDSn1vK7eNTFGQn1AlCKCA3KY02gkAZuUREBK7Y-8a5y3QVCMB4YmkyWKWZhpCgRDY2FENWeZr2kCggml4vMeENcxewz3B3l1wYip3zH5q4TSS9tTKBqKKV5NYqfxG40lS5kD-pjL4Ouh1aObFPdKpfTssSmFkkJkbbh4rbcXOAypH4B0W1Ysyy6rRE9CrPXEm2DPNqoHry-4-nUbPyhgM-gKRxNS2aVGrZvdqn--xE2FYQd3hgBQ-1HiVffPTfC1AT-tf7XIGfgWHVooU2oFUzXQYJhLOpKvCxe5uTusIaeZyx3g&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fhome   (ca22a1cb)
2018-03-23T15:24:22.1923478+01:00 0HLCGP2P3EAR1:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:24:22.1924196+01:00 0HLCGP2P3EAR1:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:24:22.1926108+01:00 0HLCGP2P3EAR1:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2018-03-23T15:24:22.1987113+01:00 0HLCGP2P3EAR1:00000004 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T15:24:22.2265891+01:00 0HLCGP2P3EAR1:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T15:24:22.2274401+01:00 0HLCGP2P3EAR1:00000004 [INF] End session request validation success
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"PostLogOutUri\": \"http://localhost:51540/home\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MTQ2MzYsImV4cCI6MTUyMTgxNDkzNiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiIxMTU4ZGQwM2VjYjU0OWU1ODU2NTA4MGQ2MjM2MWY1ZiIsImlhdCI6MTUyMTgxNDYzNiwiYXRfaGFzaCI6IlFfR0FzNjZ1bHdOWXV0MDVQWmhYN2ciLCJzaWQiOiI2YTRiMjZkYzQzZjc1NjUzNjVjMTRiMDA4ZDQ0ZTM5ZiIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgxNDYzNiwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.SIVG1WAqYxxXCGolIde_hqbAHEoElWNx8IbLLgDSn1vK7eNTFGQn1AlCKCA3KY02gkAZuUREBK7Y-8a5y3QVCMB4YmkyWKWZhpCgRDY2FENWeZr2kCggml4vMeENcxewz3B3l1wYip3zH5q4TSS9tTKBqKKV5NYqfxG40lS5kD-pjL4Ouh1aObFPdKpfTssSmFkkJkbbh4rbcXOAypH4B0W1Ysyy6rRE9CrPXEm2DPNqoHry-4-nUbPyhgM-gKRxNS2aVGrZvdqn--xE2FYQd3hgBQ-1HiVffPTfC1AT-tf7XIGfgWHVooU2oFUzXQYJhLOpKvCxe5uTusIaeZyx3g\",
    \"post_logout_redirect_uri\": \"http://localhost:51540/home\"
  }
}" (8a893fca)
2018-03-23T15:24:22.2279640+01:00 0HLCGP2P3EAR1:00000004 [INF] Request finished in 36.6229ms 302  (791a596a)
2018-03-23T15:24:22.2302639+01:00 0HLCGP2P3EAR1:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8I8cZ24bSc5BkaJobKJXk0IJ1ADzXFSym5DohfCmxDJOdghn-lFhwGmyqxJYGCHb5w5H94hdTzLAMvHOCMeITAZRv-oaUoLxecAzE_tU-W0zu2pPHAEX0esJpJLdN9CES_8Yb43OXkTlYzndSFf4M7igDhM-qTKpWkGdacZ73Ds4rodi8gQa3dxKmkX5idKg9mC0Ks5Kn1l7rRV7aq15kCUusiUm6WPoNjaR1pq07DLjAJYQuCUKgZDKxB3qVrpd0ounAxSTqs8Gc3vPjr4Oh0BhHgLSI8LUtPlTv3CDGC7h5g88wG8JRy-5fK2GyeiG3hdTJaVHwsQyxGrNd82Ugj5potRwHH3U-Xu93Xs7kDlvIe3NGunxr1g8KLV3zX_9zbXelpR0C8e-4ONlPPT-tMPL6o46P9h4CxMKgvZieR2HrRrCs8rZvOc-ykpu7CdHQeOIcWZOIxaSBrP5HzRSnGpvxadXwFD67bJmLnYxLBFl   (ca22a1cb)
2018-03-23T15:24:22.2310667+01:00 0HLCGP2P3EAR1:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:24:22.2311471+01:00 0HLCGP2P3EAR1:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:24:22.2315003+01:00 0HLCGP2P3EAR1:00000005 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0IJ1ADzXFSym5DohfCmxDJOdghn-lFhwGmyqxJYGCHb5w5H94hdTzLAMvHOCMeITAZRv-oaUoLxecAzE_tU-W0zu2pPHAEX0esJpJLdN9CES_8Yb43OXkTlYzndSFf4M7igDhM-qTKpWkGdacZ73Ds4rodi8gQa3dxKmkX5idKg9mC0Ks5Kn1l7rRV7aq15kCUusiUm6WPoNjaR1pq07DLjAJYQuCUKgZDKxB3qVrpd0ounAxSTqs8Gc3vPjr4Oh0BhHgLSI8LUtPlTv3CDGC7h5g88wG8JRy-5fK2GyeiG3hdTJaVHwsQyxGrNd82Ugj5potRwHH3U-Xu93Xs7kDlvIe3NGunxr1g8KLV3zX_9zbXelpR0C8e-4ONlPPT-tMPL6o46P9h4CxMKgvZieR2HrRrCs8rZvOc-ykpu7CdHQeOIcWZOIxaSBrP5HzRSnGpvxadXwFD67bJmLnYxLBFl"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T15:24:22.2321272+01:00 0HLCGP2P3EAR1:00000005 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T15:24:22.2323663+01:00 0HLCGP2P3EAR1:00000005 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T15:24:22.2325955+01:00 0HLCGP2P3EAR1:00000005 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T15:24:22.2326374+01:00 0HLCGP2P3EAR1:00000005 [INF] User logged out. (f9c27106)
2018-03-23T15:24:22.2327640+01:00 0HLCGP2P3EAR1:00000005 [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T15:24:22.2407282+01:00 0HLCGP2P3EAR1:00000005 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 2.8622ms (afa2e885)
2018-03-23T15:24:22.2419218+01:00 0HLCGP2P3EAR1:00000005 [INF] Request finished in 11.5539ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T15:24:22.3888904+01:00 0HLCGP2P3EAR1:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8I8cZ24bSc5BkaJobKJXk0KEHkHEPpCjIBnC-mWXBVKNn_hyw08jf6-wGW0vTBJCLPyYoI85HM0gqJ3gefFr0Uc3o0GZRRsoXMZ5HCzCKRIwA3ga_LWsjPAJ8a-OeV0LIBqEqK7rAmRCU3Oc9o8R3TMdyUPNW-7zWoZmBZE8bZh8ytmbuJP3jmr6pV0u5qK09bv5iQdJgazVx64w9uBsqQCyFBmNMBRNzelsJ69wk6MX7LAvprSslPyLWln_7TT_Mg_2PVGtBJxk54bphbSNFtkyGLSL_prqzaX3s2JdA_-TE8fBSQgIep-QQxLVZFpmJg0A1acgMQtFD13KNW-H6LI   (ca22a1cb)
2018-03-23T15:24:22.3901879+01:00 0HLCGP2P3EAR1:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback" (f7642de5)
2018-03-23T15:24:22.3905599+01:00 0HLCGP2P3EAR1:00000006 [INF] Successful signout callback. (d13fac4f)
2018-03-23T15:24:22.3909864+01:00 0HLCGP2P3EAR1:00000006 [INF] Request finished in 2.0689ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:24:29.7309199+01:00 0HLCGP2P3EAR0:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T15:24:29.7313980+01:00 0HLCGP2P3EAR0:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T15:24:29.7317923+01:00 0HLCGP2P3EAR0:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T15:24:29.7321029+01:00 0HLCGP2P3EAR0:00000002 [INF] Request finished in 1.2222ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:24:29.7444274+01:00 0HLCGP2P3EAR1:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=a8a3d416f8084c6eaa97f046653895a2&nonce=309e778e75d94a8e9dbb116cae8e0f5b   (ca22a1cb)
2018-03-23T15:24:29.7482887+01:00 0HLCGP2P3EAR1:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T15:24:29.7491136+01:00 0HLCGP2P3EAR1:00000007 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"a8a3d416f8084c6eaa97f046653895a2\",
  \"Nonce\": \"309e778e75d94a8e9dbb116cae8e0f5b\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"a8a3d416f8084c6eaa97f046653895a2\",
    \"nonce\": \"309e778e75d94a8e9dbb116cae8e0f5b\"
  }
}" (9a175e33)
2018-03-23T15:24:29.7491816+01:00 0HLCGP2P3EAR1:00000007 [INF] Showing login: User is not authenticated (4b8d50b2)
2018-03-23T15:24:29.7496849+01:00 0HLCGP2P3EAR1:00000007 [INF] Request finished in 5.4277ms 302  (791a596a)
2018-03-23T15:24:29.7751068+01:00 0HLCGP2P3EAR1:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Da8a3d416f8084c6eaa97f046653895a2%26nonce%3D309e778e75d94a8e9dbb116cae8e0f5b   (ca22a1cb)
2018-03-23T15:24:29.7760434+01:00 0HLCGP2P3EAR1:00000008 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=a8a3d416f8084c6eaa97f046653895a2&nonce=309e778e75d94a8e9dbb116cae8e0f5b"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T15:24:29.7761802+01:00 0HLCGP2P3EAR1:00000008 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T15:24:29.7765574+01:00 0HLCGP2P3EAR1:00000008 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T15:24:29.7788724+01:00 0HLCGP2P3EAR1:00000008 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 3.2138ms (afa2e885)
2018-03-23T15:24:29.7790182+01:00 0HLCGP2P3EAR1:00000008 [INF] Request finished in 3.9545ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T15:24:34.3011710+01:00 0HLCGP2P3EAR1:00000009 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Da8a3d416f8084c6eaa97f046653895a2%26nonce%3D309e778e75d94a8e9dbb116cae8e0f5b application/x-www-form-urlencoded 233 (ca22a1cb)
2018-03-23T15:24:34.3034120+01:00 0HLCGP2P3EAR1:00000009 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=a8a3d416f8084c6eaa97f046653895a2&nonce=309e778e75d94a8e9dbb116cae8e0f5b"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T15:24:34.3040034+01:00 0HLCGP2P3EAR1:00000009 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T15:24:34.3099675+01:00 0HLCGP2P3EAR1:00000009 [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T15:24:34.3227482+01:00 0HLCGP2P3EAR1:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T15:24:34.3264219+01:00 0HLCGP2P3EAR1:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T15:24:34.3270256+01:00 0HLCGP2P3EAR1:00000009 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T15:24:34.3271026+01:00 0HLCGP2P3EAR1:00000009 [INF] User logged in. (fdce0db4)
2018-03-23T15:24:34.3273678+01:00 0HLCGP2P3EAR1:00000009 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=a8a3d416f8084c6eaa97f046653895a2&nonce=309e778e75d94a8e9dbb116cae8e0f5b". (d98d540e)
2018-03-23T15:24:34.3275743+01:00 0HLCGP2P3EAR1:00000009 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 25.8995ms (afa2e885)
2018-03-23T15:24:34.3277736+01:00 0HLCGP2P3EAR1:00000009 [INF] Request finished in 26.7176ms 302  (791a596a)
2018-03-23T15:24:34.3317067+01:00 0HLCGP2P3EAR1:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=a8a3d416f8084c6eaa97f046653895a2&nonce=309e778e75d94a8e9dbb116cae8e0f5b   (ca22a1cb)
2018-03-23T15:24:34.3325347+01:00 0HLCGP2P3EAR1:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:24:34.3326322+01:00 0HLCGP2P3EAR1:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:24:34.3328606+01:00 0HLCGP2P3EAR1:0000000A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T15:24:34.3335645+01:00 0HLCGP2P3EAR1:0000000A [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"a8a3d416f8084c6eaa97f046653895a2\",
  \"Nonce\": \"309e778e75d94a8e9dbb116cae8e0f5b\",
  \"SessionId\": \"161184052522b64ab6f57a94d5fc000d\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"a8a3d416f8084c6eaa97f046653895a2\",
    \"nonce\": \"309e778e75d94a8e9dbb116cae8e0f5b\"
  }
}" (9a175e33)
2018-03-23T15:24:34.3338934+01:00 0HLCGP2P3EAR1:0000000A [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T15:24:34.3373141+01:00 0HLCGP2P3EAR1:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T15:24:34.3401413+01:00 0HLCGP2P3EAR1:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T15:24:34.3417404+01:00 0HLCGP2P3EAR1:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T15:24:34.3525878+01:00 0HLCGP2P3EAR1:0000000A [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"a8a3d416f8084c6eaa97f046653895a2\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T15:24:34.3530146+01:00 0HLCGP2P3EAR1:0000000A [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T15:24:34.3532694+01:00 0HLCGP2P3EAR1:0000000A [INF] Request finished in 21.6422ms 302  (791a596a)
2018-03-23T15:24:36.1371582+01:00 0HLCGP2P3EAR0:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T15:24:36.1376470+01:00 0HLCGP2P3EAR0:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T15:24:36.1383732+01:00 0HLCGP2P3EAR0:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T15:24:36.1387286+01:00 0HLCGP2P3EAR0:00000003 [INF] Request finished in 1.6327ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:24:36.2978618+01:00 0HLCGP2P3EAR0:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T15:24:36.2998465+01:00 0HLCGP2P3EAR0:00000004 [INF] Policy execution successful. (0204925d)
2018-03-23T15:24:36.3010205+01:00 0HLCGP2P3EAR0:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T15:24:36.3013370+01:00 0HLCGP2P3EAR0:00000004 [INF] Request finished in 3.5059ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:24:36.3916749+01:00 0HLCGP2P3EAR0:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T15:24:36.3922005+01:00 0HLCGP2P3EAR0:00000005 [INF] Policy execution successful. (0204925d)
2018-03-23T15:24:36.3939308+01:00 0HLCGP2P3EAR0:00000005 [INF] Request finished in 2.2541ms 204  (791a596a)
2018-03-23T15:24:36.4208840+01:00 0HLCGP2P3EAR0:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T15:24:36.4215615+01:00 0HLCGP2P3EAR0:00000006 [INF] Policy execution successful. (0204925d)
2018-03-23T15:24:36.4223124+01:00 0HLCGP2P3EAR0:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T15:24:36.4265107+01:00 0HLCGP2P3EAR0:00000006 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T15:24:36.4576857+01:00 0HLCGP2P3EAR0:00000006 [INF] Executed DbCommand ("29"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T15:24:36.4865131+01:00 0HLCGP2P3EAR0:00000006 [INF] Executed DbCommand ("27"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T15:24:36.5167785+01:00 0HLCGP2P3EAR0:00000006 [INF] Executed DbCommand ("28"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T15:24:36.5222747+01:00 0HLCGP2P3EAR0:00000006 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T15:24:36.5230727+01:00 0HLCGP2P3EAR0:00000006 [INF] Request finished in 102.2887ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:24:36.6273021+01:00 0HLCGP2P3EAR1:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T15:24:36.6413386+01:00 0HLCGP2P3EAR1:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:24:36.6414433+01:00 0HLCGP2P3EAR1:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:24:36.6415297+01:00 0HLCGP2P3EAR1:0000000B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T15:24:36.6428439+01:00 0HLCGP2P3EAR1:0000000B [INF] Request finished in 15.596ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:31:01.0026757+01:00 0HLCGP2P3EARB:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T15:31:01.0032035+01:00 0HLCGP2P3EARB:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T15:31:01.0037693+01:00 0HLCGP2P3EARB:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T15:31:01.0041760+01:00 0HLCGP2P3EARB:00000001 [INF] Request finished in 1.593ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:31:01.3441472+01:00 0HLCGP2P3EARC:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T15:31:01.3453759+01:00 0HLCGP2P3EARC:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:31:01.3454276+01:00 0HLCGP2P3EARC:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:31:01.3454777+01:00 0HLCGP2P3EARC:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T15:31:01.3470844+01:00 0HLCGP2P3EARC:00000001 [INF] Request finished in 3.168ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:31:05.7671974+01:00 0HLCGP2P3EARC:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Da8a3d416f8084c6eaa97f046653895a2%26nonce%3D309e778e75d94a8e9dbb116cae8e0f5b   (ca22a1cb)
2018-03-23T15:31:05.7681309+01:00 0HLCGP2P3EARC:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:31:05.7682250+01:00 0HLCGP2P3EARC:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:31:05.7686617+01:00 0HLCGP2P3EARC:00000002 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=a8a3d416f8084c6eaa97f046653895a2&nonce=309e778e75d94a8e9dbb116cae8e0f5b"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T15:31:05.7687994+01:00 0HLCGP2P3EARC:00000002 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T15:31:05.7691954+01:00 0HLCGP2P3EARC:00000002 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T15:31:05.7728454+01:00 0HLCGP2P3EARC:00000002 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 4.4249ms (afa2e885)
2018-03-23T15:31:05.7731178+01:00 0HLCGP2P3EARC:00000002 [INF] Request finished in 5.9593ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T15:31:08.6450903+01:00 0HLCGP2P3EARC:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T15:31:08.6467778+01:00 0HLCGP2P3EARC:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:31:08.6468540+01:00 0HLCGP2P3EARC:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:31:08.6469485+01:00 0HLCGP2P3EARC:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T15:31:08.6471704+01:00 0HLCGP2P3EARC:00000003 [INF] Request finished in 2.1404ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:31:11.5401651+01:00 0HLCGP2P3EARC:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MTUwNzQsImV4cCI6MTUyMTgxNTM3NCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiIzMDllNzc4ZTc1ZDk0YThlOWRiYjExNmNhZThlMGY1YiIsImlhdCI6MTUyMTgxNTA3NCwiYXRfaGFzaCI6InZoNFB1ODg3Si1sZjhwU25rU04xOHciLCJzaWQiOiIxNjExODQwNTI1MjJiNjRhYjZmNTdhOTRkNWZjMDAwZCIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgxNTA3NCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.Cz6dFqD2-Ijqlrl1YGjDiaol-Irl5_C9HMiL0V0xTTP4xYV_c4tOuWAQ2Sy1P6PYSEPXXstkgn3HV9H8C54OF0v_CQoo_4zpEVUniwluhtG1hR63KTmpghKTFE9czfKpCrtl5H0Ga6cvROjfr3bROkVVjFlGuzhHKA2d_wJiNL1rRHsZtAn5Kj3ai0nJSuT-vTSRdwFL63Httq_OnwcDeeBLyKDTcW_-tvOVxc2Rdn_b3MZFM9tTfdJqqnrxLDvulbx2GhR4O2lCIUoY5yATFPD-SwuS0s9DVUb2tV949J4T_9VUogSuke__sI8GsT9xBmwUXz3_uAGEA6gfYv91TQ&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fhome   (ca22a1cb)
2018-03-23T15:31:11.5409434+01:00 0HLCGP2P3EARC:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:31:11.5410029+01:00 0HLCGP2P3EARC:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:31:11.5411175+01:00 0HLCGP2P3EARC:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2018-03-23T15:31:11.5469298+01:00 0HLCGP2P3EARC:00000004 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T15:31:11.5524127+01:00 0HLCGP2P3EARC:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T15:31:11.5529619+01:00 0HLCGP2P3EARC:00000004 [INF] End session request validation success
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"PostLogOutUri\": \"http://localhost:51540/home\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MTUwNzQsImV4cCI6MTUyMTgxNTM3NCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiIzMDllNzc4ZTc1ZDk0YThlOWRiYjExNmNhZThlMGY1YiIsImlhdCI6MTUyMTgxNTA3NCwiYXRfaGFzaCI6InZoNFB1ODg3Si1sZjhwU25rU04xOHciLCJzaWQiOiIxNjExODQwNTI1MjJiNjRhYjZmNTdhOTRkNWZjMDAwZCIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgxNTA3NCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.Cz6dFqD2-Ijqlrl1YGjDiaol-Irl5_C9HMiL0V0xTTP4xYV_c4tOuWAQ2Sy1P6PYSEPXXstkgn3HV9H8C54OF0v_CQoo_4zpEVUniwluhtG1hR63KTmpghKTFE9czfKpCrtl5H0Ga6cvROjfr3bROkVVjFlGuzhHKA2d_wJiNL1rRHsZtAn5Kj3ai0nJSuT-vTSRdwFL63Httq_OnwcDeeBLyKDTcW_-tvOVxc2Rdn_b3MZFM9tTfdJqqnrxLDvulbx2GhR4O2lCIUoY5yATFPD-SwuS0s9DVUb2tV949J4T_9VUogSuke__sI8GsT9xBmwUXz3_uAGEA6gfYv91TQ\",
    \"post_logout_redirect_uri\": \"http://localhost:51540/home\"
  }
}" (8a893fca)
2018-03-23T15:31:11.5532740+01:00 0HLCGP2P3EARC:00000004 [INF] Request finished in 13.1931ms 302  (791a596a)
2018-03-23T15:31:11.5780048+01:00 0HLCGP2P3EARC:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8I8cZ24bSc5BkaJobKJXk0JxfL53bPcVm-R5iOI-VD_cPP42UjHaTVz4IGsMaocG9WIswlb1Qmxfae5aTRnEdgUmJmIUbGMP7GqkEOnJ21HVv_MYCjymsXbTA3EDUnWLCKgAJEYNNv8gdWwlsupdkaaLLI_CBIprA6RPAJe2j8-GaPo5auf_43ZPbqNNLwkIySQhS1xNwNrI1s5_1N92JQ20W_9jT8HjyJx8D3tAhyngBjr8eAdrRqpjXLTekt3g21mXFpZLof4Ku6qs8uJLRG1qBYacxaH4W3-iLxlUOVRKsfmf23tIpS9TbSTksaHMSal7tq1mrrcKddHcT8tXuSQ4kmAg2pQ9pxROIzUKF7rzu36SgmGW00wa7HzrvGXj9SLoS8mUUa3Qb1xly1i04QFYDBge1waUg_GDR5PkokE20gx_1fgP4tOG-M0q4TUYdui-neopwkKIiuGn1fO9mXuj97-cQ0KLMwi4D1ayScx2   (ca22a1cb)
2018-03-23T15:31:11.5793899+01:00 0HLCGP2P3EARC:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:31:11.5794455+01:00 0HLCGP2P3EARC:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:31:11.5802944+01:00 0HLCGP2P3EARC:00000005 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0JxfL53bPcVm-R5iOI-VD_cPP42UjHaTVz4IGsMaocG9WIswlb1Qmxfae5aTRnEdgUmJmIUbGMP7GqkEOnJ21HVv_MYCjymsXbTA3EDUnWLCKgAJEYNNv8gdWwlsupdkaaLLI_CBIprA6RPAJe2j8-GaPo5auf_43ZPbqNNLwkIySQhS1xNwNrI1s5_1N92JQ20W_9jT8HjyJx8D3tAhyngBjr8eAdrRqpjXLTekt3g21mXFpZLof4Ku6qs8uJLRG1qBYacxaH4W3-iLxlUOVRKsfmf23tIpS9TbSTksaHMSal7tq1mrrcKddHcT8tXuSQ4kmAg2pQ9pxROIzUKF7rzu36SgmGW00wa7HzrvGXj9SLoS8mUUa3Qb1xly1i04QFYDBge1waUg_GDR5PkokE20gx_1fgP4tOG-M0q4TUYdui-neopwkKIiuGn1fO9mXuj97-cQ0KLMwi4D1ayScx2"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T15:31:11.5809090+01:00 0HLCGP2P3EARC:00000005 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T15:31:11.5810321+01:00 0HLCGP2P3EARC:00000005 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T15:31:11.5811044+01:00 0HLCGP2P3EARC:00000005 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T15:31:11.5811279+01:00 0HLCGP2P3EARC:00000005 [INF] User logged out. (f9c27106)
2018-03-23T15:31:11.5812040+01:00 0HLCGP2P3EARC:00000005 [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T15:31:11.5818874+01:00 0HLCGP2P3EARC:00000005 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 2.2079ms (afa2e885)
2018-03-23T15:31:11.5821265+01:00 0HLCGP2P3EARC:00000005 [INF] Request finished in 4.297ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T15:31:11.7060125+01:00 0HLCGP2P3EARC:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8I8cZ24bSc5BkaJobKJXk0JQhL8ktNAGeXXKtBMc0nGgU3DBY4dBBFy3zE3Sys_Y1_6PcNGE4DQAGvZWxDj6pe624HUz2QrSy_xxK33VJUh8vPln8Sp_vnbbUqVv6RtlMnb6XBXVFb5n6bic0s7AZjvuxwQ0YZTZvwpoBa_YgqMphGfYfe-Mk7s7hSyu3hgIjyrjgJ5AdFepEhI_HsuHVg8t5xMJjSU310rSKvqv0n8aBhqJvRiGBubVoBHRLKcxWgFZXUoS82DfZxIqmFE3SYJl4TOQLUVb0_aBcO0VtJlSTDJofRZrcdSaI5aNnpAQPKBHn1odwH8h9KfMxnQmJLo   (ca22a1cb)
2018-03-23T15:31:11.7067422+01:00 0HLCGP2P3EARC:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback" (f7642de5)
2018-03-23T15:31:11.7069363+01:00 0HLCGP2P3EARC:00000006 [INF] Successful signout callback. (d13fac4f)
2018-03-23T15:31:11.7070800+01:00 0HLCGP2P3EARC:00000006 [INF] Request finished in 1.1136ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:31:23.8185889+01:00 0HLCGP2P3EARB:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T15:31:23.8191359+01:00 0HLCGP2P3EARB:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T15:31:23.8196041+01:00 0HLCGP2P3EARB:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T15:31:23.8201639+01:00 0HLCGP2P3EARB:00000002 [INF] Request finished in 1.6002ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:31:23.8304400+01:00 0HLCGP2P3EARC:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=73d976e6ce584f92bc65f1fdad93e979&nonce=07e3c777ddf44006af1fd172dd31b8ea   (ca22a1cb)
2018-03-23T15:31:23.8314254+01:00 0HLCGP2P3EARC:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T15:31:23.8318013+01:00 0HLCGP2P3EARC:00000007 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"73d976e6ce584f92bc65f1fdad93e979\",
  \"Nonce\": \"07e3c777ddf44006af1fd172dd31b8ea\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"73d976e6ce584f92bc65f1fdad93e979\",
    \"nonce\": \"07e3c777ddf44006af1fd172dd31b8ea\"
  }
}" (9a175e33)
2018-03-23T15:31:23.8318291+01:00 0HLCGP2P3EARC:00000007 [INF] Showing login: User is not authenticated (4b8d50b2)
2018-03-23T15:31:23.8319518+01:00 0HLCGP2P3EARC:00000007 [INF] Request finished in 1.5596ms 302  (791a596a)
2018-03-23T15:31:23.8354047+01:00 0HLCGP2P3EARC:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D73d976e6ce584f92bc65f1fdad93e979%26nonce%3D07e3c777ddf44006af1fd172dd31b8ea   (ca22a1cb)
2018-03-23T15:31:23.8412126+01:00 0HLCGP2P3EARC:00000008 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=73d976e6ce584f92bc65f1fdad93e979&nonce=07e3c777ddf44006af1fd172dd31b8ea"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T15:31:23.8416005+01:00 0HLCGP2P3EARC:00000008 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T15:31:23.8423519+01:00 0HLCGP2P3EARC:00000008 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T15:31:23.8454250+01:00 0HLCGP2P3EARC:00000008 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 5.1249ms (afa2e885)
2018-03-23T15:31:23.8461260+01:00 0HLCGP2P3EARC:00000008 [INF] Request finished in 10.4261ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T15:31:26.5602541+01:00 0HLCGP2P3EARC:00000009 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D73d976e6ce584f92bc65f1fdad93e979%26nonce%3D07e3c777ddf44006af1fd172dd31b8ea application/x-www-form-urlencoded 233 (ca22a1cb)
2018-03-23T15:31:26.5612066+01:00 0HLCGP2P3EARC:00000009 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=73d976e6ce584f92bc65f1fdad93e979&nonce=07e3c777ddf44006af1fd172dd31b8ea"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T15:31:26.5618241+01:00 0HLCGP2P3EARC:00000009 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T15:31:26.5679960+01:00 0HLCGP2P3EARC:00000009 [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T15:31:26.5850559+01:00 0HLCGP2P3EARC:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T15:31:26.5886991+01:00 0HLCGP2P3EARC:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T15:31:26.5891028+01:00 0HLCGP2P3EARC:00000009 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T15:31:26.5891580+01:00 0HLCGP2P3EARC:00000009 [INF] User logged in. (fdce0db4)
2018-03-23T15:31:26.5892397+01:00 0HLCGP2P3EARC:00000009 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=73d976e6ce584f92bc65f1fdad93e979&nonce=07e3c777ddf44006af1fd172dd31b8ea". (d98d540e)
2018-03-23T15:31:26.5893800+01:00 0HLCGP2P3EARC:00000009 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 28.6758ms (afa2e885)
2018-03-23T15:31:26.5895904+01:00 0HLCGP2P3EARC:00000009 [INF] Request finished in 29.3887ms 302  (791a596a)
2018-03-23T15:31:26.5928178+01:00 0HLCGP2P3EARC:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=73d976e6ce584f92bc65f1fdad93e979&nonce=07e3c777ddf44006af1fd172dd31b8ea   (ca22a1cb)
2018-03-23T15:31:26.5934983+01:00 0HLCGP2P3EARC:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:31:26.5935641+01:00 0HLCGP2P3EARC:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:31:26.5937335+01:00 0HLCGP2P3EARC:0000000A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T15:31:26.5941209+01:00 0HLCGP2P3EARC:0000000A [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"73d976e6ce584f92bc65f1fdad93e979\",
  \"Nonce\": \"07e3c777ddf44006af1fd172dd31b8ea\",
  \"SessionId\": \"b2a04f1ce395409793159af45a7e98cd\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"73d976e6ce584f92bc65f1fdad93e979\",
    \"nonce\": \"07e3c777ddf44006af1fd172dd31b8ea\"
  }
}" (9a175e33)
2018-03-23T15:31:26.5944433+01:00 0HLCGP2P3EARC:0000000A [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T15:31:26.5969793+01:00 0HLCGP2P3EARC:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T15:31:26.5979967+01:00 0HLCGP2P3EARC:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T15:31:26.5988883+01:00 0HLCGP2P3EARC:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T15:31:26.6088168+01:00 0HLCGP2P3EARC:0000000A [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"73d976e6ce584f92bc65f1fdad93e979\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T15:31:26.6091200+01:00 0HLCGP2P3EARC:0000000A [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T15:31:26.6093795+01:00 0HLCGP2P3EARC:0000000A [INF] Request finished in 16.6143ms 302  (791a596a)
2018-03-23T15:31:28.4275524+01:00 0HLCGP2P3EARB:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T15:31:28.4279399+01:00 0HLCGP2P3EARB:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T15:31:28.4283363+01:00 0HLCGP2P3EARB:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T15:31:28.4286622+01:00 0HLCGP2P3EARB:00000003 [INF] Request finished in 1.1371ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:31:28.5841442+01:00 0HLCGP2P3EARB:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T15:31:28.5845269+01:00 0HLCGP2P3EARB:00000004 [INF] Policy execution successful. (0204925d)
2018-03-23T15:31:28.5850811+01:00 0HLCGP2P3EARB:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T15:31:28.5853527+01:00 0HLCGP2P3EARB:00000004 [INF] Request finished in 1.2436ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:31:28.6719620+01:00 0HLCGP2P3EARB:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T15:31:28.6723092+01:00 0HLCGP2P3EARB:00000005 [INF] Policy execution successful. (0204925d)
2018-03-23T15:31:28.6723965+01:00 0HLCGP2P3EARB:00000005 [INF] Request finished in 0.4776ms 204  (791a596a)
2018-03-23T15:31:28.6917627+01:00 0HLCGP2P3EARB:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T15:31:28.6925103+01:00 0HLCGP2P3EARB:00000006 [INF] Policy execution successful. (0204925d)
2018-03-23T15:31:28.6932129+01:00 0HLCGP2P3EARB:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T15:31:28.6969579+01:00 0HLCGP2P3EARB:00000006 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T15:31:28.7167424+01:00 0HLCGP2P3EARB:00000006 [INF] Executed DbCommand ("18"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T15:31:28.7329043+01:00 0HLCGP2P3EARB:00000006 [INF] Executed DbCommand ("14"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T15:31:28.7481360+01:00 0HLCGP2P3EARB:00000006 [INF] Executed DbCommand ("14"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T15:31:28.7485799+01:00 0HLCGP2P3EARB:00000006 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T15:31:28.7498842+01:00 0HLCGP2P3EARB:00000006 [INF] Request finished in 57.7002ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:31:28.9396897+01:00 0HLCGP2P3EARC:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T15:31:28.9438037+01:00 0HLCGP2P3EARC:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:31:28.9439842+01:00 0HLCGP2P3EARC:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:31:28.9441121+01:00 0HLCGP2P3EARC:0000000B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T15:31:28.9447548+01:00 0HLCGP2P3EARC:0000000B [INF] Request finished in 5.0587ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:32:11.5841792+01:00 0HLCGP2P3EARB:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T15:32:11.5846984+01:00 0HLCGP2P3EARB:00000007 [INF] Policy execution successful. (0204925d)
2018-03-23T15:32:11.5851803+01:00 0HLCGP2P3EARB:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T15:32:11.5855498+01:00 0HLCGP2P3EARB:00000007 [INF] Request finished in 1.4501ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:32:12.0542097+01:00 0HLCGP2P3EARC:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T15:32:12.0554773+01:00 0HLCGP2P3EARC:0000000C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:32:12.0555453+01:00 0HLCGP2P3EARC:0000000C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:32:12.0556000+01:00 0HLCGP2P3EARC:0000000C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T15:32:12.0557976+01:00 0HLCGP2P3EARC:0000000C [INF] Request finished in 1.6353ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:32:59.8387887+01:00 0HLCGP2P3EARB:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T15:32:59.8392206+01:00 0HLCGP2P3EARB:00000008 [INF] Policy execution successful. (0204925d)
2018-03-23T15:32:59.8396560+01:00 0HLCGP2P3EARB:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T15:32:59.8400716+01:00 0HLCGP2P3EARB:00000008 [INF] Request finished in 1.2359ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:32:59.9893625+01:00 0HLCGP2P3EARC:0000000D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T15:32:59.9905848+01:00 0HLCGP2P3EARC:0000000D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:32:59.9908627+01:00 0HLCGP2P3EARC:0000000D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:32:59.9998151+01:00 0HLCGP2P3EARC:0000000D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T15:33:00.0038591+01:00 0HLCGP2P3EARC:0000000D [INF] Request finished in 14.4662ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:33:02.4385217+01:00 0HLCGP2P3EARC:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D73d976e6ce584f92bc65f1fdad93e979%26nonce%3D07e3c777ddf44006af1fd172dd31b8ea   (ca22a1cb)
2018-03-23T15:33:02.4393745+01:00 0HLCGP2P3EARC:0000000E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:33:02.4394339+01:00 0HLCGP2P3EARC:0000000E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:33:02.4399313+01:00 0HLCGP2P3EARC:0000000E [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=73d976e6ce584f92bc65f1fdad93e979&nonce=07e3c777ddf44006af1fd172dd31b8ea"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T15:33:02.4400832+01:00 0HLCGP2P3EARC:0000000E [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T15:33:02.4404890+01:00 0HLCGP2P3EARC:0000000E [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T15:33:02.4437626+01:00 0HLCGP2P3EARC:0000000E [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 4.0969ms (afa2e885)
2018-03-23T15:33:02.4440513+01:00 0HLCGP2P3EARC:0000000E [INF] Request finished in 5.5312ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T15:33:05.5143542+01:00 0HLCGP2P3EARC:0000000F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T15:33:05.5150679+01:00 0HLCGP2P3EARC:0000000F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:33:05.5151184+01:00 0HLCGP2P3EARC:0000000F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:33:05.5151646+01:00 0HLCGP2P3EARC:0000000F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T15:33:05.5185314+01:00 0HLCGP2P3EARC:0000000F [INF] Request finished in 4.0562ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:33:09.3262799+01:00 0HLCGP2P3EARC:00000010 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D73d976e6ce584f92bc65f1fdad93e979%26nonce%3D07e3c777ddf44006af1fd172dd31b8ea   (ca22a1cb)
2018-03-23T15:33:09.3271295+01:00 0HLCGP2P3EARC:00000010 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:33:09.3271950+01:00 0HLCGP2P3EARC:00000010 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:33:09.3275042+01:00 0HLCGP2P3EARC:00000010 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=73d976e6ce584f92bc65f1fdad93e979&nonce=07e3c777ddf44006af1fd172dd31b8ea"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T15:33:09.3276158+01:00 0HLCGP2P3EARC:00000010 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T15:33:09.3279272+01:00 0HLCGP2P3EARC:00000010 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T15:33:09.3306132+01:00 0HLCGP2P3EARC:00000010 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 3.2253ms (afa2e885)
2018-03-23T15:33:09.3307518+01:00 0HLCGP2P3EARC:00000010 [INF] Request finished in 4.4916ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T15:33:13.2853761+01:00 0HLCGP2P3EARC:00000011 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T15:33:13.2861069+01:00 0HLCGP2P3EARC:00000011 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:33:13.2861634+01:00 0HLCGP2P3EARC:00000011 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:33:13.2862152+01:00 0HLCGP2P3EARC:00000011 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T15:33:13.2863879+01:00 0HLCGP2P3EARC:00000011 [INF] Request finished in 1.0618ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:33:17.5989539+01:00 0HLCGP2P3EARB:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T15:33:17.5993618+01:00 0HLCGP2P3EARB:00000009 [INF] Policy execution successful. (0204925d)
2018-03-23T15:33:17.5997578+01:00 0HLCGP2P3EARB:00000009 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T15:33:17.6001841+01:00 0HLCGP2P3EARB:00000009 [INF] Request finished in 1.2632ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:33:18.0547156+01:00 0HLCGP2P3EARC:00000012 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T15:33:18.0554294+01:00 0HLCGP2P3EARC:00000012 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:33:18.0554786+01:00 0HLCGP2P3EARC:00000012 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:33:18.0555244+01:00 0HLCGP2P3EARC:00000012 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T15:33:18.0556988+01:00 0HLCGP2P3EARC:00000012 [INF] Request finished in 1.0383ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:33:22.3661632+01:00 0HLCGP2P3EARC:00000013 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MTU0ODYsImV4cCI6MTUyMTgxNTc4NiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiIwN2UzYzc3N2RkZjQ0MDA2YWYxZmQxNzJkZDMxYjhlYSIsImlhdCI6MTUyMTgxNTQ4NiwiYXRfaGFzaCI6IkYxMFFkOHg2aTBnSmFDZVZCLUxnb0EiLCJzaWQiOiJiMmEwNGYxY2UzOTU0MDk3OTMxNTlhZjQ1YTdlOThjZCIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgxNTQ4NiwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.G6iI4RprIHQgbFc0Y-LWVDCrQv8a_-g2M8NU5w3Q0JIWF1nlYB60BBPp3d2W4jMnlm4qx4UTNCCB8zVHNKqmPsBmyE3CeUIYojkiiyKTIp-bCCMGTsxawcbPqBQESfErDLYHxsD_kOqkukiApZ4qNKKshDeemJzlo483qU6qKgb41rrPNU-IW3ueaXepBsvXat_eJuNFbE0uBEjLbZ_JaFbWK8sNwve_NZoLgHNmC4QxtdQxlqC2S8W-nvtLHTxwPUIoneKYpAM5cimaaRg4GuZVgl9WjVh3ih7zD8g0RAP59mZZp3qyC2Br5PkiFSjTbc5JBihCqOj4GsFSc0ivFQ&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fhome   (ca22a1cb)
2018-03-23T15:33:22.3687476+01:00 0HLCGP2P3EARC:00000013 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:33:22.3688104+01:00 0HLCGP2P3EARC:00000013 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:33:22.3689045+01:00 0HLCGP2P3EARC:00000013 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2018-03-23T15:33:22.3720759+01:00 0HLCGP2P3EARC:00000013 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T15:33:22.3748702+01:00 0HLCGP2P3EARC:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T15:33:22.3753668+01:00 0HLCGP2P3EARC:00000013 [INF] End session request validation success
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"PostLogOutUri\": \"http://localhost:51540/home\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MTU0ODYsImV4cCI6MTUyMTgxNTc4NiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiIwN2UzYzc3N2RkZjQ0MDA2YWYxZmQxNzJkZDMxYjhlYSIsImlhdCI6MTUyMTgxNTQ4NiwiYXRfaGFzaCI6IkYxMFFkOHg2aTBnSmFDZVZCLUxnb0EiLCJzaWQiOiJiMmEwNGYxY2UzOTU0MDk3OTMxNTlhZjQ1YTdlOThjZCIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgxNTQ4NiwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.G6iI4RprIHQgbFc0Y-LWVDCrQv8a_-g2M8NU5w3Q0JIWF1nlYB60BBPp3d2W4jMnlm4qx4UTNCCB8zVHNKqmPsBmyE3CeUIYojkiiyKTIp-bCCMGTsxawcbPqBQESfErDLYHxsD_kOqkukiApZ4qNKKshDeemJzlo483qU6qKgb41rrPNU-IW3ueaXepBsvXat_eJuNFbE0uBEjLbZ_JaFbWK8sNwve_NZoLgHNmC4QxtdQxlqC2S8W-nvtLHTxwPUIoneKYpAM5cimaaRg4GuZVgl9WjVh3ih7zD8g0RAP59mZZp3qyC2Br5PkiFSjTbc5JBihCqOj4GsFSc0ivFQ\",
    \"post_logout_redirect_uri\": \"http://localhost:51540/home\"
  }
}" (8a893fca)
2018-03-23T15:33:22.3756152+01:00 0HLCGP2P3EARC:00000013 [INF] Request finished in 9.7081ms 302  (791a596a)
2018-03-23T15:33:22.3771505+01:00 0HLCGP2P3EARC:00000014 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8I8cZ24bSc5BkaJobKJXk0Jc8dAvDpvtHCkHL0Vu79irQ_E5JVHg63Tasw4O-5RpA4w7nAKUfUDnPnuctrdP8eMO9nJEhKet1ha5SfHQv6ULXPmDAqY8efGrKpEN4GYkc4ZKRdxtG3SI_cV330fsJ6AxJS4a_r9GBA5oZjfxUil9zvz3M6CnYwq_asFkImWZC4w4zghAuFWlFRpiVt4ive8jdw70JNu6gGmjzgC1NjT4sNMsHwUv7LE_62jX7tegXXAVoWpWkcQh6_J5iXyS3XtDSpySAKXbHO_b2BpSuJ1A4XacEiaMKoqN5NyfvCqCCMph-t2sEoIyVfqjNkJi9I-Z5GGKgKwgwp08CKJF_CWLbbOIFvbppv3e6XuN1aO4W0M1WS3UnIk9o-SpNMnVG4pj5jDpl4bp7pZlmWon8w_kLpLC7mkyejwN17hOOlltcIraecNYMYpJy-nWMdHFoEraIQ67c5pnEt0UH0yiyddk   (ca22a1cb)
2018-03-23T15:33:22.3777591+01:00 0HLCGP2P3EARC:00000014 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:33:22.3778074+01:00 0HLCGP2P3EARC:00000014 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:33:22.3781080+01:00 0HLCGP2P3EARC:00000014 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0Jc8dAvDpvtHCkHL0Vu79irQ_E5JVHg63Tasw4O-5RpA4w7nAKUfUDnPnuctrdP8eMO9nJEhKet1ha5SfHQv6ULXPmDAqY8efGrKpEN4GYkc4ZKRdxtG3SI_cV330fsJ6AxJS4a_r9GBA5oZjfxUil9zvz3M6CnYwq_asFkImWZC4w4zghAuFWlFRpiVt4ive8jdw70JNu6gGmjzgC1NjT4sNMsHwUv7LE_62jX7tegXXAVoWpWkcQh6_J5iXyS3XtDSpySAKXbHO_b2BpSuJ1A4XacEiaMKoqN5NyfvCqCCMph-t2sEoIyVfqjNkJi9I-Z5GGKgKwgwp08CKJF_CWLbbOIFvbppv3e6XuN1aO4W0M1WS3UnIk9o-SpNMnVG4pj5jDpl4bp7pZlmWon8w_kLpLC7mkyejwN17hOOlltcIraecNYMYpJy-nWMdHFoEraIQ67c5pnEt0UH0yiyddk"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T15:33:22.3785716+01:00 0HLCGP2P3EARC:00000014 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T15:33:22.3786717+01:00 0HLCGP2P3EARC:00000014 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T15:33:22.3787559+01:00 0HLCGP2P3EARC:00000014 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T15:33:22.3787799+01:00 0HLCGP2P3EARC:00000014 [INF] User logged out. (f9c27106)
2018-03-23T15:33:22.3789022+01:00 0HLCGP2P3EARC:00000014 [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T15:33:22.3796835+01:00 0HLCGP2P3EARC:00000014 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 1.6905ms (afa2e885)
2018-03-23T15:33:22.3807838+01:00 0HLCGP2P3EARC:00000014 [INF] Request finished in 3.5999ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T15:33:22.5357467+01:00 0HLCGP2P3EARC:00000015 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8I8cZ24bSc5BkaJobKJXk0InrWnO6qj8A4mkdZqGlHo4Ld33t1SpGKLY9iOkJqnV-rzxhtxayiB6wrPfzffEtXJIQ1r_83493RC_ksK0eN5KSUuhP23QdAYpXqTZC-92fZxLoOodKe2Nzf0h0zFtq9H3qcYd-bUVSafY-cA02LPWliNqwXZLw2ojTPWRbj6TPNSK73vaNNYgGshr9m55fOoEr55cOi0v0BmukMx3-08cSSAKmDRtCLX3VlgQoLFQk2IMUL1IB_bqr0odpKINr3UPtVBDb8uxEjswVQCKe8UpvftjfKz4M5jDVFVaBwV-SmaOL4zqGWUhYf23FfVyvK4   (ca22a1cb)
2018-03-23T15:33:22.5365959+01:00 0HLCGP2P3EARC:00000015 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback" (f7642de5)
2018-03-23T15:33:22.5375449+01:00 0HLCGP2P3EARC:00000015 [INF] Successful signout callback. (d13fac4f)
2018-03-23T15:33:22.5376984+01:00 0HLCGP2P3EARC:00000015 [INF] Request finished in 2.0352ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:33:27.8601735+01:00 0HLCGP2P3EARB:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T15:33:27.8605229+01:00 0HLCGP2P3EARB:0000000A [INF] Policy execution successful. (0204925d)
2018-03-23T15:33:27.8608830+01:00 0HLCGP2P3EARB:0000000A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T15:33:27.8612730+01:00 0HLCGP2P3EARB:0000000A [INF] Request finished in 1.0815ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:33:27.8718125+01:00 0HLCGP2P3EARC:00000016 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=8e5a1f64f06043eca7c55675fcfe1244&nonce=7d4b2e4d61474c7fa153494ee2d31805   (ca22a1cb)
2018-03-23T15:33:27.8723817+01:00 0HLCGP2P3EARC:00000016 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T15:33:27.8728504+01:00 0HLCGP2P3EARC:00000016 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"8e5a1f64f06043eca7c55675fcfe1244\",
  \"Nonce\": \"7d4b2e4d61474c7fa153494ee2d31805\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"8e5a1f64f06043eca7c55675fcfe1244\",
    \"nonce\": \"7d4b2e4d61474c7fa153494ee2d31805\"
  }
}" (9a175e33)
2018-03-23T15:33:27.8728791+01:00 0HLCGP2P3EARC:00000016 [INF] Showing login: User is not authenticated (4b8d50b2)
2018-03-23T15:33:27.8733790+01:00 0HLCGP2P3EARC:00000016 [INF] Request finished in 1.4672ms 302  (791a596a)
2018-03-23T15:33:27.8789368+01:00 0HLCGP2P3EARC:00000017 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D8e5a1f64f06043eca7c55675fcfe1244%26nonce%3D7d4b2e4d61474c7fa153494ee2d31805   (ca22a1cb)
2018-03-23T15:33:27.8824961+01:00 0HLCGP2P3EARC:00000017 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=8e5a1f64f06043eca7c55675fcfe1244&nonce=7d4b2e4d61474c7fa153494ee2d31805"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T15:33:27.8829700+01:00 0HLCGP2P3EARC:00000017 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T15:33:27.8838168+01:00 0HLCGP2P3EARC:00000017 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T15:33:27.8872179+01:00 0HLCGP2P3EARC:00000017 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 5.5017ms (afa2e885)
2018-03-23T15:33:27.8875300+01:00 0HLCGP2P3EARC:00000017 [INF] Request finished in 8.7587ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T15:33:30.0521194+01:00 0HLCGP2P3EARC:00000018 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D8e5a1f64f06043eca7c55675fcfe1244%26nonce%3D7d4b2e4d61474c7fa153494ee2d31805 application/x-www-form-urlencoded 233 (ca22a1cb)
2018-03-23T15:33:30.0532376+01:00 0HLCGP2P3EARC:00000018 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=8e5a1f64f06043eca7c55675fcfe1244&nonce=7d4b2e4d61474c7fa153494ee2d31805"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T15:33:30.0552815+01:00 0HLCGP2P3EARC:00000018 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T15:33:30.0608110+01:00 0HLCGP2P3EARC:00000018 [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T15:33:30.0739728+01:00 0HLCGP2P3EARC:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T15:33:30.0775989+01:00 0HLCGP2P3EARC:00000018 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T15:33:30.0780886+01:00 0HLCGP2P3EARC:00000018 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T15:33:30.0781339+01:00 0HLCGP2P3EARC:00000018 [INF] User logged in. (fdce0db4)
2018-03-23T15:33:30.0782156+01:00 0HLCGP2P3EARC:00000018 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=8e5a1f64f06043eca7c55675fcfe1244&nonce=7d4b2e4d61474c7fa153494ee2d31805". (d98d540e)
2018-03-23T15:33:30.0784423+01:00 0HLCGP2P3EARC:00000018 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 25.784ms (afa2e885)
2018-03-23T15:33:30.0787942+01:00 0HLCGP2P3EARC:00000018 [INF] Request finished in 26.6415ms 302  (791a596a)
2018-03-23T15:33:30.0823391+01:00 0HLCGP2P3EARC:00000019 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=8e5a1f64f06043eca7c55675fcfe1244&nonce=7d4b2e4d61474c7fa153494ee2d31805   (ca22a1cb)
2018-03-23T15:33:30.0839864+01:00 0HLCGP2P3EARC:00000019 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:33:30.0841976+01:00 0HLCGP2P3EARC:00000019 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:33:30.0844401+01:00 0HLCGP2P3EARC:00000019 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T15:33:30.0851632+01:00 0HLCGP2P3EARC:00000019 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"8e5a1f64f06043eca7c55675fcfe1244\",
  \"Nonce\": \"7d4b2e4d61474c7fa153494ee2d31805\",
  \"SessionId\": \"d17279d1549dacf7bba4c37e269f409e\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"8e5a1f64f06043eca7c55675fcfe1244\",
    \"nonce\": \"7d4b2e4d61474c7fa153494ee2d31805\"
  }
}" (9a175e33)
2018-03-23T15:33:30.0855546+01:00 0HLCGP2P3EARC:00000019 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T15:33:30.0874238+01:00 0HLCGP2P3EARC:00000019 [INF] Executed DbCommand ("0"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T15:33:30.0892756+01:00 0HLCGP2P3EARC:00000019 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T15:33:30.0906334+01:00 0HLCGP2P3EARC:00000019 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T15:33:30.0969524+01:00 0HLCGP2P3EARC:00000019 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"8e5a1f64f06043eca7c55675fcfe1244\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T15:33:30.0972385+01:00 0HLCGP2P3EARC:00000019 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T15:33:30.0974310+01:00 0HLCGP2P3EARC:00000019 [INF] Request finished in 15.1983ms 302  (791a596a)
2018-03-23T15:33:30.8607495+01:00 0HLCGP2P3EARB:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T15:33:30.8612700+01:00 0HLCGP2P3EARB:0000000B [INF] Policy execution successful. (0204925d)
2018-03-23T15:33:30.8619500+01:00 0HLCGP2P3EARB:0000000B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T15:33:30.8623562+01:00 0HLCGP2P3EARB:0000000B [INF] Request finished in 1.6627ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:33:31.0347553+01:00 0HLCGP2P3EARB:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T15:33:31.0355362+01:00 0HLCGP2P3EARB:0000000C [INF] Policy execution successful. (0204925d)
2018-03-23T15:33:31.0362320+01:00 0HLCGP2P3EARB:0000000C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T15:33:31.0376163+01:00 0HLCGP2P3EARB:0000000C [INF] Request finished in 2.834ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:33:31.1196899+01:00 0HLCGP2P3EARB:0000000D [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T15:33:31.1201565+01:00 0HLCGP2P3EARB:0000000D [INF] Policy execution successful. (0204925d)
2018-03-23T15:33:31.1203326+01:00 0HLCGP2P3EARB:0000000D [INF] Request finished in 0.7052ms 204  (791a596a)
2018-03-23T15:33:31.1401783+01:00 0HLCGP2P3EARB:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T15:33:31.1408840+01:00 0HLCGP2P3EARB:0000000E [INF] Policy execution successful. (0204925d)
2018-03-23T15:33:31.1421797+01:00 0HLCGP2P3EARB:0000000E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T15:33:31.1464105+01:00 0HLCGP2P3EARB:0000000E [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T15:33:31.1680070+01:00 0HLCGP2P3EARB:0000000E [INF] Executed DbCommand ("18"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T15:33:31.1990854+01:00 0HLCGP2P3EARB:0000000E [INF] Executed DbCommand ("29"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T15:33:31.2377282+01:00 0HLCGP2P3EARB:0000000E [INF] Executed DbCommand ("37"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T15:33:31.2379292+01:00 0HLCGP2P3EARB:0000000E [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T15:33:31.2381892+01:00 0HLCGP2P3EARB:0000000E [INF] Request finished in 98.0968ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:33:31.3871216+01:00 0HLCGP2P3EARC:0000001A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T15:33:31.3890637+01:00 0HLCGP2P3EARC:0000001A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:33:31.3892394+01:00 0HLCGP2P3EARC:0000001A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:33:31.3893304+01:00 0HLCGP2P3EARC:0000001A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T15:33:31.3895353+01:00 0HLCGP2P3EARC:0000001A [INF] Request finished in 2.5543ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:34:07.8423567+01:00 0HLCGP2P3EARB:0000000F [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T15:34:07.8427766+01:00 0HLCGP2P3EARB:0000000F [INF] Policy execution successful. (0204925d)
2018-03-23T15:34:07.8434112+01:00 0HLCGP2P3EARB:0000000F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T15:34:07.8437302+01:00 0HLCGP2P3EARB:0000000F [INF] Request finished in 1.4334ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:34:08.1958399+01:00 0HLCGP2P3EARC:0000001B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T15:34:08.1966094+01:00 0HLCGP2P3EARC:0000001B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:34:08.1969938+01:00 0HLCGP2P3EARC:0000001B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:34:08.1971824+01:00 0HLCGP2P3EARC:0000001B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T15:34:08.2007234+01:00 0HLCGP2P3EARC:0000001B [INF] Request finished in 4.4723ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:34:08.7331446+01:00 0HLCGP2P3EARC:0000001C [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D8e5a1f64f06043eca7c55675fcfe1244%26nonce%3D7d4b2e4d61474c7fa153494ee2d31805   (ca22a1cb)
2018-03-23T15:34:08.7339537+01:00 0HLCGP2P3EARC:0000001C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:34:08.7340067+01:00 0HLCGP2P3EARC:0000001C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:34:08.7343959+01:00 0HLCGP2P3EARC:0000001C [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=8e5a1f64f06043eca7c55675fcfe1244&nonce=7d4b2e4d61474c7fa153494ee2d31805"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T15:34:08.7345126+01:00 0HLCGP2P3EARC:0000001C [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T15:34:08.7348651+01:00 0HLCGP2P3EARC:0000001C [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T15:34:08.7373728+01:00 0HLCGP2P3EARC:0000001C [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 3.1471ms (afa2e885)
2018-03-23T15:34:08.7376722+01:00 0HLCGP2P3EARC:0000001C [INF] Request finished in 4.5446ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T15:34:10.7929413+01:00 0HLCGP2P3EARC:0000001D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T15:34:10.7936563+01:00 0HLCGP2P3EARC:0000001D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:34:10.7937110+01:00 0HLCGP2P3EARC:0000001D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:34:10.7937581+01:00 0HLCGP2P3EARC:0000001D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T15:34:10.7939433+01:00 0HLCGP2P3EARC:0000001D [INF] Request finished in 1.0306ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:34:11.7863246+01:00 0HLCGP2P3EARC:0000001E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T15:34:11.7870140+01:00 0HLCGP2P3EARC:0000001E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:34:11.7870589+01:00 0HLCGP2P3EARC:0000001E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:34:11.7871128+01:00 0HLCGP2P3EARC:0000001E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T15:34:11.7873039+01:00 0HLCGP2P3EARC:0000001E [INF] Request finished in 1.0289ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:34:14.5872472+01:00 0HLCGP2P3EARC:0000001F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T15:34:14.5884463+01:00 0HLCGP2P3EARC:0000001F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:34:14.5884993+01:00 0HLCGP2P3EARC:0000001F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:34:14.5885545+01:00 0HLCGP2P3EARC:0000001F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T15:34:14.5892649+01:00 0HLCGP2P3EARC:0000001F [INF] Request finished in 1.5703ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:34:15.6682453+01:00 0HLCGP2P3EARC:00000020 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MTU2MTAsImV4cCI6MTUyMTgxNTkxMCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiI3ZDRiMmU0ZDYxNDc0YzdmYTE1MzQ5NGVlMmQzMTgwNSIsImlhdCI6MTUyMTgxNTYxMCwiYXRfaGFzaCI6IlN1eFp5cUdhNlc0V0d0OFZXcEpYVlEiLCJzaWQiOiJkMTcyNzlkMTU0OWRhY2Y3YmJhNGMzN2UyNjlmNDA5ZSIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgxNTYxMCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.sI50rFlsxyqlf6wEQqM12Sa6HSGZIYoJfA8zkNgfsD_6mpcDcs6V1XkXrTcT2HY-g-G5mG92MVni9wGAMGuUoS9pTkwgGjH2BuGHF_I2LS9TEOx6jBX5syZMwoLiauk-almHqpWE89FdqB6oWtwJNs1XWMABMs9u0g44lvP5tkNCLtfRk79Aew5H7HtdyZp0v8dsWs-Mm5MM8d0XFOxo91RQVhUednalZ6AUnlk0kxpvAl3x_TRedykHhJKUxSx2mAMx3CSx3fLe4LMUomuoSOY3DLdQhcnzPs8oNMaKi_-WeigWGKRnZk_TM35j_TNPr_1UUxArilMJ_5u_2605Fg&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fhome   (ca22a1cb)
2018-03-23T15:34:15.6689522+01:00 0HLCGP2P3EARC:00000020 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:34:15.6691078+01:00 0HLCGP2P3EARC:00000020 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:34:15.6699985+01:00 0HLCGP2P3EARC:00000020 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2018-03-23T15:34:15.6745462+01:00 0HLCGP2P3EARC:00000020 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T15:34:15.6883539+01:00 0HLCGP2P3EARC:00000020 [INF] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T15:34:15.6888624+01:00 0HLCGP2P3EARC:00000020 [INF] End session request validation success
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"PostLogOutUri\": \"http://localhost:51540/home\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MTU2MTAsImV4cCI6MTUyMTgxNTkxMCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiI3ZDRiMmU0ZDYxNDc0YzdmYTE1MzQ5NGVlMmQzMTgwNSIsImlhdCI6MTUyMTgxNTYxMCwiYXRfaGFzaCI6IlN1eFp5cUdhNlc0V0d0OFZXcEpYVlEiLCJzaWQiOiJkMTcyNzlkMTU0OWRhY2Y3YmJhNGMzN2UyNjlmNDA5ZSIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgxNTYxMCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.sI50rFlsxyqlf6wEQqM12Sa6HSGZIYoJfA8zkNgfsD_6mpcDcs6V1XkXrTcT2HY-g-G5mG92MVni9wGAMGuUoS9pTkwgGjH2BuGHF_I2LS9TEOx6jBX5syZMwoLiauk-almHqpWE89FdqB6oWtwJNs1XWMABMs9u0g44lvP5tkNCLtfRk79Aew5H7HtdyZp0v8dsWs-Mm5MM8d0XFOxo91RQVhUednalZ6AUnlk0kxpvAl3x_TRedykHhJKUxSx2mAMx3CSx3fLe4LMUomuoSOY3DLdQhcnzPs8oNMaKi_-WeigWGKRnZk_TM35j_TNPr_1UUxArilMJ_5u_2605Fg\",
    \"post_logout_redirect_uri\": \"http://localhost:51540/home\"
  }
}" (8a893fca)
2018-03-23T15:34:15.6892263+01:00 0HLCGP2P3EARC:00000020 [INF] Request finished in 20.9541ms 302  (791a596a)
2018-03-23T15:34:15.7095578+01:00 0HLCGP2P3EARC:00000021 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8I8cZ24bSc5BkaJobKJXk0IxHmRwNbFvepfNhp4SfgxMAR4ePgeFZ-5skFr-flyfzBpFFo14XQPN0ImY60X421OwQJzlplnXxtrUXhBh38O5RxBUKLohsJ0ZD_LL6RHCFhL2Ahr4T3K8JziwhkZSxnI1j7Wx86dUbSpS4L34NTNfpJ8lnHWjCpnqv28yXXFEDPuS5dYLFNM1prjoilqJ9TgeblHDbZAjrW243oTazwdpUEH7wvTOIaEi34S_6H3v2iRKoBUSy9poX-_nTqhorfmMrDkYgtdFwGmwyQFzeAV3sOcOhhMbX-dPBI2eu06M2YJMVR5EETzz23Qchzagu_PzyeDmeE_Lg97GxPq_7prtp03seENVN5EimGSI1TCTRJdWTcyVgpXdZr7mobQBZ4f5nRHao1KGKR5lxqt2yrcmRV9XzffKa1k1a5wki0_1fcB41CZo2eMZDpKP2q7Sd7zsBicvXytIwuwkJHbQg9t5   (ca22a1cb)
2018-03-23T15:34:15.7103045+01:00 0HLCGP2P3EARC:00000021 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:34:15.7103558+01:00 0HLCGP2P3EARC:00000021 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:34:15.7106839+01:00 0HLCGP2P3EARC:00000021 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0IxHmRwNbFvepfNhp4SfgxMAR4ePgeFZ-5skFr-flyfzBpFFo14XQPN0ImY60X421OwQJzlplnXxtrUXhBh38O5RxBUKLohsJ0ZD_LL6RHCFhL2Ahr4T3K8JziwhkZSxnI1j7Wx86dUbSpS4L34NTNfpJ8lnHWjCpnqv28yXXFEDPuS5dYLFNM1prjoilqJ9TgeblHDbZAjrW243oTazwdpUEH7wvTOIaEi34S_6H3v2iRKoBUSy9poX-_nTqhorfmMrDkYgtdFwGmwyQFzeAV3sOcOhhMbX-dPBI2eu06M2YJMVR5EETzz23Qchzagu_PzyeDmeE_Lg97GxPq_7prtp03seENVN5EimGSI1TCTRJdWTcyVgpXdZr7mobQBZ4f5nRHao1KGKR5lxqt2yrcmRV9XzffKa1k1a5wki0_1fcB41CZo2eMZDpKP2q7Sd7zsBicvXytIwuwkJHbQg9t5"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T15:34:15.7112103+01:00 0HLCGP2P3EARC:00000021 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T15:34:15.7113266+01:00 0HLCGP2P3EARC:00000021 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T15:34:15.7114138+01:00 0HLCGP2P3EARC:00000021 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T15:34:15.7114467+01:00 0HLCGP2P3EARC:00000021 [INF] User logged out. (f9c27106)
2018-03-23T15:34:15.7115327+01:00 0HLCGP2P3EARC:00000021 [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T15:34:15.7123324+01:00 0HLCGP2P3EARC:00000021 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 1.8072ms (afa2e885)
2018-03-23T15:34:15.7124132+01:00 0HLCGP2P3EARC:00000021 [INF] Request finished in 2.9136ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T15:34:16.0364950+01:00 0HLCGP2P3EARC:00000022 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8I8cZ24bSc5BkaJobKJXk0ILwtaXuvCn5yg1gHT5RX6nO3wOsDyA7PcqRVoJW1X5Cl6F8hxzRlD6LbxkwK1YshRPQ4pc6sIQTU_U3ebrBmYSqv3vAqsX5tETNrOu7_FY7tT6bkuC1S1-Wb9h9rQh-J4yZfjcuwHWnk9j-pv9IjtZ8tbeSm5k6a5FU_HgieTW9cGIMAK7pF0xiVPaYP8B2uC5jKJwQhCZ9UCvcct1xw07kNK-X4vB3X-Ozy5cjfj7GIox-NSWMK0MTZ_nO2vtp1pyujTxdJ6sgQKmqlyLBDDmMUUc5tJ-LzRyxlY_YlCgT0IOpYm1zho5cCRNI1nruSo   (ca22a1cb)
2018-03-23T15:34:16.0387971+01:00 0HLCGP2P3EARC:00000022 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback" (f7642de5)
2018-03-23T15:34:16.0389716+01:00 0HLCGP2P3EARC:00000022 [INF] Successful signout callback. (d13fac4f)
2018-03-23T15:34:16.0412980+01:00 0HLCGP2P3EARC:00000022 [INF] Request finished in 4.8542ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T15:34:22.4574185+01:00 0HLCGP2P3EARB:00000010 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T15:34:22.4577735+01:00 0HLCGP2P3EARB:00000010 [INF] Policy execution successful. (0204925d)
2018-03-23T15:34:22.4581447+01:00 0HLCGP2P3EARB:00000010 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T15:34:22.4585009+01:00 0HLCGP2P3EARB:00000010 [INF] Request finished in 1.0451ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:34:22.4687248+01:00 0HLCGP2P3EARC:00000023 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=df64ac612a6e454183d031cfbd675c0b&nonce=b04522ddad45468fada2295b0ca6fc91   (ca22a1cb)
2018-03-23T15:34:22.4693444+01:00 0HLCGP2P3EARC:00000023 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T15:34:22.4697204+01:00 0HLCGP2P3EARC:00000023 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"df64ac612a6e454183d031cfbd675c0b\",
  \"Nonce\": \"b04522ddad45468fada2295b0ca6fc91\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"df64ac612a6e454183d031cfbd675c0b\",
    \"nonce\": \"b04522ddad45468fada2295b0ca6fc91\"
  }
}" (9a175e33)
2018-03-23T15:34:22.4697452+01:00 0HLCGP2P3EARC:00000023 [INF] Showing login: User is not authenticated (4b8d50b2)
2018-03-23T15:34:22.4698701+01:00 0HLCGP2P3EARC:00000023 [INF] Request finished in 1.1961ms 302  (791a596a)
2018-03-23T15:34:22.4735059+01:00 0HLCGP2P3EARC:00000024 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Ddf64ac612a6e454183d031cfbd675c0b%26nonce%3Db04522ddad45468fada2295b0ca6fc91   (ca22a1cb)
2018-03-23T15:34:22.4747748+01:00 0HLCGP2P3EARC:00000024 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=df64ac612a6e454183d031cfbd675c0b&nonce=b04522ddad45468fada2295b0ca6fc91"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T15:34:22.4749296+01:00 0HLCGP2P3EARC:00000024 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T15:34:22.4754086+01:00 0HLCGP2P3EARC:00000024 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T15:34:22.4776875+01:00 0HLCGP2P3EARC:00000024 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 3.6162ms (afa2e885)
2018-03-23T15:34:22.4778812+01:00 0HLCGP2P3EARC:00000024 [INF] Request finished in 4.4749ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T15:34:24.9178045+01:00 0HLCGP2P3EARC:00000025 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Ddf64ac612a6e454183d031cfbd675c0b%26nonce%3Db04522ddad45468fada2295b0ca6fc91 application/x-www-form-urlencoded 233 (ca22a1cb)
2018-03-23T15:34:24.9190871+01:00 0HLCGP2P3EARC:00000025 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=df64ac612a6e454183d031cfbd675c0b&nonce=b04522ddad45468fada2295b0ca6fc91"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T15:34:24.9195280+01:00 0HLCGP2P3EARC:00000025 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T15:34:24.9255908+01:00 0HLCGP2P3EARC:00000025 [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T15:34:24.9422530+01:00 0HLCGP2P3EARC:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T15:34:24.9454399+01:00 0HLCGP2P3EARC:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T15:34:24.9464611+01:00 0HLCGP2P3EARC:00000025 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T15:34:24.9465111+01:00 0HLCGP2P3EARC:00000025 [INF] User logged in. (fdce0db4)
2018-03-23T15:34:24.9466652+01:00 0HLCGP2P3EARC:00000025 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=df64ac612a6e454183d031cfbd675c0b&nonce=b04522ddad45468fada2295b0ca6fc91". (d98d540e)
2018-03-23T15:34:24.9474160+01:00 0HLCGP2P3EARC:00000025 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 28.9273ms (afa2e885)
2018-03-23T15:34:24.9477509+01:00 0HLCGP2P3EARC:00000025 [INF] Request finished in 30.0054ms 302  (791a596a)
2018-03-23T15:34:24.9497515+01:00 0HLCGP2P3EARC:00000026 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=df64ac612a6e454183d031cfbd675c0b&nonce=b04522ddad45468fada2295b0ca6fc91   (ca22a1cb)
2018-03-23T15:34:24.9504815+01:00 0HLCGP2P3EARC:00000026 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:34:24.9505316+01:00 0HLCGP2P3EARC:00000026 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:34:24.9506449+01:00 0HLCGP2P3EARC:00000026 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T15:34:24.9510669+01:00 0HLCGP2P3EARC:00000026 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"df64ac612a6e454183d031cfbd675c0b\",
  \"Nonce\": \"b04522ddad45468fada2295b0ca6fc91\",
  \"SessionId\": \"ddb4de956eeccbd26b75dd530a32831c\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"df64ac612a6e454183d031cfbd675c0b\",
    \"nonce\": \"b04522ddad45468fada2295b0ca6fc91\"
  }
}" (9a175e33)
2018-03-23T15:34:24.9513873+01:00 0HLCGP2P3EARC:00000026 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T15:34:24.9528212+01:00 0HLCGP2P3EARC:00000026 [INF] Executed DbCommand ("0"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T15:34:24.9538198+01:00 0HLCGP2P3EARC:00000026 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T15:34:24.9546267+01:00 0HLCGP2P3EARC:00000026 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T15:34:24.9636806+01:00 0HLCGP2P3EARC:00000026 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"df64ac612a6e454183d031cfbd675c0b\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T15:34:24.9640351+01:00 0HLCGP2P3EARC:00000026 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T15:34:24.9645102+01:00 0HLCGP2P3EARC:00000026 [INF] Request finished in 14.7985ms 302  (791a596a)
2018-03-23T15:34:26.8293867+01:00 0HLCGP2P3EARB:00000011 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T15:34:26.8297703+01:00 0HLCGP2P3EARB:00000011 [INF] Policy execution successful. (0204925d)
2018-03-23T15:34:26.8301885+01:00 0HLCGP2P3EARB:00000011 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T15:34:26.8304926+01:00 0HLCGP2P3EARB:00000011 [INF] Request finished in 1.1645ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:34:26.9745837+01:00 0HLCGP2P3EARB:00000012 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T15:34:26.9750523+01:00 0HLCGP2P3EARB:00000012 [INF] Policy execution successful. (0204925d)
2018-03-23T15:34:26.9754351+01:00 0HLCGP2P3EARB:00000012 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T15:34:26.9756639+01:00 0HLCGP2P3EARB:00000012 [INF] Request finished in 1.087ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:34:27.1418457+01:00 0HLCGP2P3EARB:00000013 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T15:34:27.1424124+01:00 0HLCGP2P3EARB:00000013 [INF] Policy execution successful. (0204925d)
2018-03-23T15:34:27.1427366+01:00 0HLCGP2P3EARB:00000013 [INF] Request finished in 0.8317ms 204  (791a596a)
2018-03-23T15:34:27.1649655+01:00 0HLCGP2P3EARB:00000014 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T15:34:27.1657751+01:00 0HLCGP2P3EARB:00000014 [INF] Policy execution successful. (0204925d)
2018-03-23T15:34:27.1668673+01:00 0HLCGP2P3EARB:00000014 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T15:34:27.1706739+01:00 0HLCGP2P3EARB:00000014 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T15:34:27.1928345+01:00 0HLCGP2P3EARB:00000014 [INF] Executed DbCommand ("20"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T15:34:27.2029985+01:00 0HLCGP2P3EARB:00000014 [INF] Executed DbCommand ("9"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T15:34:27.2149693+01:00 0HLCGP2P3EARB:00000014 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T15:34:27.2154384+01:00 0HLCGP2P3EARB:00000014 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T15:34:27.2157562+01:00 0HLCGP2P3EARB:00000014 [INF] Request finished in 50.8492ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T15:34:27.3263166+01:00 0HLCGP2P3EARC:00000027 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T15:34:27.3376020+01:00 0HLCGP2P3EARC:00000027 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:34:27.3377666+01:00 0HLCGP2P3EARC:00000027 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T15:34:27.3378612+01:00 0HLCGP2P3EARC:00000027 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T15:34:27.3380942+01:00 0HLCGP2P3EARC:00000027 [INF] Request finished in 11.9691ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T16:08:06.5803119+01:00 0HLCGP2P3EAS6:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T16:08:06.5866669+01:00 0HLCGP2P3EAS6:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T16:08:06.5933725+01:00 0HLCGP2P3EAS6:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T16:08:06.5971260+01:00 0HLCGP2P3EAS6:00000001 [INF] Request finished in 18.8941ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:08:06.7564102+01:00 0HLCGP2P3EAS7:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T16:08:06.7617649+01:00 0HLCGP2P3EAS7:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T16:08:06.8156052+01:00 0HLCGP2P3EAS7:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T16:08:06.8249472+01:00 0HLCGP2P3EAS7:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T16:08:06.8349048+01:00 0HLCGP2P3EAS7:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T16:08:06.8354406+01:00 0HLCGP2P3EAS7:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:08:06.8355873+01:00 0HLCGP2P3EAS7:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:08:06.8357395+01:00 0HLCGP2P3EAS7:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T16:08:06.8433758+01:00 0HLCGP2P3EAS7:00000001 [INF] Request finished in 87.1673ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T16:09:23.3483031+01:00 0HLCGP2P3EAS6:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T16:09:23.3489010+01:00 0HLCGP2P3EAS6:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T16:09:23.3494261+01:00 0HLCGP2P3EAS6:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T16:09:23.3513600+01:00 0HLCGP2P3EAS6:00000002 [INF] Request finished in 3.1086ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:09:23.6792081+01:00 0HLCGP2P3EAS7:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T16:09:23.6801917+01:00 0HLCGP2P3EAS7:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:09:23.6802524+01:00 0HLCGP2P3EAS7:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:09:23.6803110+01:00 0HLCGP2P3EAS7:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T16:09:23.6805338+01:00 0HLCGP2P3EAS7:00000002 [INF] Request finished in 1.3898ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T16:12:37.6869606+01:00 0HLCGP2P3EASB:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T16:12:37.6875311+01:00 0HLCGP2P3EASB:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T16:12:37.6883385+01:00 0HLCGP2P3EASB:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T16:12:37.6887183+01:00 0HLCGP2P3EASB:00000001 [INF] Request finished in 1.8979ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:12:38.0068416+01:00 0HLCGP2P3EASC:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T16:12:38.0078324+01:00 0HLCGP2P3EASC:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:12:38.0080428+01:00 0HLCGP2P3EASC:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:12:38.0082284+01:00 0HLCGP2P3EASC:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T16:12:38.0088199+01:00 0HLCGP2P3EASC:00000001 [INF] Request finished in 2.0065ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T16:13:48.2251363+01:00 0HLCGP2P3EASB:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T16:13:48.2255824+01:00 0HLCGP2P3EASB:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T16:13:48.2260413+01:00 0HLCGP2P3EASB:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T16:13:48.2264364+01:00 0HLCGP2P3EASB:00000002 [INF] Request finished in 1.3988ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:13:48.7381820+01:00 0HLCGP2P3EASC:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T16:13:48.7390471+01:00 0HLCGP2P3EASC:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:13:48.7391049+01:00 0HLCGP2P3EASC:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:13:48.7391562+01:00 0HLCGP2P3EASC:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T16:13:48.7394825+01:00 0HLCGP2P3EASC:00000002 [INF] Request finished in 1.2457ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T16:13:52.8138719+01:00 0HLCGP2P3EASC:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Ddf64ac612a6e454183d031cfbd675c0b%26nonce%3Db04522ddad45468fada2295b0ca6fc91   (ca22a1cb)
2018-03-23T16:13:52.8147178+01:00 0HLCGP2P3EASC:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:13:52.8147726+01:00 0HLCGP2P3EASC:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:13:52.8196670+01:00 0HLCGP2P3EASC:00000003 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=df64ac612a6e454183d031cfbd675c0b&nonce=b04522ddad45468fada2295b0ca6fc91"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T16:13:52.8203397+01:00 0HLCGP2P3EASC:00000003 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T16:13:52.8282564+01:00 0HLCGP2P3EASC:00000003 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T16:13:52.8385783+01:00 0HLCGP2P3EASC:00000003 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 21.6332ms (afa2e885)
2018-03-23T16:13:52.8390705+01:00 0HLCGP2P3EASC:00000003 [INF] Request finished in 24.9954ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T16:14:03.8522816+01:00 0HLCGP2P3EASC:00000004 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Ddf64ac612a6e454183d031cfbd675c0b%26nonce%3Db04522ddad45468fada2295b0ca6fc91 application/x-www-form-urlencoded 276 (ca22a1cb)
2018-03-23T16:14:03.8529508+01:00 0HLCGP2P3EASC:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:14:03.8530231+01:00 0HLCGP2P3EASC:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:14:03.8541367+01:00 0HLCGP2P3EASC:00000004 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=df64ac612a6e454183d031cfbd675c0b&nonce=b04522ddad45468fada2295b0ca6fc91"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T16:14:03.8553778+01:00 0HLCGP2P3EASC:00000004 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T16:14:03.8644236+01:00 0HLCGP2P3EASC:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T16:14:03.8789654+01:00 0HLCGP2P3EASC:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T16:14:03.8838261+01:00 0HLCGP2P3EASC:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T16:14:03.8845241+01:00 0HLCGP2P3EASC:00000004 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T16:14:03.8845746+01:00 0HLCGP2P3EASC:00000004 [INF] User logged in. (fdce0db4)
2018-03-23T16:14:03.8846751+01:00 0HLCGP2P3EASC:00000004 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=df64ac612a6e454183d031cfbd675c0b&nonce=b04522ddad45468fada2295b0ca6fc91". (d98d540e)
2018-03-23T16:14:03.8847952+01:00 0HLCGP2P3EASC:00000004 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 31.595ms (afa2e885)
2018-03-23T16:14:03.8849736+01:00 0HLCGP2P3EASC:00000004 [INF] Request finished in 32.7317ms 302  (791a596a)
2018-03-23T16:14:03.9291836+01:00 0HLCGP2P3EASC:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=df64ac612a6e454183d031cfbd675c0b&nonce=b04522ddad45468fada2295b0ca6fc91   (ca22a1cb)
2018-03-23T16:14:03.9298566+01:00 0HLCGP2P3EASC:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:14:03.9299097+01:00 0HLCGP2P3EASC:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:14:03.9303271+01:00 0HLCGP2P3EASC:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T16:14:03.9315471+01:00 0HLCGP2P3EASC:00000005 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"df64ac612a6e454183d031cfbd675c0b\",
  \"Nonce\": \"b04522ddad45468fada2295b0ca6fc91\",
  \"SessionId\": \"ef5c3090495495ff6b45b249eb2d449e\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"df64ac612a6e454183d031cfbd675c0b\",
    \"nonce\": \"b04522ddad45468fada2295b0ca6fc91\"
  }
}" (9a175e33)
2018-03-23T16:14:03.9320432+01:00 0HLCGP2P3EASC:00000005 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T16:14:03.9346869+01:00 0HLCGP2P3EASC:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T16:14:03.9358609+01:00 0HLCGP2P3EASC:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T16:14:03.9368569+01:00 0HLCGP2P3EASC:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T16:14:03.9457747+01:00 0HLCGP2P3EASC:00000005 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"df64ac612a6e454183d031cfbd675c0b\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T16:14:03.9462246+01:00 0HLCGP2P3EASC:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T16:14:03.9465078+01:00 0HLCGP2P3EASC:00000005 [INF] Request finished in 17.3943ms 302  (791a596a)
2018-03-23T16:14:05.7166680+01:00 0HLCGP2P3EASB:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T16:14:05.7170661+01:00 0HLCGP2P3EASB:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T16:14:05.7174240+01:00 0HLCGP2P3EASB:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T16:14:05.7177392+01:00 0HLCGP2P3EASB:00000003 [INF] Request finished in 1.1024ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:14:06.0504172+01:00 0HLCGP2P3EASC:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T16:14:06.0513128+01:00 0HLCGP2P3EASC:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:14:06.0513731+01:00 0HLCGP2P3EASC:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:14:06.0514390+01:00 0HLCGP2P3EASC:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T16:14:06.0516622+01:00 0HLCGP2P3EASC:00000006 [INF] Request finished in 4.356ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T16:14:08.3531784+01:00 0HLCGP2P3EASC:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%2Fcallback&response_type=id_token&scope=openid&state=10e13cfa84f046bfbf25708a4ddfbc88&nonce=9c03417f4e9b4ee0ac1ae8ba3a510161&prompt=none   (ca22a1cb)
2018-03-23T16:14:08.3539789+01:00 0HLCGP2P3EASC:00000007 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:14:08.3540379+01:00 0HLCGP2P3EASC:00000007 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:14:08.3543292+01:00 0HLCGP2P3EASC:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T16:14:08.3561548+01:00 0HLCGP2P3EASC:00000007 [ERR] Invalid redirect_uri: "http://localhost/callback"
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost/callback\",
    \"response_type\": \"id_token\",
    \"scope\": \"openid\",
    \"state\": \"10e13cfa84f046bfbf25708a4ddfbc88\",
    \"nonce\": \"9c03417f4e9b4ee0ac1ae8ba3a510161\",
    \"prompt\": \"none\"
  }
}" (aa493bc4)
2018-03-23T16:14:08.3623349+01:00 0HLCGP2P3EASC:00000007 [ERR] Request validation failed (abd529bc)
2018-03-23T16:14:08.3632745+01:00 0HLCGP2P3EASC:00000007 [INF] "{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost/callback\",
    \"response_type\": \"id_token\",
    \"scope\": \"openid\",
    \"state\": \"10e13cfa84f046bfbf25708a4ddfbc88\",
    \"nonce\": \"9c03417f4e9b4ee0ac1ae8ba3a510161\",
    \"prompt\": \"none\"
  }
}" (9899f104)
2018-03-23T16:14:08.5969276+01:00 0HLCGP2P3EASC:00000007 [INF] Request finished in 243.8069ms 302  (791a596a)
2018-03-23T16:14:08.5982712+01:00 0HLCGP2P3EASC:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8I8cZ24bSc5BkaJobKJXk0LoA93p3qMJTZZCvMWp0hrvXsypzHZPTA9vuzpTK2tKD1Pw3WMpNcECyGrwLZ32ZN-6INM27rLahn_HgBdRsUYJtb7tymG83vBoUUIl5QKm4vDQeCHdrm_J0z6lcfOgcJMCGcZvXeWyLd6WVOaFuWk2pW-UqSuJnf25JS3kAI4bd8Qi0YUSf2y5QTlw6k61k0ZL0iMv2qRt29KZcIbJAH8FaCZ8mKsjQz1iTHtmGt5wgReLMTiqY_3P45Ckdf3sHxUrRQ-RD21LeOx06_59akQjALoW7oHIMQe1GWvf0KMMmw   (ca22a1cb)
2018-03-23T16:14:08.5989953+01:00 0HLCGP2P3EASC:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:14:08.5990628+01:00 0HLCGP2P3EASC:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:14:08.6070390+01:00 0HLCGP2P3EASC:00000008 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.HomeController.Error (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0LoA93p3qMJTZZCvMWp0hrvXsypzHZPTA9vuzpTK2tKD1Pw3WMpNcECyGrwLZ32ZN-6INM27rLahn_HgBdRsUYJtb7tymG83vBoUUIl5QKm4vDQeCHdrm_J0z6lcfOgcJMCGcZvXeWyLd6WVOaFuWk2pW-UqSuJnf25JS3kAI4bd8Qi0YUSf2y5QTlw6k61k0ZL0iMv2qRt29KZcIbJAH8FaCZ8mKsjQz1iTHtmGt5wgReLMTiqY_3P45Ckdf3sHxUrRQ-RD21LeOx06_59akQjALoW7oHIMQe1GWvf0KMMmw"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T16:14:08.9522866+01:00 0HLCGP2P3EASC:00000008 [INF] Executing ViewResult, running view at path "/Views/Shared/Error.cshtml". (9707eebe)
2018-03-23T16:14:08.9657166+01:00 0HLCGP2P3EASC:00000008 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.HomeController.Error (IdentityServerWithAspNetIdentity)" in 359.0364ms (afa2e885)
2018-03-23T16:14:08.9660721+01:00 0HLCGP2P3EASC:00000008 [INF] Request finished in 367.8148ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T16:14:09.7357499+01:00 0HLCGP2P3EASC:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Ddf64ac612a6e454183d031cfbd675c0b%26nonce%3Db04522ddad45468fada2295b0ca6fc91   (ca22a1cb)
2018-03-23T16:14:09.7368207+01:00 0HLCGP2P3EASC:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:14:09.7368857+01:00 0HLCGP2P3EASC:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:14:09.7372343+01:00 0HLCGP2P3EASC:00000009 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=df64ac612a6e454183d031cfbd675c0b&nonce=b04522ddad45468fada2295b0ca6fc91"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T16:14:09.7373668+01:00 0HLCGP2P3EASC:00000009 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T16:14:09.7376696+01:00 0HLCGP2P3EASC:00000009 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T16:14:09.7405939+01:00 0HLCGP2P3EASC:00000009 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 3.4887ms (afa2e885)
2018-03-23T16:14:09.7407915+01:00 0HLCGP2P3EASC:00000009 [INF] Request finished in 5.0172ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T16:14:13.1471602+01:00 0HLCGP2P3EASC:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T16:14:13.1481682+01:00 0HLCGP2P3EASC:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:14:13.1482272+01:00 0HLCGP2P3EASC:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:14:13.1482823+01:00 0HLCGP2P3EASC:0000000A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T16:14:13.1485171+01:00 0HLCGP2P3EASC:0000000A [INF] Request finished in 1.4159ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T16:14:14.9217752+01:00 0HLCGP2P3EASC:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MTU2NjQsImV4cCI6MTUyMTgxNTk2NCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiJiMDQ1MjJkZGFkNDU0NjhmYWRhMjI5NWIwY2E2ZmM5MSIsImlhdCI6MTUyMTgxNTY2NCwiYXRfaGFzaCI6IlY3amcwUVcyU1R1YWxVUWxvTnVkbXciLCJzaWQiOiJkZGI0ZGU5NTZlZWNjYmQyNmI3NWRkNTMwYTMyODMxYyIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgxNTY2NCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.OYHBgPCr1UJ4GYABK3Ych5j1_JJLgp6uaIYrxqa8J_uFw_btQA5FfbsRpADuYg91InK2kNVGt5QsqgZopI_bIUnBqk6E3oiLX4Xn3KImfVKLLBxeo7qtwZF1q659xMyYSQNFRVxJ9SOGqTjdDFA2ljAJeheB_qwc1JevBiMsjLPdAB40ZT3itoMHWwJWgrrOBbWlT9qoWftQ2we5w7EPz95jf_VQ8EhwqN9v-YPlKvXCbghCT0-lsuoS2cD2K9FJuYhOSHV3NWCy2_pcEi5SdG4Puah29fpk-DwlI6LvpQAzxut4OMIXSiFftJmby5gYw48Evin38xS88SLsxzlCMw&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fhome   (ca22a1cb)
2018-03-23T16:14:14.9247017+01:00 0HLCGP2P3EASC:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:14:14.9247492+01:00 0HLCGP2P3EASC:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:14:14.9251251+01:00 0HLCGP2P3EASC:0000000B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2018-03-23T16:14:14.9306208+01:00 0HLCGP2P3EASC:0000000B [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T16:14:14.9360102+01:00 0HLCGP2P3EASC:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T16:14:14.9364682+01:00 0HLCGP2P3EASC:0000000B [INF] End session request validation success
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"PostLogOutUri\": \"http://localhost:51540/home\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MTU2NjQsImV4cCI6MTUyMTgxNTk2NCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiJiMDQ1MjJkZGFkNDU0NjhmYWRhMjI5NWIwY2E2ZmM5MSIsImlhdCI6MTUyMTgxNTY2NCwiYXRfaGFzaCI6IlY3amcwUVcyU1R1YWxVUWxvTnVkbXciLCJzaWQiOiJkZGI0ZGU5NTZlZWNjYmQyNmI3NWRkNTMwYTMyODMxYyIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgxNTY2NCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.OYHBgPCr1UJ4GYABK3Ych5j1_JJLgp6uaIYrxqa8J_uFw_btQA5FfbsRpADuYg91InK2kNVGt5QsqgZopI_bIUnBqk6E3oiLX4Xn3KImfVKLLBxeo7qtwZF1q659xMyYSQNFRVxJ9SOGqTjdDFA2ljAJeheB_qwc1JevBiMsjLPdAB40ZT3itoMHWwJWgrrOBbWlT9qoWftQ2we5w7EPz95jf_VQ8EhwqN9v-YPlKvXCbghCT0-lsuoS2cD2K9FJuYhOSHV3NWCy2_pcEi5SdG4Puah29fpk-DwlI6LvpQAzxut4OMIXSiFftJmby5gYw48Evin38xS88SLsxzlCMw\",
    \"post_logout_redirect_uri\": \"http://localhost:51540/home\"
  }
}" (8a893fca)
2018-03-23T16:14:14.9367923+01:00 0HLCGP2P3EASC:0000000B [INF] Request finished in 15.0782ms 302  (791a596a)
2018-03-23T16:14:14.9405420+01:00 0HLCGP2P3EASC:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8I8cZ24bSc5BkaJobKJXk0KPqUtuqQNNQ1ikrDH3kXYnqEpXLJ2IAKIYin446MM66uVGR59E0Of6vZ4jsb-AFUmGDLiGSP37vszVW04DCQMDjqR5579dh3_um9Yg1sj7LiiysXQtWOy6vg6SWokaSA-Y9MSEd3wqiqtvr2WbgKbmE3A1DRKJjy6j_3UPyMntNCHOF1dcUCc6nVpwzJPZvWQ9lw6NFrE3oI-aSl4x7xE_n_CzrtA0S5uD9YNKvGAWz95DjoCLKwopC05t-wXPsAHIOwErGLgQmpL_N8YVtOTIUs1sZ8TsjyOnQcSvXw2toi5Kh-JaRcl-BI_605qe8bP9jvAcpQ1dZrlB8uw2P-AlSgVgzj1DqQ_AEPlHnvofARXM42wNPYONVg6eoI3N0_6887nz0wU6BvnkLXs7LraV3i_p2SnzI6nwrdsn-GJSwZvtAFcctNuLQGvSMXLiSamDvTsxscLOJdssPpHu9n69   (ca22a1cb)
2018-03-23T16:14:14.9427376+01:00 0HLCGP2P3EASC:0000000C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:14:14.9428843+01:00 0HLCGP2P3EASC:0000000C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:14:14.9433731+01:00 0HLCGP2P3EASC:0000000C [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0KPqUtuqQNNQ1ikrDH3kXYnqEpXLJ2IAKIYin446MM66uVGR59E0Of6vZ4jsb-AFUmGDLiGSP37vszVW04DCQMDjqR5579dh3_um9Yg1sj7LiiysXQtWOy6vg6SWokaSA-Y9MSEd3wqiqtvr2WbgKbmE3A1DRKJjy6j_3UPyMntNCHOF1dcUCc6nVpwzJPZvWQ9lw6NFrE3oI-aSl4x7xE_n_CzrtA0S5uD9YNKvGAWz95DjoCLKwopC05t-wXPsAHIOwErGLgQmpL_N8YVtOTIUs1sZ8TsjyOnQcSvXw2toi5Kh-JaRcl-BI_605qe8bP9jvAcpQ1dZrlB8uw2P-AlSgVgzj1DqQ_AEPlHnvofARXM42wNPYONVg6eoI3N0_6887nz0wU6BvnkLXs7LraV3i_p2SnzI6nwrdsn-GJSwZvtAFcctNuLQGvSMXLiSamDvTsxscLOJdssPpHu9n69"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T16:14:14.9442523+01:00 0HLCGP2P3EASC:0000000C [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T16:14:14.9445953+01:00 0HLCGP2P3EASC:0000000C [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T16:14:14.9449010+01:00 0HLCGP2P3EASC:0000000C [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T16:14:14.9450397+01:00 0HLCGP2P3EASC:0000000C [INF] User logged out. (f9c27106)
2018-03-23T16:14:14.9467315+01:00 0HLCGP2P3EASC:0000000C [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T16:14:14.9495552+01:00 0HLCGP2P3EASC:0000000C [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 6.3031ms (afa2e885)
2018-03-23T16:14:14.9501928+01:00 0HLCGP2P3EASC:0000000C [INF] Request finished in 9.6499ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T16:14:15.0845076+01:00 0HLCGP2P3EASC:0000000D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8I8cZ24bSc5BkaJobKJXk0JuU4xNgQMJnFwTcyxN-lgMH7iSiLTmpIfBDvISomiwso8DEvUHbFdofqO0Y1rTrkX270RtSofhEpratNaCHjjhDo8087jh4hql4sF9jb16U2VHAjhabgr8u1Bh1Wi396WyEdziwxNX-9p8T0QiesYwGvDYBM83zriEzeFPQrjTPyQMSZab0r6kQkjS3-Bh5cLDQBGxyW_08STohlsZtUkYy6gkAjKJ5ba1UUhb0Gc3M2T1VkiE3iYdEjdDyhkbVGeTeRMEj-JsWopKL2Zbk8AoJn0BzBJEJPBgsOjKseZqx6DW8SEk3lTU4cGxqepmaOM   (ca22a1cb)
2018-03-23T16:14:15.0855250+01:00 0HLCGP2P3EASC:0000000D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback" (f7642de5)
2018-03-23T16:14:15.0861708+01:00 0HLCGP2P3EASC:0000000D [INF] Successful signout callback. (d13fac4f)
2018-03-23T16:14:15.0863414+01:00 0HLCGP2P3EASC:0000000D [INF] Request finished in 2.1335ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T16:14:22.1085969+01:00 0HLCGP2P3EASB:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T16:14:22.1090357+01:00 0HLCGP2P3EASB:00000004 [INF] Policy execution successful. (0204925d)
2018-03-23T16:14:22.1094129+01:00 0HLCGP2P3EASB:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T16:14:22.1097846+01:00 0HLCGP2P3EASB:00000004 [INF] Request finished in 1.1897ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:14:22.1224469+01:00 0HLCGP2P3EASC:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=80ed0d906daa47ce86e0b8c3d28db61a&nonce=bdd1c08613604ac1a47be78b29a4d396   (ca22a1cb)
2018-03-23T16:14:22.1230983+01:00 0HLCGP2P3EASC:0000000E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T16:14:22.1236050+01:00 0HLCGP2P3EASC:0000000E [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"80ed0d906daa47ce86e0b8c3d28db61a\",
  \"Nonce\": \"bdd1c08613604ac1a47be78b29a4d396\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"80ed0d906daa47ce86e0b8c3d28db61a\",
    \"nonce\": \"bdd1c08613604ac1a47be78b29a4d396\"
  }
}" (9a175e33)
2018-03-23T16:14:22.1236315+01:00 0HLCGP2P3EASC:0000000E [INF] Showing login: User is not authenticated (4b8d50b2)
2018-03-23T16:14:22.1239129+01:00 0HLCGP2P3EASC:0000000E [INF] Request finished in 1.5267ms 302  (791a596a)
2018-03-23T16:14:22.1284944+01:00 0HLCGP2P3EASC:0000000F [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D80ed0d906daa47ce86e0b8c3d28db61a%26nonce%3Dbdd1c08613604ac1a47be78b29a4d396   (ca22a1cb)
2018-03-23T16:14:22.1305514+01:00 0HLCGP2P3EASC:0000000F [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=80ed0d906daa47ce86e0b8c3d28db61a&nonce=bdd1c08613604ac1a47be78b29a4d396"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T16:14:22.1312694+01:00 0HLCGP2P3EASC:0000000F [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T16:14:22.1318964+01:00 0HLCGP2P3EASC:0000000F [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T16:14:22.1374914+01:00 0HLCGP2P3EASC:0000000F [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 7.6105ms (afa2e885)
2018-03-23T16:14:22.1379486+01:00 0HLCGP2P3EASC:0000000F [INF] Request finished in 9.8368ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T16:14:25.2375478+01:00 0HLCGP2P3EASC:00000010 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D80ed0d906daa47ce86e0b8c3d28db61a%26nonce%3Dbdd1c08613604ac1a47be78b29a4d396 application/x-www-form-urlencoded 233 (ca22a1cb)
2018-03-23T16:14:25.2385407+01:00 0HLCGP2P3EASC:00000010 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=80ed0d906daa47ce86e0b8c3d28db61a&nonce=bdd1c08613604ac1a47be78b29a4d396"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T16:14:25.2391501+01:00 0HLCGP2P3EASC:00000010 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T16:14:25.2444248+01:00 0HLCGP2P3EASC:00000010 [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T16:14:25.2568037+01:00 0HLCGP2P3EASC:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T16:14:25.2597690+01:00 0HLCGP2P3EASC:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T16:14:25.2601950+01:00 0HLCGP2P3EASC:00000010 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T16:14:25.2602270+01:00 0HLCGP2P3EASC:00000010 [INF] User logged in. (fdce0db4)
2018-03-23T16:14:25.2603271+01:00 0HLCGP2P3EASC:00000010 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=80ed0d906daa47ce86e0b8c3d28db61a&nonce=bdd1c08613604ac1a47be78b29a4d396". (d98d540e)
2018-03-23T16:14:25.2607368+01:00 0HLCGP2P3EASC:00000010 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 22.4804ms (afa2e885)
2018-03-23T16:14:25.2610448+01:00 0HLCGP2P3EASC:00000010 [INF] Request finished in 23.5564ms 302  (791a596a)
2018-03-23T16:14:25.2633836+01:00 0HLCGP2P3EASC:00000011 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=80ed0d906daa47ce86e0b8c3d28db61a&nonce=bdd1c08613604ac1a47be78b29a4d396   (ca22a1cb)
2018-03-23T16:14:25.2639780+01:00 0HLCGP2P3EASC:00000011 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:14:25.2640327+01:00 0HLCGP2P3EASC:00000011 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:14:25.2641268+01:00 0HLCGP2P3EASC:00000011 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T16:14:25.2648872+01:00 0HLCGP2P3EASC:00000011 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"80ed0d906daa47ce86e0b8c3d28db61a\",
  \"Nonce\": \"bdd1c08613604ac1a47be78b29a4d396\",
  \"SessionId\": \"2c5e76db71ddc94442caa48d9f4f9507\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"80ed0d906daa47ce86e0b8c3d28db61a\",
    \"nonce\": \"bdd1c08613604ac1a47be78b29a4d396\"
  }
}" (9a175e33)
2018-03-23T16:14:25.2656107+01:00 0HLCGP2P3EASC:00000011 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T16:14:25.2697064+01:00 0HLCGP2P3EASC:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T16:14:25.2706404+01:00 0HLCGP2P3EASC:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T16:14:25.2715522+01:00 0HLCGP2P3EASC:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T16:14:25.2811817+01:00 0HLCGP2P3EASC:00000011 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"80ed0d906daa47ce86e0b8c3d28db61a\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T16:14:25.2816243+01:00 0HLCGP2P3EASC:00000011 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T16:14:25.2822068+01:00 0HLCGP2P3EASC:00000011 [INF] Request finished in 18.7517ms 302  (791a596a)
2018-03-23T16:14:29.6494062+01:00 0HLCGP2P3EASB:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T16:14:29.6499031+01:00 0HLCGP2P3EASB:00000005 [INF] Policy execution successful. (0204925d)
2018-03-23T16:14:29.6503060+01:00 0HLCGP2P3EASB:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T16:14:29.6506096+01:00 0HLCGP2P3EASB:00000005 [INF] Request finished in 1.2615ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:14:29.7866286+01:00 0HLCGP2P3EASB:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T16:14:29.7870289+01:00 0HLCGP2P3EASB:00000006 [INF] Policy execution successful. (0204925d)
2018-03-23T16:14:29.7875439+01:00 0HLCGP2P3EASB:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T16:14:29.7878090+01:00 0HLCGP2P3EASB:00000006 [INF] Request finished in 1.2247ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:14:29.8938867+01:00 0HLCGP2P3EASB:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T16:14:29.8943451+01:00 0HLCGP2P3EASB:00000007 [INF] Policy execution successful. (0204925d)
2018-03-23T16:14:29.8945457+01:00 0HLCGP2P3EASB:00000007 [INF] Request finished in 0.6316ms 204  (791a596a)
2018-03-23T16:14:30.8897209+01:00 0HLCGP2P3EASB:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T16:14:30.8900951+01:00 0HLCGP2P3EASB:00000008 [INF] Policy execution successful. (0204925d)
2018-03-23T16:14:30.8907627+01:00 0HLCGP2P3EASB:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T16:14:30.8944709+01:00 0HLCGP2P3EASB:00000008 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T16:14:30.9050998+01:00 0HLCGP2P3EASB:00000008 [INF] Executed DbCommand ("9"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T16:14:30.9145518+01:00 0HLCGP2P3EASB:00000008 [INF] Executed DbCommand ("8"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T16:14:30.9184921+01:00 0HLCGP2P3EASB:00000008 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T16:14:30.9186769+01:00 0HLCGP2P3EASB:00000008 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T16:14:30.9203807+01:00 0HLCGP2P3EASB:00000008 [INF] Request finished in 30.3988ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:14:30.9285869+01:00 0HLCGP2P3EASC:00000012 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T16:14:30.9295782+01:00 0HLCGP2P3EASC:00000012 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:14:30.9297189+01:00 0HLCGP2P3EASC:00000012 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:14:30.9297959+01:00 0HLCGP2P3EASC:00000012 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T16:14:30.9299999+01:00 0HLCGP2P3EASC:00000012 [INF] Request finished in 1.4724ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T16:17:03.2223857+01:00 0HLCGP2P3EASM:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T16:17:03.2229741+01:00 0HLCGP2P3EASM:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T16:17:03.2234501+01:00 0HLCGP2P3EASM:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T16:17:03.2237547+01:00 0HLCGP2P3EASM:00000001 [INF] Request finished in 1.4694ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:17:04.4323148+01:00 0HLCGP2P3EASN:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T16:17:04.4334040+01:00 0HLCGP2P3EASN:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:04.4337222+01:00 0HLCGP2P3EASN:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:04.4338292+01:00 0HLCGP2P3EASN:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T16:17:04.4340558+01:00 0HLCGP2P3EASN:00000001 [INF] Request finished in 1.8277ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T16:17:06.0615166+01:00 0HLCGP2P3EASN:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D80ed0d906daa47ce86e0b8c3d28db61a%26nonce%3Dbdd1c08613604ac1a47be78b29a4d396   (ca22a1cb)
2018-03-23T16:17:06.0628526+01:00 0HLCGP2P3EASN:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:06.0629638+01:00 0HLCGP2P3EASN:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:06.0635535+01:00 0HLCGP2P3EASN:00000002 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=80ed0d906daa47ce86e0b8c3d28db61a&nonce=bdd1c08613604ac1a47be78b29a4d396"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T16:17:06.0637220+01:00 0HLCGP2P3EASN:00000002 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T16:17:06.0642143+01:00 0HLCGP2P3EASN:00000002 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T16:17:06.0675516+01:00 0HLCGP2P3EASN:00000002 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 4.3761ms (afa2e885)
2018-03-23T16:17:06.0677462+01:00 0HLCGP2P3EASN:00000002 [INF] Request finished in 6.3014ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T16:17:09.3009782+01:00 0HLCGP2P3EASN:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D80ed0d906daa47ce86e0b8c3d28db61a%26nonce%3Dbdd1c08613604ac1a47be78b29a4d396 application/x-www-form-urlencoded 276 (ca22a1cb)
2018-03-23T16:17:09.3019464+01:00 0HLCGP2P3EASN:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:09.3020045+01:00 0HLCGP2P3EASN:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:09.3028188+01:00 0HLCGP2P3EASN:00000003 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=80ed0d906daa47ce86e0b8c3d28db61a&nonce=bdd1c08613604ac1a47be78b29a4d396"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T16:17:09.3044622+01:00 0HLCGP2P3EASN:00000003 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T16:17:09.3091724+01:00 0HLCGP2P3EASN:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T16:17:09.3236352+01:00 0HLCGP2P3EASN:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T16:17:09.3262349+01:00 0HLCGP2P3EASN:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T16:17:09.3266942+01:00 0HLCGP2P3EASN:00000003 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T16:17:09.3267472+01:00 0HLCGP2P3EASN:00000003 [INF] User logged in. (fdce0db4)
2018-03-23T16:17:09.3268127+01:00 0HLCGP2P3EASN:00000003 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=80ed0d906daa47ce86e0b8c3d28db61a&nonce=bdd1c08613604ac1a47be78b29a4d396". (d98d540e)
2018-03-23T16:17:09.3269162+01:00 0HLCGP2P3EASN:00000003 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 24.7966ms (afa2e885)
2018-03-23T16:17:09.3270564+01:00 0HLCGP2P3EASN:00000003 [INF] Request finished in 26.1437ms 302  (791a596a)
2018-03-23T16:17:09.3291687+01:00 0HLCGP2P3EASN:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=80ed0d906daa47ce86e0b8c3d28db61a&nonce=bdd1c08613604ac1a47be78b29a4d396   (ca22a1cb)
2018-03-23T16:17:09.3302583+01:00 0HLCGP2P3EASN:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:09.3303391+01:00 0HLCGP2P3EASN:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:09.3304918+01:00 0HLCGP2P3EASN:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T16:17:09.3309767+01:00 0HLCGP2P3EASN:00000004 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"80ed0d906daa47ce86e0b8c3d28db61a\",
  \"Nonce\": \"bdd1c08613604ac1a47be78b29a4d396\",
  \"SessionId\": \"1d83510e30d21e7b718756bfd35f9465\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"80ed0d906daa47ce86e0b8c3d28db61a\",
    \"nonce\": \"bdd1c08613604ac1a47be78b29a4d396\"
  }
}" (9a175e33)
2018-03-23T16:17:09.3313955+01:00 0HLCGP2P3EASN:00000004 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T16:17:09.3349048+01:00 0HLCGP2P3EASN:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T16:17:09.3397782+01:00 0HLCGP2P3EASN:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T16:17:09.3431370+01:00 0HLCGP2P3EASN:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T16:17:09.3575546+01:00 0HLCGP2P3EASN:00000004 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"80ed0d906daa47ce86e0b8c3d28db61a\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T16:17:09.3579767+01:00 0HLCGP2P3EASN:00000004 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T16:17:09.3581849+01:00 0HLCGP2P3EASN:00000004 [INF] Request finished in 29.0825ms 302  (791a596a)
2018-03-23T16:17:10.1019077+01:00 0HLCGP2P3EASM:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T16:17:10.1023177+01:00 0HLCGP2P3EASM:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T16:17:10.1027056+01:00 0HLCGP2P3EASM:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T16:17:10.1030858+01:00 0HLCGP2P3EASM:00000002 [INF] Request finished in 1.2235ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:17:10.3724998+01:00 0HLCGP2P3EASN:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T16:17:10.3732336+01:00 0HLCGP2P3EASN:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:10.3732832+01:00 0HLCGP2P3EASN:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:10.3733307+01:00 0HLCGP2P3EASN:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T16:17:10.3735783+01:00 0HLCGP2P3EASN:00000005 [INF] Request finished in 1.1106ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T16:17:12.4870827+01:00 0HLCGP2P3EASN:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%2Fcallback&response_type=id_token&scope=openid&state=26d04d8bb0204fe6a5f4616e6e6a2397&nonce=cc7985c9de474c14bbde25d4ce7c3ceb&prompt=none   (ca22a1cb)
2018-03-23T16:17:12.4876664+01:00 0HLCGP2P3EASN:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:12.4877113+01:00 0HLCGP2P3EASN:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:12.4878020+01:00 0HLCGP2P3EASN:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T16:17:12.4880231+01:00 0HLCGP2P3EASN:00000006 [ERR] Invalid redirect_uri: "http://localhost/callback"
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost/callback\",
    \"response_type\": \"id_token\",
    \"scope\": \"openid\",
    \"state\": \"26d04d8bb0204fe6a5f4616e6e6a2397\",
    \"nonce\": \"cc7985c9de474c14bbde25d4ce7c3ceb\",
    \"prompt\": \"none\"
  }
}" (aa493bc4)
2018-03-23T16:17:12.4880534+01:00 0HLCGP2P3EASN:00000006 [ERR] Request validation failed (abd529bc)
2018-03-23T16:17:12.4881385+01:00 0HLCGP2P3EASN:00000006 [INF] "{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost/callback\",
    \"response_type\": \"id_token\",
    \"scope\": \"openid\",
    \"state\": \"26d04d8bb0204fe6a5f4616e6e6a2397\",
    \"nonce\": \"cc7985c9de474c14bbde25d4ce7c3ceb\",
    \"prompt\": \"none\"
  }
}" (9899f104)
2018-03-23T16:17:12.4883057+01:00 0HLCGP2P3EASN:00000006 [INF] Request finished in 1.2932ms 302  (791a596a)
2018-03-23T16:17:12.4897020+01:00 0HLCGP2P3EASN:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8I8cZ24bSc5BkaJobKJXk0IJDr1FnCv68zMN0dAG4wL3vMxgs-C0c0nEUs-2pOAL26YCSIzcl65c06XXNCRntjPbP373OcIB0M6c_SwLKTMAK415pcxkZMmlaE3De2BBKXyjS8Bk5RHdydTmKqSF0BAEemqBvf8H64vw2juEftWS4bdRdCGNOrshzR_aoaqm7j9TvIzJ-K46z2EVL7GgoHVLqVGovpceEhbRkrfCLiZRa-sHPy58_SymzJeaJnUJgrhUPnK1fX6tl_o8coyo-af-4t0a6VHyUcV5XBC2O19zm20s4rd2VwkOOVpzII_Cww   (ca22a1cb)
2018-03-23T16:17:12.4903786+01:00 0HLCGP2P3EASN:00000007 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:12.4904924+01:00 0HLCGP2P3EASN:00000007 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:12.4908623+01:00 0HLCGP2P3EASN:00000007 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.HomeController.Error (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0IJDr1FnCv68zMN0dAG4wL3vMxgs-C0c0nEUs-2pOAL26YCSIzcl65c06XXNCRntjPbP373OcIB0M6c_SwLKTMAK415pcxkZMmlaE3De2BBKXyjS8Bk5RHdydTmKqSF0BAEemqBvf8H64vw2juEftWS4bdRdCGNOrshzR_aoaqm7j9TvIzJ-K46z2EVL7GgoHVLqVGovpceEhbRkrfCLiZRa-sHPy58_SymzJeaJnUJgrhUPnK1fX6tl_o8coyo-af-4t0a6VHyUcV5XBC2O19zm20s4rd2VwkOOVpzII_Cww"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T16:17:12.4910658+01:00 0HLCGP2P3EASN:00000007 [INF] Executing ViewResult, running view at path "/Views/Shared/Error.cshtml". (9707eebe)
2018-03-23T16:17:12.4920789+01:00 0HLCGP2P3EASN:00000007 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.HomeController.Error (IdentityServerWithAspNetIdentity)" in 1.288ms (afa2e885)
2018-03-23T16:17:12.4923701+01:00 0HLCGP2P3EASN:00000007 [INF] Request finished in 2.7224ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T16:17:15.6790268+01:00 0HLCGP2P3EASN:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D80ed0d906daa47ce86e0b8c3d28db61a%26nonce%3Dbdd1c08613604ac1a47be78b29a4d396   (ca22a1cb)
2018-03-23T16:17:15.6800373+01:00 0HLCGP2P3EASN:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:15.6801605+01:00 0HLCGP2P3EASN:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:15.6805154+01:00 0HLCGP2P3EASN:00000008 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=80ed0d906daa47ce86e0b8c3d28db61a&nonce=bdd1c08613604ac1a47be78b29a4d396"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T16:17:15.6821884+01:00 0HLCGP2P3EASN:00000008 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T16:17:15.6839961+01:00 0HLCGP2P3EASN:00000008 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T16:17:15.6864953+01:00 0HLCGP2P3EASN:00000008 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 6.1641ms (afa2e885)
2018-03-23T16:17:15.6868961+01:00 0HLCGP2P3EASN:00000008 [INF] Request finished in 7.9646ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T16:17:18.1906521+01:00 0HLCGP2P3EASN:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T16:17:18.1919312+01:00 0HLCGP2P3EASN:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:18.1919984+01:00 0HLCGP2P3EASN:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:18.1921288+01:00 0HLCGP2P3EASN:00000009 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T16:17:18.1923602+01:00 0HLCGP2P3EASN:00000009 [INF] Request finished in 2.2036ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T16:17:19.4945144+01:00 0HLCGP2P3EASN:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MTgwNjUsImV4cCI6MTUyMTgxODM2NSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiJiZGQxYzA4NjEzNjA0YWMxYTQ3YmU3OGIyOWE0ZDM5NiIsImlhdCI6MTUyMTgxODA2NSwiYXRfaGFzaCI6ImIwWXdVeDBZYnZFdzRPd1g4ZDhPV2ciLCJzaWQiOiIyYzVlNzZkYjcxZGRjOTQ0NDJjYWE0OGQ5ZjRmOTUwNyIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgxODA2NSwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.mWdpOuoLKoqwq-e13UmTxmYQHWArFHUFpF3OleJ1ZtuE22RWBUP_0ZHjCRYoP1W4nBQsGM6R7_hVTiRcpHClLj_oTr-tV74X53-ldFDGhLZUOV40-li3khkxLFq18ELw4_Yq8EIRjvIYHaBcusSzvbJk_B17HcRU_IYHHZBr5zkd1LeSo-cM5p5x3tC7Tg5HgsQVpUIVNL-3luPjJxJT5-u5hN5dxFDqVm3Yk_kPRlWRyeZhHVEO0tr7pCPwmxOmxyWNiwR7eXs7TqueeazuZq-7Xd8O7hxz_v6WnhwSyjhmY4gIkHPC8m_siGA1N0LDVQuA10rgwXBpTkKArLvuFA&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fhome   (ca22a1cb)
2018-03-23T16:17:19.4976867+01:00 0HLCGP2P3EASN:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:19.4977402+01:00 0HLCGP2P3EASN:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:19.4978548+01:00 0HLCGP2P3EASN:0000000A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2018-03-23T16:17:19.5034408+01:00 0HLCGP2P3EASN:0000000A [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T16:17:19.5082930+01:00 0HLCGP2P3EASN:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T16:17:19.5095473+01:00 0HLCGP2P3EASN:0000000A [INF] End session request validation success
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"PostLogOutUri\": \"http://localhost:51540/home\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MTgwNjUsImV4cCI6MTUyMTgxODM2NSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiJiZGQxYzA4NjEzNjA0YWMxYTQ3YmU3OGIyOWE0ZDM5NiIsImlhdCI6MTUyMTgxODA2NSwiYXRfaGFzaCI6ImIwWXdVeDBZYnZFdzRPd1g4ZDhPV2ciLCJzaWQiOiIyYzVlNzZkYjcxZGRjOTQ0NDJjYWE0OGQ5ZjRmOTUwNyIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgxODA2NSwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.mWdpOuoLKoqwq-e13UmTxmYQHWArFHUFpF3OleJ1ZtuE22RWBUP_0ZHjCRYoP1W4nBQsGM6R7_hVTiRcpHClLj_oTr-tV74X53-ldFDGhLZUOV40-li3khkxLFq18ELw4_Yq8EIRjvIYHaBcusSzvbJk_B17HcRU_IYHHZBr5zkd1LeSo-cM5p5x3tC7Tg5HgsQVpUIVNL-3luPjJxJT5-u5hN5dxFDqVm3Yk_kPRlWRyeZhHVEO0tr7pCPwmxOmxyWNiwR7eXs7TqueeazuZq-7Xd8O7hxz_v6WnhwSyjhmY4gIkHPC8m_siGA1N0LDVQuA10rgwXBpTkKArLvuFA\",
    \"post_logout_redirect_uri\": \"http://localhost:51540/home\"
  }
}" (8a893fca)
2018-03-23T16:17:19.5101254+01:00 0HLCGP2P3EASN:0000000A [INF] Request finished in 15.5058ms 302  (791a596a)
2018-03-23T16:17:19.5125062+01:00 0HLCGP2P3EASN:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8I8cZ24bSc5BkaJobKJXk0JD238D9Ko8PEvNNHWyx_GkS2DOrhgoWd2I9HmO65GZ61i5kWLuxvO186ni2nXLyhd4hQw6xNzuTQeQxDSGYLmPyJm1xGfpP7IKKdVZE-06utW1tXwZT0akWOqR1tyPWbT0q7TYZA4Q4VlmY_mrWm2WFzGOt7C1SSI9lA_fFryAbKhfzJfOfKTxDwLuHAoNQo5JWfRYgZ-pPCLP1sK1nbjbihoIpVsLVPYrp6SgTiSXryzQfgT5NZl_dY4XfwijZrgJg5A3UHtqyF7zjzQcGkOZ9YPtNhl1ckaIee8Ix3La-Ju9B-yb49dd05Y12T20T-AwZEi3xGsl6wSCm9F5tv7BtsmAVo5GExyAjhW8KVXZPxoVXo8mhMikBwgBvUhWiF3tAitkPHhw-IglQpsSWZdLk_wD6cbpJmuJaQpBJflVtivRC-ECWn-p6Qub14CjO1HWRaqvjS5URO_woHsU0N6v   (ca22a1cb)
2018-03-23T16:17:19.5151119+01:00 0HLCGP2P3EASN:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:19.5152693+01:00 0HLCGP2P3EASN:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:19.5156837+01:00 0HLCGP2P3EASN:0000000B [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0JD238D9Ko8PEvNNHWyx_GkS2DOrhgoWd2I9HmO65GZ61i5kWLuxvO186ni2nXLyhd4hQw6xNzuTQeQxDSGYLmPyJm1xGfpP7IKKdVZE-06utW1tXwZT0akWOqR1tyPWbT0q7TYZA4Q4VlmY_mrWm2WFzGOt7C1SSI9lA_fFryAbKhfzJfOfKTxDwLuHAoNQo5JWfRYgZ-pPCLP1sK1nbjbihoIpVsLVPYrp6SgTiSXryzQfgT5NZl_dY4XfwijZrgJg5A3UHtqyF7zjzQcGkOZ9YPtNhl1ckaIee8Ix3La-Ju9B-yb49dd05Y12T20T-AwZEi3xGsl6wSCm9F5tv7BtsmAVo5GExyAjhW8KVXZPxoVXo8mhMikBwgBvUhWiF3tAitkPHhw-IglQpsSWZdLk_wD6cbpJmuJaQpBJflVtivRC-ECWn-p6Qub14CjO1HWRaqvjS5URO_woHsU0N6v"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T16:17:19.5161708+01:00 0HLCGP2P3EASN:0000000B [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T16:17:19.5162670+01:00 0HLCGP2P3EASN:0000000B [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T16:17:19.5163650+01:00 0HLCGP2P3EASN:0000000B [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T16:17:19.5165249+01:00 0HLCGP2P3EASN:0000000B [INF] User logged out. (f9c27106)
2018-03-23T16:17:19.5166429+01:00 0HLCGP2P3EASN:0000000B [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T16:17:19.5173528+01:00 0HLCGP2P3EASN:0000000B [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 1.9577ms (afa2e885)
2018-03-23T16:17:19.5176616+01:00 0HLCGP2P3EASN:0000000B [INF] Request finished in 5.4521ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T16:17:19.6573978+01:00 0HLCGP2P3EASN:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8I8cZ24bSc5BkaJobKJXk0LcFaIJvXtWV7YzOw1k9fD6bf7DG2CC38AvgoXyBF8DXmEkhtRU_t6yjX4CO2KLRn8OL0dNKTEv6BLbuv8_F0OMgS0Qj6Eu_2ZPAy2xpuOLfNmJsdC7TT4FgGDpqSj3kjA2xE3d49bn3XbA8dI_Rd3JVBUXHGa0pOPPRq9q7v0mOmJZYdCIL-RBQ92NZtoYu50th3iRlxyrtTui7WwureV7mn6BhBoGER2H64Q0-QH4DpFp2Kh3hqlv4lrdUPawkpa_Nav6lJ3eDmvrP16R8Nf4HbfCa2mo4rSv2ic68LsYoViJp3rW6n8Tix_p3D73jFU   (ca22a1cb)
2018-03-23T16:17:19.6586251+01:00 0HLCGP2P3EASN:0000000C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback" (f7642de5)
2018-03-23T16:17:19.6587988+01:00 0HLCGP2P3EASN:0000000C [INF] Successful signout callback. (d13fac4f)
2018-03-23T16:17:19.6589185+01:00 0HLCGP2P3EASN:0000000C [INF] Request finished in 1.6802ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T16:17:25.5062663+01:00 0HLCGP2P3EASM:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T16:17:25.5067141+01:00 0HLCGP2P3EASM:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T16:17:25.5070742+01:00 0HLCGP2P3EASM:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T16:17:25.5073449+01:00 0HLCGP2P3EASM:00000003 [INF] Request finished in 1.1538ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:17:25.5467471+01:00 0HLCGP2P3EASN:0000000D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=c6761b52a0c946f98fdbf5c0f7bcb3b6&nonce=831c283731944b78b86bd14c819c4fef   (ca22a1cb)
2018-03-23T16:17:25.5473467+01:00 0HLCGP2P3EASN:0000000D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T16:17:25.5476547+01:00 0HLCGP2P3EASN:0000000D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"c6761b52a0c946f98fdbf5c0f7bcb3b6\",
  \"Nonce\": \"831c283731944b78b86bd14c819c4fef\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"c6761b52a0c946f98fdbf5c0f7bcb3b6\",
    \"nonce\": \"831c283731944b78b86bd14c819c4fef\"
  }
}" (9a175e33)
2018-03-23T16:17:25.5476812+01:00 0HLCGP2P3EASN:0000000D [INF] Showing login: User is not authenticated (4b8d50b2)
2018-03-23T16:17:25.5477936+01:00 0HLCGP2P3EASN:0000000D [INF] Request finished in 1.0819ms 302  (791a596a)
2018-03-23T16:17:25.5627657+01:00 0HLCGP2P3EASN:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Dc6761b52a0c946f98fdbf5c0f7bcb3b6%26nonce%3D831c283731944b78b86bd14c819c4fef   (ca22a1cb)
2018-03-23T16:17:25.5640273+01:00 0HLCGP2P3EASN:0000000E [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=c6761b52a0c946f98fdbf5c0f7bcb3b6&nonce=831c283731944b78b86bd14c819c4fef"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T16:17:25.5641539+01:00 0HLCGP2P3EASN:0000000E [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T16:17:25.5644405+01:00 0HLCGP2P3EASN:0000000E [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T16:17:25.5667511+01:00 0HLCGP2P3EASN:0000000E [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 3.322ms (afa2e885)
2018-03-23T16:17:25.5670957+01:00 0HLCGP2P3EASN:0000000E [INF] Request finished in 4.3787ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T16:17:27.8602548+01:00 0HLCGP2P3EASN:0000000F [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Dc6761b52a0c946f98fdbf5c0f7bcb3b6%26nonce%3D831c283731944b78b86bd14c819c4fef application/x-www-form-urlencoded 233 (ca22a1cb)
2018-03-23T16:17:27.8614137+01:00 0HLCGP2P3EASN:0000000F [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=c6761b52a0c946f98fdbf5c0f7bcb3b6&nonce=831c283731944b78b86bd14c819c4fef"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T16:17:27.8627548+01:00 0HLCGP2P3EASN:0000000F [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T16:17:27.8685603+01:00 0HLCGP2P3EASN:0000000F [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T16:17:27.8807685+01:00 0HLCGP2P3EASN:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T16:17:27.8841131+01:00 0HLCGP2P3EASN:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T16:17:27.8845869+01:00 0HLCGP2P3EASN:0000000F [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T16:17:27.8846323+01:00 0HLCGP2P3EASN:0000000F [INF] User logged in. (fdce0db4)
2018-03-23T16:17:27.8847058+01:00 0HLCGP2P3EASN:0000000F [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=c6761b52a0c946f98fdbf5c0f7bcb3b6&nonce=831c283731944b78b86bd14c819c4fef". (d98d540e)
2018-03-23T16:17:27.8848098+01:00 0HLCGP2P3EASN:0000000F [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 24.0341ms (afa2e885)
2018-03-23T16:17:27.8849770+01:00 0HLCGP2P3EASN:0000000F [INF] Request finished in 24.7974ms 302  (791a596a)
2018-03-23T16:17:27.8871606+01:00 0HLCGP2P3EASN:00000010 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=c6761b52a0c946f98fdbf5c0f7bcb3b6&nonce=831c283731944b78b86bd14c819c4fef   (ca22a1cb)
2018-03-23T16:17:27.8877652+01:00 0HLCGP2P3EASN:00000010 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:27.8878174+01:00 0HLCGP2P3EASN:00000010 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:27.8879102+01:00 0HLCGP2P3EASN:00000010 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T16:17:27.8884495+01:00 0HLCGP2P3EASN:00000010 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"c6761b52a0c946f98fdbf5c0f7bcb3b6\",
  \"Nonce\": \"831c283731944b78b86bd14c819c4fef\",
  \"SessionId\": \"ef356a8d7c159aa7c2609f26bc9a92a8\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"c6761b52a0c946f98fdbf5c0f7bcb3b6\",
    \"nonce\": \"831c283731944b78b86bd14c819c4fef\"
  }
}" (9a175e33)
2018-03-23T16:17:27.8888686+01:00 0HLCGP2P3EASN:00000010 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T16:17:27.8926513+01:00 0HLCGP2P3EASN:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T16:17:27.8936353+01:00 0HLCGP2P3EASN:00000010 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T16:17:27.8942999+01:00 0HLCGP2P3EASN:00000010 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T16:17:27.9003764+01:00 0HLCGP2P3EASN:00000010 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"c6761b52a0c946f98fdbf5c0f7bcb3b6\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T16:17:27.9007300+01:00 0HLCGP2P3EASN:00000010 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T16:17:27.9009331+01:00 0HLCGP2P3EASN:00000010 [INF] Request finished in 13.8153ms 302  (791a596a)
2018-03-23T16:17:29.6163273+01:00 0HLCGP2P3EASM:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T16:17:29.6167793+01:00 0HLCGP2P3EASM:00000004 [INF] Policy execution successful. (0204925d)
2018-03-23T16:17:29.6174528+01:00 0HLCGP2P3EASM:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T16:17:29.6180653+01:00 0HLCGP2P3EASM:00000004 [INF] Request finished in 1.761ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:17:29.7898113+01:00 0HLCGP2P3EASM:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T16:17:29.7902098+01:00 0HLCGP2P3EASM:00000005 [INF] Policy execution successful. (0204925d)
2018-03-23T16:17:29.7905661+01:00 0HLCGP2P3EASM:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T16:17:29.7907072+01:00 0HLCGP2P3EASM:00000005 [INF] Request finished in 0.9339ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:17:29.9219651+01:00 0HLCGP2P3EASM:00000006 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T16:17:29.9419473+01:00 0HLCGP2P3EASM:00000006 [INF] Policy execution successful. (0204925d)
2018-03-23T16:17:29.9423647+01:00 0HLCGP2P3EASM:00000006 [INF] Request finished in 20.4627ms 204  (791a596a)
2018-03-23T16:17:29.9694077+01:00 0HLCGP2P3EASM:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T16:17:29.9702429+01:00 0HLCGP2P3EASM:00000007 [INF] Policy execution successful. (0204925d)
2018-03-23T16:17:29.9710145+01:00 0HLCGP2P3EASM:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T16:17:29.9757930+01:00 0HLCGP2P3EASM:00000007 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T16:17:30.0227536+01:00 0HLCGP2P3EASM:00000007 [INF] Executed DbCommand ("44"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T16:17:30.0856097+01:00 0HLCGP2P3EASM:00000007 [INF] Executed DbCommand ("60"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T16:17:30.1397066+01:00 0HLCGP2P3EASM:00000007 [INF] Executed DbCommand ("53"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T16:17:30.1403079+01:00 0HLCGP2P3EASM:00000007 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T16:17:30.1414288+01:00 0HLCGP2P3EASM:00000007 [INF] Request finished in 171.835ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:17:30.1829535+01:00 0HLCGP2P3EASN:00000011 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T16:17:30.1845025+01:00 0HLCGP2P3EASN:00000011 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:30.1851538+01:00 0HLCGP2P3EASN:00000011 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:17:30.1854818+01:00 0HLCGP2P3EASN:00000011 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T16:17:30.1869050+01:00 0HLCGP2P3EASN:00000011 [INF] Request finished in 3.8719ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T16:20:39.2095018+01:00 0HLCGP2P3EAT0:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T16:20:39.2100941+01:00 0HLCGP2P3EAT0:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T16:20:39.2108583+01:00 0HLCGP2P3EAT0:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T16:20:39.2112526+01:00 0HLCGP2P3EAT0:00000001 [INF] Request finished in 1.8697ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:20:39.4234906+01:00 0HLCGP2P3EAT2:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T16:20:39.4242646+01:00 0HLCGP2P3EAT2:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:20:39.4243176+01:00 0HLCGP2P3EAT2:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:20:39.4243733+01:00 0HLCGP2P3EAT2:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T16:20:39.4246282+01:00 0HLCGP2P3EAT2:00000001 [INF] Request finished in 1.1636ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T16:21:24.9484386+01:00 0HLCGP2P3EAT0:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T16:21:24.9489680+01:00 0HLCGP2P3EAT0:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T16:21:24.9494333+01:00 0HLCGP2P3EAT0:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T16:21:24.9497545+01:00 0HLCGP2P3EAT0:00000002 [INF] Request finished in 1.3826ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:21:25.0981682+01:00 0HLCGP2P3EAT2:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T16:21:25.0989470+01:00 0HLCGP2P3EAT2:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:21:25.0989987+01:00 0HLCGP2P3EAT2:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:21:25.0990445+01:00 0HLCGP2P3EAT2:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T16:21:25.1012576+01:00 0HLCGP2P3EAT2:00000002 [INF] Request finished in 3.5473ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T16:21:31.8043352+01:00 0HLCGP2P3EAT2:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Dc6761b52a0c946f98fdbf5c0f7bcb3b6%26nonce%3D831c283731944b78b86bd14c819c4fef   (ca22a1cb)
2018-03-23T16:21:31.8051914+01:00 0HLCGP2P3EAT2:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:21:31.8052491+01:00 0HLCGP2P3EAT2:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:21:31.8057811+01:00 0HLCGP2P3EAT2:00000003 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=c6761b52a0c946f98fdbf5c0f7bcb3b6&nonce=831c283731944b78b86bd14c819c4fef"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T16:21:31.8059295+01:00 0HLCGP2P3EAT2:00000003 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T16:21:31.8064466+01:00 0HLCGP2P3EAT2:00000003 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T16:21:31.8091908+01:00 0HLCGP2P3EAT2:00000003 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 3.7441ms (afa2e885)
2018-03-23T16:21:31.8093914+01:00 0HLCGP2P3EAT2:00000003 [INF] Request finished in 5.1677ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T16:21:34.7242028+01:00 0HLCGP2P3EAT2:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T16:21:34.7254879+01:00 0HLCGP2P3EAT2:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:21:34.7255422+01:00 0HLCGP2P3EAT2:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:21:34.7255940+01:00 0HLCGP2P3EAT2:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T16:21:34.7257646+01:00 0HLCGP2P3EAT2:00000004 [INF] Request finished in 1.5989ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T16:21:36.2914458+01:00 0HLCGP2P3EAT2:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MTgyNDcsImV4cCI6MTUyMTgxODU0NywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiI4MzFjMjgzNzMxOTQ0Yjc4Yjg2YmQxNGM4MTljNGZlZiIsImlhdCI6MTUyMTgxODI0NywiYXRfaGFzaCI6IkI2T3Q1SzU4QzdJd1JWUW9JQU9uNHciLCJzaWQiOiJlZjM1NmE4ZDdjMTU5YWE3YzI2MDlmMjZiYzlhOTJhOCIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgxODI0NywiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.bKAgGYlnrMxEbE60JVsN_DjgE0IlRhgpdQo7Ob23xUGRbK9vp7EmjbFtoIcRE5XMh5ztfUOk-r1_KguDkfkJIqi_VoF8DIhXaFmmCRR8wbb4B5IzztSVsxOqRkdcwSAoKNK5VaJpQ4T1-zMPxIN4QqNA8HNlHNEeLksM2ixn0CE_05m6JMHMg5nNNG0ThgzIRLdgNH14b7KHvRr-UCNg5NsNIF-zHsRsiYBO8qiotULvZISJkrNvj1q-Jijzrxe0NlPkIelQQTevQDOGBbliitkKyKphyDzMnHOQDhrYhlQQ6v9DwGh0I4L0A4Gia7eMUruS6EsvuIl9NFUpTgLCEQ&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fhome   (ca22a1cb)
2018-03-23T16:21:36.2921962+01:00 0HLCGP2P3EAT2:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:21:36.2922527+01:00 0HLCGP2P3EAT2:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:21:36.2923404+01:00 0HLCGP2P3EAT2:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2018-03-23T16:21:36.3005432+01:00 0HLCGP2P3EAT2:00000005 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T16:21:36.3073874+01:00 0HLCGP2P3EAT2:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T16:21:36.3078852+01:00 0HLCGP2P3EAT2:00000005 [INF] End session request validation success
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"PostLogOutUri\": \"http://localhost:51540/home\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MTgyNDcsImV4cCI6MTUyMTgxODU0NywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiI4MzFjMjgzNzMxOTQ0Yjc4Yjg2YmQxNGM4MTljNGZlZiIsImlhdCI6MTUyMTgxODI0NywiYXRfaGFzaCI6IkI2T3Q1SzU4QzdJd1JWUW9JQU9uNHciLCJzaWQiOiJlZjM1NmE4ZDdjMTU5YWE3YzI2MDlmMjZiYzlhOTJhOCIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgxODI0NywiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.bKAgGYlnrMxEbE60JVsN_DjgE0IlRhgpdQo7Ob23xUGRbK9vp7EmjbFtoIcRE5XMh5ztfUOk-r1_KguDkfkJIqi_VoF8DIhXaFmmCRR8wbb4B5IzztSVsxOqRkdcwSAoKNK5VaJpQ4T1-zMPxIN4QqNA8HNlHNEeLksM2ixn0CE_05m6JMHMg5nNNG0ThgzIRLdgNH14b7KHvRr-UCNg5NsNIF-zHsRsiYBO8qiotULvZISJkrNvj1q-Jijzrxe0NlPkIelQQTevQDOGBbliitkKyKphyDzMnHOQDhrYhlQQ6v9DwGh0I4L0A4Gia7eMUruS6EsvuIl9NFUpTgLCEQ\",
    \"post_logout_redirect_uri\": \"http://localhost:51540/home\"
  }
}" (8a893fca)
2018-03-23T16:21:36.3082777+01:00 0HLCGP2P3EAT2:00000005 [INF] Request finished in 16.8119ms 302  (791a596a)
2018-03-23T16:21:36.3101116+01:00 0HLCGP2P3EAT2:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8I8cZ24bSc5BkaJobKJXk0ICt12G4C8TN39nbnfdCOjSx72d38kBegissGoBOtoK_c39DJ7IpPbUMGAwLHH2dN1LLsdXVhCv-3KFf2yx5wjrwvvwRu1PMMM8oS_ljbXms835gEvH3YbKY_WMpZpaqOEcMxHd-8mhN-6J269cAT9iqWsuXQBUZJv9Cib6SNyqnFJRcDPpU8YWKahJ4idqO7h4gFzX9g49FqNk7mMuLhyMXIH1LSZdNtsSS0eKtkb9cDPCqP_PNgW2LOLqr2YDR7pOUJvgJdpHwb4esuFHjVBuGAJu59N6DdoRdCYQudGbKnhMneYmjcg83JjQOfB8QsAG30OKp8lBW00KQ9WLn4kdXYZPX8JvVtPG4A5aPe8rx_QQG6d8A2KyrIF7sppxxJyGAe6PK3-rzsWZLKnOi60H1ZKlbqbz2AcqQFbiGFSWyyQlDwrGv-vimnPiSz_vVZN3nDL87Y4fyhh6kRt76-P3   (ca22a1cb)
2018-03-23T16:21:36.3146686+01:00 0HLCGP2P3EAT2:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:21:36.3149932+01:00 0HLCGP2P3EAT2:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:21:36.3153794+01:00 0HLCGP2P3EAT2:00000006 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0ICt12G4C8TN39nbnfdCOjSx72d38kBegissGoBOtoK_c39DJ7IpPbUMGAwLHH2dN1LLsdXVhCv-3KFf2yx5wjrwvvwRu1PMMM8oS_ljbXms835gEvH3YbKY_WMpZpaqOEcMxHd-8mhN-6J269cAT9iqWsuXQBUZJv9Cib6SNyqnFJRcDPpU8YWKahJ4idqO7h4gFzX9g49FqNk7mMuLhyMXIH1LSZdNtsSS0eKtkb9cDPCqP_PNgW2LOLqr2YDR7pOUJvgJdpHwb4esuFHjVBuGAJu59N6DdoRdCYQudGbKnhMneYmjcg83JjQOfB8QsAG30OKp8lBW00KQ9WLn4kdXYZPX8JvVtPG4A5aPe8rx_QQG6d8A2KyrIF7sppxxJyGAe6PK3-rzsWZLKnOi60H1ZKlbqbz2AcqQFbiGFSWyyQlDwrGv-vimnPiSz_vVZN3nDL87Y4fyhh6kRt76-P3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T16:21:36.3158571+01:00 0HLCGP2P3EAT2:00000006 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T16:21:36.3160362+01:00 0HLCGP2P3EAT2:00000006 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T16:21:36.3161902+01:00 0HLCGP2P3EAT2:00000006 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T16:21:36.3163527+01:00 0HLCGP2P3EAT2:00000006 [INF] User logged out. (f9c27106)
2018-03-23T16:21:36.3164596+01:00 0HLCGP2P3EAT2:00000006 [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T16:21:36.3173021+01:00 0HLCGP2P3EAT2:00000006 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 2.1468ms (afa2e885)
2018-03-23T16:21:36.3175835+01:00 0HLCGP2P3EAT2:00000006 [INF] Request finished in 7.51ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T16:21:36.4603475+01:00 0HLCGP2P3EAT2:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8I8cZ24bSc5BkaJobKJXk0Lq-6JqlwbkoKY0PsZIz4IsoQxdHmdmpY8FyDCJ3Pe9662iLTCQy0pDyLSyynkqlzMJO4-6oiLJCmg9Gq4QnAMFWJ45-6wj1kTCQ-Na2Ma9NRX_-vcSPKxmfihpreM5XCF3rt7LZFH56H9OCHZbV8fZz7iC74NQQEvVQCtc3e05AurnYhfbfa1twCOUZLh_-YRN3-hL3-e8yr83Qqh4FOFKNS7stYCG-ziebxYUJF3WH2qVptUebF9XdaKgyLZ11s_L9QkFfFooZK1Mn6ClNQGvwSL0-8F20Gdt4y9OIATYW0EO0fC3-KvOXruxssbl3Rg   (ca22a1cb)
2018-03-23T16:21:36.4616814+01:00 0HLCGP2P3EAT2:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback" (f7642de5)
2018-03-23T16:21:36.4619200+01:00 0HLCGP2P3EAT2:00000007 [INF] Successful signout callback. (d13fac4f)
2018-03-23T16:21:36.4621133+01:00 0HLCGP2P3EAT2:00000007 [INF] Request finished in 1.8337ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T16:21:42.7840028+01:00 0HLCGP2P3EAT0:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T16:21:42.7843971+01:00 0HLCGP2P3EAT0:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T16:21:42.7848509+01:00 0HLCGP2P3EAT0:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T16:21:42.7857109+01:00 0HLCGP2P3EAT0:00000003 [INF] Request finished in 1.7204ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:21:42.7945419+01:00 0HLCGP2P3EAT2:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=37800d18270e4089a03f27b42182f683&nonce=936a902ec64946ab8b550bce0040e946   (ca22a1cb)
2018-03-23T16:21:42.7953108+01:00 0HLCGP2P3EAT2:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T16:21:42.7957808+01:00 0HLCGP2P3EAT2:00000008 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"37800d18270e4089a03f27b42182f683\",
  \"Nonce\": \"936a902ec64946ab8b550bce0040e946\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"37800d18270e4089a03f27b42182f683\",
    \"nonce\": \"936a902ec64946ab8b550bce0040e946\"
  }
}" (9a175e33)
2018-03-23T16:21:42.7959023+01:00 0HLCGP2P3EAT2:00000008 [INF] Showing login: User is not authenticated (4b8d50b2)
2018-03-23T16:21:42.7960481+01:00 0HLCGP2P3EAT2:00000008 [INF] Request finished in 1.5493ms 302  (791a596a)
2018-03-23T16:21:42.8173162+01:00 0HLCGP2P3EAT2:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D37800d18270e4089a03f27b42182f683%26nonce%3D936a902ec64946ab8b550bce0040e946   (ca22a1cb)
2018-03-23T16:21:42.8183930+01:00 0HLCGP2P3EAT2:00000009 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=37800d18270e4089a03f27b42182f683&nonce=936a902ec64946ab8b550bce0040e946"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T16:21:42.8185897+01:00 0HLCGP2P3EAT2:00000009 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T16:21:42.8195405+01:00 0HLCGP2P3EAT2:00000009 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T16:21:42.8211878+01:00 0HLCGP2P3EAT2:00000009 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 3.3904ms (afa2e885)
2018-03-23T16:21:42.8213049+01:00 0HLCGP2P3EAT2:00000009 [INF] Request finished in 4.0515ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T16:21:45.1201923+01:00 0HLCGP2P3EAT2:0000000A [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D37800d18270e4089a03f27b42182f683%26nonce%3D936a902ec64946ab8b550bce0040e946 application/x-www-form-urlencoded 233 (ca22a1cb)
2018-03-23T16:21:45.1212995+01:00 0HLCGP2P3EAT2:0000000A [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=37800d18270e4089a03f27b42182f683&nonce=936a902ec64946ab8b550bce0040e946"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T16:21:45.1215852+01:00 0HLCGP2P3EAT2:0000000A [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T16:21:45.1262500+01:00 0HLCGP2P3EAT2:0000000A [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T16:21:45.1431073+01:00 0HLCGP2P3EAT2:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T16:21:45.1457541+01:00 0HLCGP2P3EAT2:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T16:21:45.1462857+01:00 0HLCGP2P3EAT2:0000000A [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T16:21:45.1463194+01:00 0HLCGP2P3EAT2:0000000A [INF] User logged in. (fdce0db4)
2018-03-23T16:21:45.1463832+01:00 0HLCGP2P3EAT2:0000000A [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=37800d18270e4089a03f27b42182f683&nonce=936a902ec64946ab8b550bce0040e946". (d98d540e)
2018-03-23T16:21:45.1464760+01:00 0HLCGP2P3EAT2:0000000A [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 25.7216ms (afa2e885)
2018-03-23T16:21:45.1466085+01:00 0HLCGP2P3EAT2:0000000A [INF] Request finished in 26.4811ms 302  (791a596a)
2018-03-23T16:21:45.1818702+01:00 0HLCGP2P3EAT2:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=37800d18270e4089a03f27b42182f683&nonce=936a902ec64946ab8b550bce0040e946   (ca22a1cb)
2018-03-23T16:21:45.1825164+01:00 0HLCGP2P3EAT2:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:21:45.1825690+01:00 0HLCGP2P3EAT2:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:21:45.1826687+01:00 0HLCGP2P3EAT2:0000000B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T16:21:45.1830801+01:00 0HLCGP2P3EAT2:0000000B [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"37800d18270e4089a03f27b42182f683\",
  \"Nonce\": \"936a902ec64946ab8b550bce0040e946\",
  \"SessionId\": \"6149e3762dfe522fe49ccf936086534c\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"37800d18270e4089a03f27b42182f683\",
    \"nonce\": \"936a902ec64946ab8b550bce0040e946\"
  }
}" (9a175e33)
2018-03-23T16:21:45.1833953+01:00 0HLCGP2P3EAT2:0000000B [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T16:21:45.1859124+01:00 0HLCGP2P3EAT2:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T16:21:45.1889761+01:00 0HLCGP2P3EAT2:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T16:21:45.1926158+01:00 0HLCGP2P3EAT2:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T16:21:45.1999215+01:00 0HLCGP2P3EAT2:0000000B [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"37800d18270e4089a03f27b42182f683\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T16:21:45.2002243+01:00 0HLCGP2P3EAT2:0000000B [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T16:21:45.2004155+01:00 0HLCGP2P3EAT2:0000000B [INF] Request finished in 18.59ms 302  (791a596a)
2018-03-23T16:21:46.9995407+01:00 0HLCGP2P3EAT0:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T16:21:47.0000444+01:00 0HLCGP2P3EAT0:00000004 [INF] Policy execution successful. (0204925d)
2018-03-23T16:21:47.0004451+01:00 0HLCGP2P3EAT0:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T16:21:47.0186572+01:00 0HLCGP2P3EAT0:00000004 [INF] Request finished in 19.2012ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:21:47.1280424+01:00 0HLCGP2P3EAT0:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T16:21:47.1284952+01:00 0HLCGP2P3EAT0:00000005 [INF] Policy execution successful. (0204925d)
2018-03-23T16:21:47.1290051+01:00 0HLCGP2P3EAT0:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T16:21:47.1293549+01:00 0HLCGP2P3EAT0:00000005 [INF] Request finished in 1.3235ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:21:47.2139720+01:00 0HLCGP2P3EAT0:00000006 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T16:21:47.2143496+01:00 0HLCGP2P3EAT0:00000006 [INF] Policy execution successful. (0204925d)
2018-03-23T16:21:47.2144390+01:00 0HLCGP2P3EAT0:00000006 [INF] Request finished in 0.6393ms 204  (791a596a)
2018-03-23T16:21:47.2321914+01:00 0HLCGP2P3EAT0:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T16:21:47.2325374+01:00 0HLCGP2P3EAT0:00000007 [INF] Policy execution successful. (0204925d)
2018-03-23T16:21:47.2330163+01:00 0HLCGP2P3EAT0:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T16:21:47.2378911+01:00 0HLCGP2P3EAT0:00000007 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T16:21:47.2910467+01:00 0HLCGP2P3EAT0:00000007 [INF] Executed DbCommand ("51"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T16:21:47.3034667+01:00 0HLCGP2P3EAT0:00000007 [INF] Executed DbCommand ("10"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T16:21:47.3283411+01:00 0HLCGP2P3EAT0:00000007 [INF] Executed DbCommand ("19"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T16:21:47.3288466+01:00 0HLCGP2P3EAT0:00000007 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T16:21:47.3290831+01:00 0HLCGP2P3EAT0:00000007 [INF] Request finished in 96.9216ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:21:47.4447972+01:00 0HLCGP2P3EAT2:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T16:21:47.4457307+01:00 0HLCGP2P3EAT2:0000000C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:21:47.4457872+01:00 0HLCGP2P3EAT2:0000000C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:21:47.4458445+01:00 0HLCGP2P3EAT2:0000000C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T16:21:47.4470009+01:00 0HLCGP2P3EAT2:0000000C [INF] Request finished in 2.196ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T16:22:08.1576295+01:00 0HLCGP2P3EAT2:0000000D [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D37800d18270e4089a03f27b42182f683%26nonce%3D936a902ec64946ab8b550bce0040e946   (ca22a1cb)
2018-03-23T16:22:08.1586093+01:00 0HLCGP2P3EAT2:0000000D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:22:08.1587137+01:00 0HLCGP2P3EAT2:0000000D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:22:08.1594903+01:00 0HLCGP2P3EAT2:0000000D [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=37800d18270e4089a03f27b42182f683&nonce=936a902ec64946ab8b550bce0040e946"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T16:22:08.1597948+01:00 0HLCGP2P3EAT2:0000000D [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T16:22:08.1601878+01:00 0HLCGP2P3EAT2:0000000D [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T16:22:08.1631750+01:00 0HLCGP2P3EAT2:0000000D [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 4.1815ms (afa2e885)
2018-03-23T16:22:08.1632976+01:00 0HLCGP2P3EAT2:0000000D [INF] Request finished in 5.7771ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T16:22:10.1032855+01:00 0HLCGP2P3EAT2:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T16:22:10.1040989+01:00 0HLCGP2P3EAT2:0000000E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:22:10.1042538+01:00 0HLCGP2P3EAT2:0000000E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:22:10.1044043+01:00 0HLCGP2P3EAT2:0000000E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T16:22:10.1046639+01:00 0HLCGP2P3EAT2:0000000E [INF] Request finished in 1.46ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T16:22:11.3838039+01:00 0HLCGP2P3EAT2:0000000F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MTg1MDUsImV4cCI6MTUyMTgxODgwNSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiI5MzZhOTAyZWM2NDk0NmFiOGI1NTBiY2UwMDQwZTk0NiIsImlhdCI6MTUyMTgxODUwNSwiYXRfaGFzaCI6IjV0RWpJVkJXS2w4OE8yLXRsV3loWWciLCJzaWQiOiI2MTQ5ZTM3NjJkZmU1MjJmZTQ5Y2NmOTM2MDg2NTM0YyIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgxODUwNSwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.23hN-UbyGANluNWhrFtQcHfK5K6lhwpCAR59mjXREEBHKwrDQ82bZxBq2S0VNpzg1lUxx9CWVZ3k6t0uTndI9cHe9qPdzpEcEjso6NNP41eUxSttR6Qx_lVmNnhr3ffT62W_BHXPaPen7m9Ie8O6aEmMnarAEu0OADIPQk_K1yN0zaXx3Aik7Pa5dvfu12Y_nXHGSOQu0PPpCMX7TVMDSAZ4XifAGaJarwOpDOe0NwoBK3kcJs0wtIaKNShNzD5-B-ntqMt-L8lbvbuHq_NhNmUv7xQTRZw_cAU4esO2BEBd-Dg0f58a9SaKTbcnz6E6Ome3C6QjdbMnIkQ9xmboeQ&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fhome   (ca22a1cb)
2018-03-23T16:22:11.3845673+01:00 0HLCGP2P3EAT2:0000000F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:22:11.3846375+01:00 0HLCGP2P3EAT2:0000000F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:22:11.3847465+01:00 0HLCGP2P3EAT2:0000000F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2018-03-23T16:22:11.3887763+01:00 0HLCGP2P3EAT2:0000000F [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T16:22:11.3957641+01:00 0HLCGP2P3EAT2:0000000F [INF] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T16:22:11.3964402+01:00 0HLCGP2P3EAT2:0000000F [INF] End session request validation success
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"PostLogOutUri\": \"http://localhost:51540/home\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MTg1MDUsImV4cCI6MTUyMTgxODgwNSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiI5MzZhOTAyZWM2NDk0NmFiOGI1NTBiY2UwMDQwZTk0NiIsImlhdCI6MTUyMTgxODUwNSwiYXRfaGFzaCI6IjV0RWpJVkJXS2w4OE8yLXRsV3loWWciLCJzaWQiOiI2MTQ5ZTM3NjJkZmU1MjJmZTQ5Y2NmOTM2MDg2NTM0YyIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgxODUwNSwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.23hN-UbyGANluNWhrFtQcHfK5K6lhwpCAR59mjXREEBHKwrDQ82bZxBq2S0VNpzg1lUxx9CWVZ3k6t0uTndI9cHe9qPdzpEcEjso6NNP41eUxSttR6Qx_lVmNnhr3ffT62W_BHXPaPen7m9Ie8O6aEmMnarAEu0OADIPQk_K1yN0zaXx3Aik7Pa5dvfu12Y_nXHGSOQu0PPpCMX7TVMDSAZ4XifAGaJarwOpDOe0NwoBK3kcJs0wtIaKNShNzD5-B-ntqMt-L8lbvbuHq_NhNmUv7xQTRZw_cAU4esO2BEBd-Dg0f58a9SaKTbcnz6E6Ome3C6QjdbMnIkQ9xmboeQ\",
    \"post_logout_redirect_uri\": \"http://localhost:51540/home\"
  }
}" (8a893fca)
2018-03-23T16:22:11.3982000+01:00 0HLCGP2P3EAT2:0000000F [INF] Request finished in 14.4923ms 302  (791a596a)
2018-03-23T16:22:11.4287161+01:00 0HLCGP2P3EAT2:00000010 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8I8cZ24bSc5BkaJobKJXk0JLHa8ega_1Rc0Cn_52tCK72yW9poRzLvuXSKupOXe6tvAeT2NnsaxOVFoa52oR8jV2H5mU2T4eRqih1qLY8mJ4MaBkMHxJMIbC5M8DIARO_1brvSR3k-iajcQ0AGsdcuz-FlhT-Kni4LsBogkiOfDSmI__pnnijfVrE5InV6eAhc_XiqtjTh_mxHyTf6uVLGevwWLHM6ynhkeGyPr_ugwi0k_prEiuSOisgU_yySTdpc2_a0_z_QR6EXsF6nolAykCnYnVpCu1eHpNUPSIVnrHiNqcXWRCry6apP6Yas8tJwLtyUI36Bg7wXRAVNIEUlpuumcddpliFotv2fjFmpjJfP0p8PGYboUKBRpy7CQPdIPMUi8ch7GG7b0aSZiw2PxNJ0g0UXeiW0JsF413Yi7u557wwwTgx3Tcu3BQNRhbJSIQkz_Ov18vQRiNiYMifJQSaezm-LZ4CHONf7Hl3lAK   (ca22a1cb)
2018-03-23T16:22:11.4294153+01:00 0HLCGP2P3EAT2:00000010 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:22:11.4294607+01:00 0HLCGP2P3EAT2:00000010 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:22:11.4297459+01:00 0HLCGP2P3EAT2:00000010 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0JLHa8ega_1Rc0Cn_52tCK72yW9poRzLvuXSKupOXe6tvAeT2NnsaxOVFoa52oR8jV2H5mU2T4eRqih1qLY8mJ4MaBkMHxJMIbC5M8DIARO_1brvSR3k-iajcQ0AGsdcuz-FlhT-Kni4LsBogkiOfDSmI__pnnijfVrE5InV6eAhc_XiqtjTh_mxHyTf6uVLGevwWLHM6ynhkeGyPr_ugwi0k_prEiuSOisgU_yySTdpc2_a0_z_QR6EXsF6nolAykCnYnVpCu1eHpNUPSIVnrHiNqcXWRCry6apP6Yas8tJwLtyUI36Bg7wXRAVNIEUlpuumcddpliFotv2fjFmpjJfP0p8PGYboUKBRpy7CQPdIPMUi8ch7GG7b0aSZiw2PxNJ0g0UXeiW0JsF413Yi7u557wwwTgx3Tcu3BQNRhbJSIQkz_Ov18vQRiNiYMifJQSaezm-LZ4CHONf7Hl3lAK"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T16:22:11.4301932+01:00 0HLCGP2P3EAT2:00000010 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T16:22:11.4302860+01:00 0HLCGP2P3EAT2:00000010 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T16:22:11.4303582+01:00 0HLCGP2P3EAT2:00000010 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T16:22:11.4303792+01:00 0HLCGP2P3EAT2:00000010 [INF] User logged out. (f9c27106)
2018-03-23T16:22:11.4304493+01:00 0HLCGP2P3EAT2:00000010 [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T16:22:11.4311131+01:00 0HLCGP2P3EAT2:00000010 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 1.5361ms (afa2e885)
2018-03-23T16:22:11.4312102+01:00 0HLCGP2P3EAT2:00000010 [INF] Request finished in 2.5539ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T16:22:11.5703228+01:00 0HLCGP2P3EAT2:00000011 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8I8cZ24bSc5BkaJobKJXk0IUCJGp1vweSBjel-gdgmvqvLTKLft7lRnWEj9SZUXucD6GUSH2hnQrfK6rsRfD7pB_pVLxF1ayTKeok9JklOHE2m3kKuA2FKlqRAzOqy3_1drlY_9UUNF6UsEIqCZtQa1XEIF39hARnF1_si4THLnB6J-82UDngbeOoeIEDbzX96aA-hvX6CGnVH7d_Ed99paF39uQnjEAialbukO-oguTcjQa7lMhgQiK1aWISc11hm2hUMSc4TnM367PgM_hcXiv_pnHWbLk4otC-Sd5O856kf2K4DabjgiibzBgvnwJzooR47iefVO8QPz8cF8aScI   (ca22a1cb)
2018-03-23T16:22:11.5710961+01:00 0HLCGP2P3EAT2:00000011 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback" (f7642de5)
2018-03-23T16:22:11.5712949+01:00 0HLCGP2P3EAT2:00000011 [INF] Successful signout callback. (d13fac4f)
2018-03-23T16:22:11.5716375+01:00 0HLCGP2P3EAT2:00000011 [INF] Request finished in 1.4219ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T16:22:33.3904629+01:00 0HLCGP2P3EAT0:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T16:22:33.3909500+01:00 0HLCGP2P3EAT0:00000008 [INF] Policy execution successful. (0204925d)
2018-03-23T16:22:33.3914311+01:00 0HLCGP2P3EAT0:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T16:22:33.3918249+01:00 0HLCGP2P3EAT0:00000008 [INF] Request finished in 1.4159ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:22:33.4151898+01:00 0HLCGP2P3EAT2:00000012 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fhome   (ca22a1cb)
2018-03-23T16:22:33.4158994+01:00 0HLCGP2P3EAT2:00000012 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2018-03-23T16:22:33.4161469+01:00 0HLCGP2P3EAT2:00000012 [INF] End session request validation success
"{
  \"SubjectId\": \"unknown\",
  \"Raw\": {
    \"post_logout_redirect_uri\": \"http://localhost:51540/home\"
  }
}" (8a893fca)
2018-03-23T16:22:33.4164882+01:00 0HLCGP2P3EAT2:00000012 [INF] Request finished in 1.1649ms 302  (791a596a)
2018-03-23T16:22:33.4284672+01:00 0HLCGP2P3EAT2:00000013 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout   (ca22a1cb)
2018-03-23T16:22:33.4317674+01:00 0HLCGP2P3EAT2:00000013 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments ([""]) - ModelState is Valid (ba7f4ac2)
2018-03-23T16:22:33.4321309+01:00 0HLCGP2P3EAT2:00000013 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T16:22:33.4322562+01:00 0HLCGP2P3EAT2:00000013 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T16:22:33.4325418+01:00 0HLCGP2P3EAT2:00000013 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T16:22:33.4325949+01:00 0HLCGP2P3EAT2:00000013 [INF] User logged out. (f9c27106)
2018-03-23T16:22:33.4327082+01:00 0HLCGP2P3EAT2:00000013 [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T16:22:33.4347516+01:00 0HLCGP2P3EAT2:00000013 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 4.9026ms (afa2e885)
2018-03-23T16:22:33.4349573+01:00 0HLCGP2P3EAT2:00000013 [INF] Request finished in 6.5537ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T16:22:40.0462917+01:00 0HLCGP2P3EAT0:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T16:22:40.0468105+01:00 0HLCGP2P3EAT0:00000009 [INF] Policy execution successful. (0204925d)
2018-03-23T16:22:40.0472740+01:00 0HLCGP2P3EAT0:00000009 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T16:22:40.0476295+01:00 0HLCGP2P3EAT0:00000009 [INF] Request finished in 1.3954ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:22:40.0596409+01:00 0HLCGP2P3EAT2:00000014 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=767f988432254f23b8a10eb917ab9bed&nonce=aea0c987923145e39e0d05e62756eef6   (ca22a1cb)
2018-03-23T16:22:40.0602554+01:00 0HLCGP2P3EAT2:00000014 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T16:22:40.0607037+01:00 0HLCGP2P3EAT2:00000014 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"767f988432254f23b8a10eb917ab9bed\",
  \"Nonce\": \"aea0c987923145e39e0d05e62756eef6\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"767f988432254f23b8a10eb917ab9bed\",
    \"nonce\": \"aea0c987923145e39e0d05e62756eef6\"
  }
}" (9a175e33)
2018-03-23T16:22:40.0607323+01:00 0HLCGP2P3EAT2:00000014 [INF] Showing login: User is not authenticated (4b8d50b2)
2018-03-23T16:22:40.0608538+01:00 0HLCGP2P3EAT2:00000014 [INF] Request finished in 1.2662ms 302  (791a596a)
2018-03-23T16:22:40.0948184+01:00 0HLCGP2P3EAT2:00000015 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D767f988432254f23b8a10eb917ab9bed%26nonce%3Daea0c987923145e39e0d05e62756eef6   (ca22a1cb)
2018-03-23T16:22:40.0954594+01:00 0HLCGP2P3EAT2:00000015 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=767f988432254f23b8a10eb917ab9bed&nonce=aea0c987923145e39e0d05e62756eef6"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T16:22:40.0955681+01:00 0HLCGP2P3EAT2:00000015 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T16:22:40.0958893+01:00 0HLCGP2P3EAT2:00000015 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T16:22:40.0989384+01:00 0HLCGP2P3EAT2:00000015 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 3.712ms (afa2e885)
2018-03-23T16:22:40.0993156+01:00 0HLCGP2P3EAT2:00000015 [INF] Request finished in 4.5369ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T16:22:43.2767182+01:00 0HLCGP2P3EAT2:00000016 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D767f988432254f23b8a10eb917ab9bed%26nonce%3Daea0c987923145e39e0d05e62756eef6 application/x-www-form-urlencoded 233 (ca22a1cb)
2018-03-23T16:22:43.2778798+01:00 0HLCGP2P3EAT2:00000016 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=767f988432254f23b8a10eb917ab9bed&nonce=aea0c987923145e39e0d05e62756eef6"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T16:22:43.2787398+01:00 0HLCGP2P3EAT2:00000016 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T16:22:43.2861744+01:00 0HLCGP2P3EAT2:00000016 [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T16:22:43.3023299+01:00 0HLCGP2P3EAT2:00000016 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T16:22:43.3074588+01:00 0HLCGP2P3EAT2:00000016 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T16:22:43.3079437+01:00 0HLCGP2P3EAT2:00000016 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T16:22:43.3079856+01:00 0HLCGP2P3EAT2:00000016 [INF] User logged in. (fdce0db4)
2018-03-23T16:22:43.3080549+01:00 0HLCGP2P3EAT2:00000016 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=767f988432254f23b8a10eb917ab9bed&nonce=aea0c987923145e39e0d05e62756eef6". (d98d540e)
2018-03-23T16:22:43.3081482+01:00 0HLCGP2P3EAT2:00000016 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 30.918ms (afa2e885)
2018-03-23T16:22:43.3082739+01:00 0HLCGP2P3EAT2:00000016 [INF] Request finished in 31.6198ms 302  (791a596a)
2018-03-23T16:22:43.3389593+01:00 0HLCGP2P3EAT2:00000017 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=767f988432254f23b8a10eb917ab9bed&nonce=aea0c987923145e39e0d05e62756eef6   (ca22a1cb)
2018-03-23T16:22:43.3401845+01:00 0HLCGP2P3EAT2:00000017 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:22:43.3402525+01:00 0HLCGP2P3EAT2:00000017 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:22:43.3403607+01:00 0HLCGP2P3EAT2:00000017 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T16:22:43.3408427+01:00 0HLCGP2P3EAT2:00000017 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"767f988432254f23b8a10eb917ab9bed\",
  \"Nonce\": \"aea0c987923145e39e0d05e62756eef6\",
  \"SessionId\": \"264e3e693e9cf0c01182e595efeda228\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"767f988432254f23b8a10eb917ab9bed\",
    \"nonce\": \"aea0c987923145e39e0d05e62756eef6\"
  }
}" (9a175e33)
2018-03-23T16:22:43.3412165+01:00 0HLCGP2P3EAT2:00000017 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T16:22:43.3438337+01:00 0HLCGP2P3EAT2:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T16:22:43.3447836+01:00 0HLCGP2P3EAT2:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T16:22:43.3455028+01:00 0HLCGP2P3EAT2:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T16:22:43.3518026+01:00 0HLCGP2P3EAT2:00000017 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"767f988432254f23b8a10eb917ab9bed\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T16:22:43.3521298+01:00 0HLCGP2P3EAT2:00000017 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T16:22:43.3523342+01:00 0HLCGP2P3EAT2:00000017 [INF] Request finished in 13.6391ms 302  (791a596a)
2018-03-23T16:22:45.2387854+01:00 0HLCGP2P3EAT0:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T16:22:45.2392255+01:00 0HLCGP2P3EAT0:0000000A [INF] Policy execution successful. (0204925d)
2018-03-23T16:22:45.2396035+01:00 0HLCGP2P3EAT0:0000000A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T16:22:45.2399221+01:00 0HLCGP2P3EAT0:0000000A [INF] Request finished in 1.2363ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:22:45.3922381+01:00 0HLCGP2P3EAT0:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T16:22:45.3938798+01:00 0HLCGP2P3EAT0:0000000B [INF] Policy execution successful. (0204925d)
2018-03-23T16:22:45.3942275+01:00 0HLCGP2P3EAT0:0000000B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T16:22:45.3944923+01:00 0HLCGP2P3EAT0:0000000B [INF] Request finished in 2.299ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:22:45.4771834+01:00 0HLCGP2P3EAT0:0000000C [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T16:22:45.4781943+01:00 0HLCGP2P3EAT0:0000000C [INF] Policy execution successful. (0204925d)
2018-03-23T16:22:45.4790167+01:00 0HLCGP2P3EAT0:0000000C [INF] Request finished in 1.2517ms 204  (791a596a)
2018-03-23T16:22:45.5152783+01:00 0HLCGP2P3EAT0:0000000D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T16:22:45.5157461+01:00 0HLCGP2P3EAT0:0000000D [INF] Policy execution successful. (0204925d)
2018-03-23T16:22:45.5212846+01:00 0HLCGP2P3EAT0:0000000D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T16:22:45.5258789+01:00 0HLCGP2P3EAT0:0000000D [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T16:22:45.5394724+01:00 0HLCGP2P3EAT0:0000000D [INF] Executed DbCommand ("12"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T16:22:45.5560299+01:00 0HLCGP2P3EAT0:0000000D [INF] Executed DbCommand ("15"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T16:22:45.5599621+01:00 0HLCGP2P3EAT0:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T16:22:45.5604919+01:00 0HLCGP2P3EAT0:0000000D [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T16:22:45.5616543+01:00 0HLCGP2P3EAT0:0000000D [INF] Request finished in 45.6293ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:22:45.6181742+01:00 0HLCGP2P3EAT2:00000018 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T16:22:45.6190625+01:00 0HLCGP2P3EAT2:00000018 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:22:45.6191266+01:00 0HLCGP2P3EAT2:00000018 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:22:45.6192519+01:00 0HLCGP2P3EAT2:00000018 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T16:22:45.6258216+01:00 0HLCGP2P3EAT2:00000018 [INF] Request finished in 7.2923ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T16:22:46.4998242+01:00 0HLCGP2P3EAT0:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T16:22:46.5002185+01:00 0HLCGP2P3EAT0:0000000E [INF] Policy execution successful. (0204925d)
2018-03-23T16:22:46.5006256+01:00 0HLCGP2P3EAT0:0000000E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T16:22:46.5009181+01:00 0HLCGP2P3EAT0:0000000E [INF] Request finished in 1.1375ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T16:22:46.8219024+01:00 0HLCGP2P3EAT2:00000019 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T16:22:46.8226731+01:00 0HLCGP2P3EAT2:00000019 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:22:46.8227227+01:00 0HLCGP2P3EAT2:00000019 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T16:22:46.8229279+01:00 0HLCGP2P3EAT2:00000019 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T16:22:46.8231182+01:00 0HLCGP2P3EAT2:00000019 [INF] Request finished in 1.262ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T18:27:44.0475174+01:00 0HLCGP2P3EATM:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T18:27:44.0481289+01:00 0HLCGP2P3EATM:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T18:27:44.0487529+01:00 0HLCGP2P3EATM:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T18:27:44.0493114+01:00 0HLCGP2P3EATM:00000001 [INF] Request finished in 1.8585ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T18:27:44.2445878+01:00 0HLCGP2P3EATN:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T18:27:44.2460829+01:00 0HLCGP2P3EATN:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T18:27:44.4337949+01:00 0HLCGP2P3EATN:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T18:27:44.4370828+01:00 0HLCGP2P3EATN:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T18:27:44.4478062+01:00 0HLCGP2P3EATN:00000001 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T18:27:44.4484095+01:00 0HLCGP2P3EATN:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:27:44.4486905+01:00 0HLCGP2P3EATN:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:27:44.4491297+01:00 0HLCGP2P3EATN:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T18:27:44.4503101+01:00 0HLCGP2P3EATN:00000001 [INF] Request finished in 205.75ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T18:27:55.1633413+01:00 0HLCGP2P3EATN:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D767f988432254f23b8a10eb917ab9bed%26nonce%3Daea0c987923145e39e0d05e62756eef6   (ca22a1cb)
2018-03-23T18:27:55.1641911+01:00 0HLCGP2P3EATN:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:27:55.1643523+01:00 0HLCGP2P3EATN:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:27:55.1647739+01:00 0HLCGP2P3EATN:00000002 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=767f988432254f23b8a10eb917ab9bed&nonce=aea0c987923145e39e0d05e62756eef6"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T18:27:55.1648856+01:00 0HLCGP2P3EATN:00000002 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T18:27:55.1681370+01:00 0HLCGP2P3EATN:00000002 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T18:27:55.1723302+01:00 0HLCGP2P3EATN:00000002 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 7.7969ms (afa2e885)
2018-03-23T18:27:55.1727561+01:00 0HLCGP2P3EATN:00000002 [INF] Request finished in 9.301ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T18:27:55.4806470+01:00 0HLCGP2P3EATN:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/css/bootstrap.css.map   (ca22a1cb)
2018-03-23T18:27:55.5299464+01:00 0HLCGP2P3EATN:00000003 [INF] The file "/lib/bootstrap/dist/css/bootstrap.css.map" was not modified (f1f8d725)
2018-03-23T18:27:55.5318212+01:00 0HLCGP2P3EATN:00000003 [INF] Request finished in 51.2003ms 304 text/plain (791a596a)
2018-03-23T18:28:00.2315174+01:00 0HLCGP2P3EATN:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T18:28:00.2322428+01:00 0HLCGP2P3EATN:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:00.2323000+01:00 0HLCGP2P3EATN:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:00.2324386+01:00 0HLCGP2P3EATN:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T18:28:00.2334436+01:00 0HLCGP2P3EATN:00000004 [INF] Request finished in 1.2329ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T18:28:09.1677136+01:00 0HLCGP2P3EATN:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D767f988432254f23b8a10eb917ab9bed%26nonce%3Daea0c987923145e39e0d05e62756eef6   (ca22a1cb)
2018-03-23T18:28:09.1686199+01:00 0HLCGP2P3EATN:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:09.1686939+01:00 0HLCGP2P3EATN:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:09.1690796+01:00 0HLCGP2P3EATN:00000005 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=767f988432254f23b8a10eb917ab9bed&nonce=aea0c987923145e39e0d05e62756eef6"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T18:28:09.1692810+01:00 0HLCGP2P3EATN:00000005 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T18:28:09.1696548+01:00 0HLCGP2P3EATN:00000005 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T18:28:09.1731115+01:00 0HLCGP2P3EATN:00000005 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 4.2709ms (afa2e885)
2018-03-23T18:28:09.1732445+01:00 0HLCGP2P3EATN:00000005 [INF] Request finished in 5.6916ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T18:28:13.5414977+01:00 0HLCGP2P3EATN:00000006 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D767f988432254f23b8a10eb917ab9bed%26nonce%3Daea0c987923145e39e0d05e62756eef6 application/x-www-form-urlencoded 276 (ca22a1cb)
2018-03-23T18:28:13.5431909+01:00 0HLCGP2P3EATN:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:13.5432572+01:00 0HLCGP2P3EATN:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:13.5441578+01:00 0HLCGP2P3EATN:00000006 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=767f988432254f23b8a10eb917ab9bed&nonce=aea0c987923145e39e0d05e62756eef6"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T18:28:13.5448373+01:00 0HLCGP2P3EATN:00000006 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T18:28:13.5516344+01:00 0HLCGP2P3EATN:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T18:28:13.5725471+01:00 0HLCGP2P3EATN:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T18:28:13.5735769+01:00 0HLCGP2P3EATN:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T18:28:13.5741042+01:00 0HLCGP2P3EATN:00000006 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T18:28:13.5742624+01:00 0HLCGP2P3EATN:00000006 [INF] User logged in. (fdce0db4)
2018-03-23T18:28:13.5743924+01:00 0HLCGP2P3EATN:00000006 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=767f988432254f23b8a10eb917ab9bed&nonce=aea0c987923145e39e0d05e62756eef6". (d98d540e)
2018-03-23T18:28:13.5745626+01:00 0HLCGP2P3EATN:00000006 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 31.1306ms (afa2e885)
2018-03-23T18:28:13.5768741+01:00 0HLCGP2P3EATN:00000006 [INF] Request finished in 33.5246ms 302  (791a596a)
2018-03-23T18:28:13.5777354+01:00 0HLCGP2P3EATN:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=767f988432254f23b8a10eb917ab9bed&nonce=aea0c987923145e39e0d05e62756eef6   (ca22a1cb)
2018-03-23T18:28:13.5785728+01:00 0HLCGP2P3EATN:00000007 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:13.5789162+01:00 0HLCGP2P3EATN:00000007 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:13.5793353+01:00 0HLCGP2P3EATN:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T18:28:13.5810446+01:00 0HLCGP2P3EATN:00000007 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"767f988432254f23b8a10eb917ab9bed\",
  \"Nonce\": \"aea0c987923145e39e0d05e62756eef6\",
  \"SessionId\": \"89aa3fb53e1410e9b980c92f42ca2905\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"767f988432254f23b8a10eb917ab9bed\",
    \"nonce\": \"aea0c987923145e39e0d05e62756eef6\"
  }
}" (9a175e33)
2018-03-23T18:28:13.5816869+01:00 0HLCGP2P3EATN:00000007 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T18:28:13.5836969+01:00 0HLCGP2P3EATN:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T18:28:13.5854340+01:00 0HLCGP2P3EATN:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T18:28:13.5882531+01:00 0HLCGP2P3EATN:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T18:28:13.5980960+01:00 0HLCGP2P3EATN:00000007 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"767f988432254f23b8a10eb917ab9bed\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T18:28:13.5985899+01:00 0HLCGP2P3EATN:00000007 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T18:28:13.5988122+01:00 0HLCGP2P3EATN:00000007 [INF] Request finished in 21.2757ms 302  (791a596a)
2018-03-23T18:28:15.3833537+01:00 0HLCGP2P3EATM:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T18:28:15.3839096+01:00 0HLCGP2P3EATM:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T18:28:15.3842856+01:00 0HLCGP2P3EATM:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T18:28:15.3845811+01:00 0HLCGP2P3EATM:00000002 [INF] Request finished in 1.2842ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T18:28:15.7165030+01:00 0HLCGP2P3EATN:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T18:28:15.7173831+01:00 0HLCGP2P3EATN:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:15.7174404+01:00 0HLCGP2P3EATN:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:15.7174926+01:00 0HLCGP2P3EATN:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T18:28:15.7178180+01:00 0HLCGP2P3EATN:00000008 [INF] Request finished in 1.3659ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T18:28:17.9405433+01:00 0HLCGP2P3EATN:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%2Fcallback&response_type=id_token&scope=openid&state=f374ca3fbb6a407789dbb3c4a9a8cd98&nonce=a26e99e04b8a4e55a7fd1d81f1c81719&prompt=none   (ca22a1cb)
2018-03-23T18:28:17.9412370+01:00 0HLCGP2P3EATN:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:17.9412862+01:00 0HLCGP2P3EATN:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:17.9415457+01:00 0HLCGP2P3EATN:00000009 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T18:28:17.9417706+01:00 0HLCGP2P3EATN:00000009 [ERR] Invalid redirect_uri: "http://localhost/callback"
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost/callback\",
    \"response_type\": \"id_token\",
    \"scope\": \"openid\",
    \"state\": \"f374ca3fbb6a407789dbb3c4a9a8cd98\",
    \"nonce\": \"a26e99e04b8a4e55a7fd1d81f1c81719\",
    \"prompt\": \"none\"
  }
}" (aa493bc4)
2018-03-23T18:28:17.9417925+01:00 0HLCGP2P3EATN:00000009 [ERR] Request validation failed (abd529bc)
2018-03-23T18:28:17.9418942+01:00 0HLCGP2P3EATN:00000009 [INF] "{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost/callback\",
    \"response_type\": \"id_token\",
    \"scope\": \"openid\",
    \"state\": \"f374ca3fbb6a407789dbb3c4a9a8cd98\",
    \"nonce\": \"a26e99e04b8a4e55a7fd1d81f1c81719\",
    \"prompt\": \"none\"
  }
}" (9899f104)
2018-03-23T18:28:17.9421325+01:00 0HLCGP2P3EATN:00000009 [INF] Request finished in 1.6314ms 302  (791a596a)
2018-03-23T18:28:17.9436335+01:00 0HLCGP2P3EATN:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8I8cZ24bSc5BkaJobKJXk0ItI-0om8rRqTvke4H6jRKeR6IChTclzQD2Wiep6900n3a89-Mu4HtlIIoz2Avgqvu0CiWTrwCejmyjuVNCrKHEHEF9wS7Fi8ozh5k7CTrTq0TEPH1cbcrZl3cxtYCR7FqZp_dIanSYNyP3G818cdc4DYK3nfXogX1NZtioaKkGlwILzmQ5_TnAhYAvvrTLBkiCuxfIGhz8KiMqpZ-scRNEV99cumLcEPECH3FQBpYXr_ijbvILOHJVBQPchFKm2M2zuLK0wIbNpCHyOloi7dQOoYG8LjxR9sYnyzkrOmt4WQ   (ca22a1cb)
2018-03-23T18:28:17.9443169+01:00 0HLCGP2P3EATN:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:17.9443866+01:00 0HLCGP2P3EATN:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:17.9447454+01:00 0HLCGP2P3EATN:0000000A [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.HomeController.Error (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0ItI-0om8rRqTvke4H6jRKeR6IChTclzQD2Wiep6900n3a89-Mu4HtlIIoz2Avgqvu0CiWTrwCejmyjuVNCrKHEHEF9wS7Fi8ozh5k7CTrTq0TEPH1cbcrZl3cxtYCR7FqZp_dIanSYNyP3G818cdc4DYK3nfXogX1NZtioaKkGlwILzmQ5_TnAhYAvvrTLBkiCuxfIGhz8KiMqpZ-scRNEV99cumLcEPECH3FQBpYXr_ijbvILOHJVBQPchFKm2M2zuLK0wIbNpCHyOloi7dQOoYG8LjxR9sYnyzkrOmt4WQ"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T18:28:17.9463098+01:00 0HLCGP2P3EATN:0000000A [INF] Executing ViewResult, running view at path "/Views/Shared/Error.cshtml". (9707eebe)
2018-03-23T18:28:17.9482086+01:00 0HLCGP2P3EATN:0000000A [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.HomeController.Error (IdentityServerWithAspNetIdentity)" in 3.6337ms (afa2e885)
2018-03-23T18:28:17.9484729+01:00 0HLCGP2P3EATN:0000000A [INF] Request finished in 4.8179ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T18:28:17.9626136+01:00 0HLCGP2P3EATN:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/css/bootstrap.css   (ca22a1cb)
2018-03-23T18:28:17.9633604+01:00 0HLCGP2P3EATN:0000000B [INF] The file "/lib/bootstrap/dist/css/bootstrap.css" was not modified (f1f8d725)
2018-03-23T18:28:17.9655970+01:00 0HLCGP2P3EATN:0000000B [INF] Request finished in 2.9636ms 304 text/css (791a596a)
2018-03-23T18:28:17.9657240+01:00 0HLCGP2P3EATT:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/css/site.css   (ca22a1cb)
2018-03-23T18:28:17.9661739+01:00 0HLCGP2P3EATT:00000001 [INF] The file "/css/site.css" was not modified (f1f8d725)
2018-03-23T18:28:17.9662449+01:00 0HLCGP2P3EATT:00000001 [INF] Request finished in 0.529ms 304 text/css (791a596a)
2018-03-23T18:28:17.9663719+01:00 0HLCGP2P3EATU:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery/dist/jquery.js   (ca22a1cb)
2018-03-23T18:28:17.9671528+01:00 0HLCGP2P3EATV:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/js/bootstrap.js   (ca22a1cb)
2018-03-23T18:28:17.9676031+01:00 0HLCGP2P3EAU0:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/js/site.js?v=ji3-IxbEzYWjzzLCGkF1KDjrT2jLbbrSYXw-AhMPNIA   (ca22a1cb)
2018-03-23T18:28:17.9677352+01:00 0HLCGP2P3EATV:00000001 [INF] The file "/lib/bootstrap/dist/js/bootstrap.js" was not modified (f1f8d725)
2018-03-23T18:28:17.9678186+01:00 0HLCGP2P3EATV:00000001 [INF] Request finished in 0.6992ms 304 application/javascript (791a596a)
2018-03-23T18:28:17.9682886+01:00 0HLCGP2P3EAU0:00000001 [INF] The file "/js/site.js" was not modified (f1f8d725)
2018-03-23T18:28:17.9684396+01:00 0HLCGP2P3EAU0:00000001 [INF] Request finished in 0.8236ms 304 application/javascript (791a596a)
2018-03-23T18:28:17.9809421+01:00 0HLCGP2P3EATU:00000001 [INF] The file "/lib/jquery/dist/jquery.js" was not modified (f1f8d725)
2018-03-23T18:28:17.9811400+01:00 0HLCGP2P3EATU:00000001 [INF] Request finished in 14.6933ms 304 application/javascript (791a596a)
2018-03-23T18:28:21.7076279+01:00 0HLCGP2P3EATU:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D767f988432254f23b8a10eb917ab9bed%26nonce%3Daea0c987923145e39e0d05e62756eef6   (ca22a1cb)
2018-03-23T18:28:21.7085649+01:00 0HLCGP2P3EATU:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:21.7086265+01:00 0HLCGP2P3EATU:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:21.7089429+01:00 0HLCGP2P3EATU:00000002 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=767f988432254f23b8a10eb917ab9bed&nonce=aea0c987923145e39e0d05e62756eef6"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T18:28:21.7090460+01:00 0HLCGP2P3EATU:00000002 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T18:28:21.7095347+01:00 0HLCGP2P3EATU:00000002 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T18:28:21.7129089+01:00 0HLCGP2P3EATU:00000002 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 4.1413ms (afa2e885)
2018-03-23T18:28:21.7130514+01:00 0HLCGP2P3EATU:00000002 [INF] Request finished in 5.4679ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T18:28:23.7168408+01:00 0HLCGP2P3EATU:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T18:28:23.7178124+01:00 0HLCGP2P3EATU:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:23.7179048+01:00 0HLCGP2P3EATU:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:23.7179681+01:00 0HLCGP2P3EATU:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T18:28:23.7185643+01:00 0HLCGP2P3EATU:00000003 [INF] Request finished in 1.7512ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T18:28:25.8855069+01:00 0HLCGP2P3EATU:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%2Fcallback&response_type=id_token&scope=openid&state=0243434ab6d840bfbfa35915e3cbe6e9&nonce=494b8ee26dfc419abcd94a9029911bd4&prompt=none   (ca22a1cb)
2018-03-23T18:28:25.8864319+01:00 0HLCGP2P3EATU:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:25.8864815+01:00 0HLCGP2P3EATU:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:25.8865705+01:00 0HLCGP2P3EATU:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T18:28:25.8868954+01:00 0HLCGP2P3EATU:00000004 [ERR] Invalid redirect_uri: "http://localhost/callback"
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost/callback\",
    \"response_type\": \"id_token\",
    \"scope\": \"openid\",
    \"state\": \"0243434ab6d840bfbfa35915e3cbe6e9\",
    \"nonce\": \"494b8ee26dfc419abcd94a9029911bd4\",
    \"prompt\": \"none\"
  }
}" (aa493bc4)
2018-03-23T18:28:25.8869245+01:00 0HLCGP2P3EATU:00000004 [ERR] Request validation failed (abd529bc)
2018-03-23T18:28:25.8870186+01:00 0HLCGP2P3EATU:00000004 [INF] "{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost/callback\",
    \"response_type\": \"id_token\",
    \"scope\": \"openid\",
    \"state\": \"0243434ab6d840bfbfa35915e3cbe6e9\",
    \"nonce\": \"494b8ee26dfc419abcd94a9029911bd4\",
    \"prompt\": \"none\"
  }
}" (9899f104)
2018-03-23T18:28:25.8873120+01:00 0HLCGP2P3EATU:00000004 [INF] Request finished in 2.0659ms 302  (791a596a)
2018-03-23T18:28:25.8892852+01:00 0HLCGP2P3EATU:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8I8cZ24bSc5BkaJobKJXk0JuiRkG_W_VqoXfNZtZXSXKAD0asMhI5xz_KPIL2yq0y4mj-N6KZDKNiXCwHNVcmX71IK_VHX_lGsps59HRavZx6BCxuhB8VtUQOKb80piIcDP_jEWG16y5U5fc8FJRwFNxmGJ1yY4HQENdryVtxB4vByT-9oAmCTXxGraxp8qcZ4_h03XJCErUpqM1wq7vxfzHCAEwc9X2LKbR_3nE07pMyMCiOTEpR2-M2PJ55SmpsvjnRJ3Qdw2EJKpx8myaVg9ytyztLzmsf9-8YenWgnuTMjINzodwehhGAU6DSGwuJw   (ca22a1cb)
2018-03-23T18:28:25.8904933+01:00 0HLCGP2P3EATU:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:25.8906400+01:00 0HLCGP2P3EATU:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:25.8910429+01:00 0HLCGP2P3EATU:00000005 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.HomeController.Error (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0JuiRkG_W_VqoXfNZtZXSXKAD0asMhI5xz_KPIL2yq0y4mj-N6KZDKNiXCwHNVcmX71IK_VHX_lGsps59HRavZx6BCxuhB8VtUQOKb80piIcDP_jEWG16y5U5fc8FJRwFNxmGJ1yY4HQENdryVtxB4vByT-9oAmCTXxGraxp8qcZ4_h03XJCErUpqM1wq7vxfzHCAEwc9X2LKbR_3nE07pMyMCiOTEpR2-M2PJ55SmpsvjnRJ3Qdw2EJKpx8myaVg9ytyztLzmsf9-8YenWgnuTMjINzodwehhGAU6DSGwuJw"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T18:28:25.8915376+01:00 0HLCGP2P3EATU:00000005 [INF] Executing ViewResult, running view at path "/Views/Shared/Error.cshtml". (9707eebe)
2018-03-23T18:28:25.8924657+01:00 0HLCGP2P3EATU:00000005 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.HomeController.Error (IdentityServerWithAspNetIdentity)" in 1.5733ms (afa2e885)
2018-03-23T18:28:25.8935814+01:00 0HLCGP2P3EATU:00000005 [INF] Request finished in 3.5798ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T18:28:26.0464256+01:00 0HLCGP2P3EATU:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=09621c0f161a4b73b2e2706459055f53&nonce=42a83aa3b4684884bf7d649871de9ee4   (ca22a1cb)
2018-03-23T18:28:26.0475675+01:00 0HLCGP2P3EATU:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:26.0476312+01:00 0HLCGP2P3EATU:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:26.0479202+01:00 0HLCGP2P3EATU:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T18:28:26.2830881+01:00 0HLCGP2P3EATU:00000006 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"09621c0f161a4b73b2e2706459055f53\",
  \"Nonce\": \"42a83aa3b4684884bf7d649871de9ee4\",
  \"SessionId\": \"89aa3fb53e1410e9b980c92f42ca2905\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"09621c0f161a4b73b2e2706459055f53\",
    \"nonce\": \"42a83aa3b4684884bf7d649871de9ee4\"
  }
}" (9a175e33)
2018-03-23T18:28:26.2834645+01:00 0HLCGP2P3EATU:00000006 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T18:28:26.3044777+01:00 0HLCGP2P3EATU:00000006 [INF] Executed DbCommand ("10"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T18:28:26.3169742+01:00 0HLCGP2P3EATU:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T18:28:26.3180630+01:00 0HLCGP2P3EATU:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T18:28:26.3262538+01:00 0HLCGP2P3EATU:00000006 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"09621c0f161a4b73b2e2706459055f53\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T18:28:26.3266194+01:00 0HLCGP2P3EATU:00000006 [INF] Request finished in 280.222ms 302  (791a596a)
2018-03-23T18:28:27.0553285+01:00 0HLCGP2P3EATM:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T18:28:27.0557498+01:00 0HLCGP2P3EATM:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T18:28:27.0561317+01:00 0HLCGP2P3EATM:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T18:28:27.0566730+01:00 0HLCGP2P3EATM:00000003 [INF] Request finished in 1.3505ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T18:28:27.0584260+01:00 0HLCGP2P3EATM:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T18:28:27.0588630+01:00 0HLCGP2P3EATM:00000004 [INF] Policy execution successful. (0204925d)
2018-03-23T18:28:27.0593552+01:00 0HLCGP2P3EATM:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T18:28:27.0597004+01:00 0HLCGP2P3EATM:00000004 [INF] Request finished in 1.439ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T18:28:27.2384271+01:00 0HLCGP2P3EATM:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T18:28:27.2389869+01:00 0HLCGP2P3EATM:00000005 [INF] Policy execution successful. (0204925d)
2018-03-23T18:28:27.2393632+01:00 0HLCGP2P3EATM:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T18:28:27.2395497+01:00 0HLCGP2P3EATM:00000005 [INF] Request finished in 1.1662ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T18:28:27.3060681+01:00 0HLCGP2P3EATM:00000006 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T18:28:27.3064517+01:00 0HLCGP2P3EATM:00000006 [INF] Policy execution successful. (0204925d)
2018-03-23T18:28:27.3065441+01:00 0HLCGP2P3EATM:00000006 [INF] Request finished in 0.5204ms 204  (791a596a)
2018-03-23T18:28:27.3113663+01:00 0HLCGP2P3EATM:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T18:28:27.3120146+01:00 0HLCGP2P3EATM:00000007 [INF] Policy execution successful. (0204925d)
2018-03-23T18:28:27.3129213+01:00 0HLCGP2P3EATM:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T18:28:27.3172439+01:00 0HLCGP2P3EATM:00000007 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T18:28:27.3243850+01:00 0HLCGP2P3EATM:00000007 [INF] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T18:28:27.3483823+01:00 0HLCGP2P3EATM:00000007 [INF] Executed DbCommand ("22"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T18:28:27.3651698+01:00 0HLCGP2P3EATM:00000007 [INF] Executed DbCommand ("15"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T18:28:27.3794500+01:00 0HLCGP2P3EATM:00000007 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T18:28:27.3797870+01:00 0HLCGP2P3EATM:00000007 [INF] Request finished in 68.5241ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T18:28:27.4273224+01:00 0HLCGP2P3EATU:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T18:28:27.4299799+01:00 0HLCGP2P3EATU:00000007 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:27.4306051+01:00 0HLCGP2P3EATU:00000007 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:27.4312624+01:00 0HLCGP2P3EATU:00000007 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T18:28:27.4587959+01:00 0HLCGP2P3EATU:00000007 [INF] Request finished in 30.7033ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T18:28:28.3029903+01:00 0HLCGP2P3EATM:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T18:28:28.3037302+01:00 0HLCGP2P3EATM:00000008 [INF] Policy execution successful. (0204925d)
2018-03-23T18:28:28.3040714+01:00 0HLCGP2P3EATM:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T18:28:28.3043674+01:00 0HLCGP2P3EATM:00000008 [INF] Request finished in 1.693ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T18:28:28.6404983+01:00 0HLCGP2P3EATU:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T18:28:28.6414301+01:00 0HLCGP2P3EATU:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:28.6415759+01:00 0HLCGP2P3EATU:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:28:28.6417286+01:00 0HLCGP2P3EATU:00000008 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T18:28:28.6422969+01:00 0HLCGP2P3EATU:00000008 [INF] Request finished in 1.8431ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T18:30:10.9124640+01:00 0HLCGP2P3EATU:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T18:30:10.9141712+01:00 0HLCGP2P3EATU:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:30:10.9142392+01:00 0HLCGP2P3EATU:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:30:10.9143778+01:00 0HLCGP2P3EATU:00000009 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T18:30:10.9416146+01:00 0HLCGP2P3EATU:00000009 [INF] Request finished in 29.307ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T18:30:12.2081244+01:00 0HLCGP2P3EATU:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T18:30:12.2089891+01:00 0HLCGP2P3EATU:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:30:12.2090392+01:00 0HLCGP2P3EATU:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:30:12.2090948+01:00 0HLCGP2P3EATU:0000000A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T18:30:12.2117945+01:00 0HLCGP2P3EATU:0000000A [INF] Request finished in 3.5922ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T18:30:15.2018400+01:00 0HLCGP2P3EATU:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T18:30:15.4132658+01:00 0HLCGP2P3EATU:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:30:15.4134989+01:00 0HLCGP2P3EATU:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:30:15.4135618+01:00 0HLCGP2P3EATU:0000000B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T18:30:15.4137607+01:00 0HLCGP2P3EATU:0000000B [INF] Request finished in 211.9732ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T18:30:16.4219780+01:00 0HLCGP2P3EATU:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MjYxMDYsImV4cCI6MTUyMTgyNjQwNiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiI0MmE4M2FhM2I0Njg0ODg0YmY3ZDY0OTg3MWRlOWVlNCIsImlhdCI6MTUyMTgyNjEwNiwiYXRfaGFzaCI6IlZZd2dLXzhVZTVIREl1akVhNGNCbWciLCJzaWQiOiI4OWFhM2ZiNTNlMTQxMGU5Yjk4MGM5MmY0MmNhMjkwNSIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgyNjA5MywiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.1P0oTSsMm8a6cbueOxYLL-Ig09QzIxR1sxVM4Fm59ZkUkD6mHsKrdDfuILDwOr4EMjDOMsuBroFh0v9aHUcYY30Gk3IOqouKPziLVhzim8_69QHra4hBOYzouUB66kgUMWRs1vVZ0aN_gdogpHM0f1RFlHGWQohReaSNTnhPGE5r1NKCR6484PqLy2Epy0b6EwnQbVjfEWtRt6Q6T9MKsFx-BT0WbSQy4xweXbYkSny0stRCafwBMDECLZV6sgham6I4ncwUrarWv-jfhSHkPQxzwIQvcvI2RiJkNlH-Oq2TsZJvlncauIRcovVGJWBheUT8xaeFD1XsAO1yuvhvPQ&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fhome   (ca22a1cb)
2018-03-23T18:30:16.5024479+01:00 0HLCGP2P3EATU:0000000C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:30:16.5025283+01:00 0HLCGP2P3EATU:0000000C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:30:16.5026536+01:00 0HLCGP2P3EATU:0000000C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2018-03-23T18:30:17.2032312+01:00 0HLCGP2P3EATU:0000000C [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T18:30:17.2070535+01:00 0HLCGP2P3EATU:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T18:30:17.2076890+01:00 0HLCGP2P3EATU:0000000C [INF] End session request validation success
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"PostLogOutUri\": \"http://localhost:51540/home\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MjYxMDYsImV4cCI6MTUyMTgyNjQwNiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiI0MmE4M2FhM2I0Njg0ODg0YmY3ZDY0OTg3MWRlOWVlNCIsImlhdCI6MTUyMTgyNjEwNiwiYXRfaGFzaCI6IlZZd2dLXzhVZTVIREl1akVhNGNCbWciLCJzaWQiOiI4OWFhM2ZiNTNlMTQxMGU5Yjk4MGM5MmY0MmNhMjkwNSIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgyNjA5MywiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.1P0oTSsMm8a6cbueOxYLL-Ig09QzIxR1sxVM4Fm59ZkUkD6mHsKrdDfuILDwOr4EMjDOMsuBroFh0v9aHUcYY30Gk3IOqouKPziLVhzim8_69QHra4hBOYzouUB66kgUMWRs1vVZ0aN_gdogpHM0f1RFlHGWQohReaSNTnhPGE5r1NKCR6484PqLy2Epy0b6EwnQbVjfEWtRt6Q6T9MKsFx-BT0WbSQy4xweXbYkSny0stRCafwBMDECLZV6sgham6I4ncwUrarWv-jfhSHkPQxzwIQvcvI2RiJkNlH-Oq2TsZJvlncauIRcovVGJWBheUT8xaeFD1XsAO1yuvhvPQ\",
    \"post_logout_redirect_uri\": \"http://localhost:51540/home\"
  }
}" (8a893fca)
2018-03-23T18:30:17.2091105+01:00 0HLCGP2P3EATU:0000000C [INF] Request finished in 786.0603ms 302  (791a596a)
2018-03-23T18:30:17.2331485+01:00 0HLCGP2P3EATU:0000000D [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8I8cZ24bSc5BkaJobKJXk0L1WzKwRtEbOhNLWi7MvyPpXBvwFCQIjKKvcqVC7FBdB0RDfhdgnwbYeufCKaxvibMWVUvcYnZN2KL-lezaSWDmZZmOldood-kQNBdRhbKe9Ypc9HZj0s-o0vV4tVxBxqrtUhS1fJNdRWMmreOyh9ZY7l0x4o_boPgV-WdstPjUEah7ILVGzs00OA-IlACAK9zftBcSbCkpmJKY4Cm3sqqZnkNlXx-e_C7SjmCShg8bcvUKggjGjqPIo3CFbG3mg09aiLXzmU7UqiEsMCv3N0FHz4RZGpFalkldIl2ZoJdpLTAeRgalaz6XdlxaJttOGFq_9zj2XohjpuySYszgInms1gcs0NoMcidHPqPs9BWcGREPwJ8ZDVS8J-OmTXAPEqqTgFuDICEU9Rkm897y4nrbvPI_SPDfk0oeJe-5Ux9170XPx5T5v6YaN0lK04m99Sa729FkONG1_iONEJUPgzv9   (ca22a1cb)
2018-03-23T18:30:17.2341116+01:00 0HLCGP2P3EATU:0000000D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:30:17.2341928+01:00 0HLCGP2P3EATU:0000000D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:30:17.2347132+01:00 0HLCGP2P3EATU:0000000D [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0L1WzKwRtEbOhNLWi7MvyPpXBvwFCQIjKKvcqVC7FBdB0RDfhdgnwbYeufCKaxvibMWVUvcYnZN2KL-lezaSWDmZZmOldood-kQNBdRhbKe9Ypc9HZj0s-o0vV4tVxBxqrtUhS1fJNdRWMmreOyh9ZY7l0x4o_boPgV-WdstPjUEah7ILVGzs00OA-IlACAK9zftBcSbCkpmJKY4Cm3sqqZnkNlXx-e_C7SjmCShg8bcvUKggjGjqPIo3CFbG3mg09aiLXzmU7UqiEsMCv3N0FHz4RZGpFalkldIl2ZoJdpLTAeRgalaz6XdlxaJttOGFq_9zj2XohjpuySYszgInms1gcs0NoMcidHPqPs9BWcGREPwJ8ZDVS8J-OmTXAPEqqTgFuDICEU9Rkm897y4nrbvPI_SPDfk0oeJe-5Ux9170XPx5T5v6YaN0lK04m99Sa729FkONG1_iONEJUPgzv9"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T18:30:17.5098762+01:00 0HLCGP2P3EATU:0000000D [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T18:30:17.5100344+01:00 0HLCGP2P3EATU:0000000D [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T18:30:17.5101461+01:00 0HLCGP2P3EATU:0000000D [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T18:30:17.5101721+01:00 0HLCGP2P3EATU:0000000D [INF] User logged out. (f9c27106)
2018-03-23T18:30:17.6171009+01:00 0HLCGP2P3EATU:0000000D [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T18:30:17.6193936+01:00 0HLCGP2P3EATU:0000000D [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 384.9171ms (afa2e885)
2018-03-23T18:30:17.6195822+01:00 0HLCGP2P3EATU:0000000D [INF] Request finished in 386.493ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T18:30:17.7801514+01:00 0HLCGP2P3EATU:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8I8cZ24bSc5BkaJobKJXk0LEBvGjYF1qXLF8Nc9lBJs8VWjduVhNBFhUrLxZLUHdTNGMAJJLRaxaDwXjsx15zl5LsJsME08wzzB-RC5CGKKuNztUZuQFBq3xL6mp5m_To4M2unbp5Jwmz2qcjSoc33-tFRkDfD0D9Mv8b9CURWBCyGd6HhsDZY27xEplLsp9kRgAIJtgNY30y0l3EBObkobn-ZjjKjep7NXNamLK5dGjhIIz_OBdDWIxljkTORcxOjWLJNQaoPXY4UMuM6-W4EX4mZ3n8yDUGs7T7d_P4B5EHceYHCmnEf0C3noFJeOu2GjdMWkeUyDNocEYlHq5nAE   (ca22a1cb)
2018-03-23T18:30:17.7812142+01:00 0HLCGP2P3EATU:0000000E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback" (f7642de5)
2018-03-23T18:30:17.7815653+01:00 0HLCGP2P3EATU:0000000E [INF] Successful signout callback. (d13fac4f)
2018-03-23T18:30:17.7821790+01:00 0HLCGP2P3EATU:0000000E [INF] Request finished in 2.0852ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T18:30:36.3771693+01:00 0HLCGP2P3EAU4:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T18:30:36.4633962+01:00 0HLCGP2P3EAU4:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T18:30:36.4637679+01:00 0HLCGP2P3EAU4:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T18:30:36.4641575+01:00 0HLCGP2P3EAU4:00000001 [INF] Request finished in 87.0001ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T18:30:36.4746016+01:00 0HLCGP2P3EATU:0000000F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=fb055c47aff4470bb4af94b69c898ac9&nonce=cd78d19545f24f3a863e306b2b28662d   (ca22a1cb)
2018-03-23T18:30:36.4756879+01:00 0HLCGP2P3EATU:0000000F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T18:30:36.4763759+01:00 0HLCGP2P3EATU:0000000F [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"fb055c47aff4470bb4af94b69c898ac9\",
  \"Nonce\": \"cd78d19545f24f3a863e306b2b28662d\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"fb055c47aff4470bb4af94b69c898ac9\",
    \"nonce\": \"cd78d19545f24f3a863e306b2b28662d\"
  }
}" (9a175e33)
2018-03-23T18:30:36.4768905+01:00 0HLCGP2P3EATU:0000000F [INF] Showing login: User is not authenticated (4b8d50b2)
2018-03-23T18:30:36.4782572+01:00 0HLCGP2P3EATU:0000000F [INF] Request finished in 3.747ms 302  (791a596a)
2018-03-23T18:30:36.4892526+01:00 0HLCGP2P3EATU:00000010 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Dfb055c47aff4470bb4af94b69c898ac9%26nonce%3Dcd78d19545f24f3a863e306b2b28662d   (ca22a1cb)
2018-03-23T18:30:36.4906057+01:00 0HLCGP2P3EATU:00000010 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=fb055c47aff4470bb4af94b69c898ac9&nonce=cd78d19545f24f3a863e306b2b28662d"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T18:30:36.4935527+01:00 0HLCGP2P3EATU:00000010 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T18:30:36.4942369+01:00 0HLCGP2P3EATU:00000010 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T18:30:36.4973010+01:00 0HLCGP2P3EATU:00000010 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 6.7141ms (afa2e885)
2018-03-23T18:30:36.4979502+01:00 0HLCGP2P3EATU:00000010 [INF] Request finished in 8.7485ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T18:30:36.5263452+01:00 0HLCGP2P3EATU:00000011 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery-validation/dist/jquery.validate.js   (ca22a1cb)
2018-03-23T18:30:36.5271286+01:00 0HLCGP2P3EATU:00000011 [INF] The file "/lib/jquery-validation/dist/jquery.validate.js" was not modified (f1f8d725)
2018-03-23T18:30:36.5272740+01:00 0HLCGP2P3EATU:00000011 [INF] Request finished in 1.019ms 304 application/javascript (791a596a)
2018-03-23T18:30:36.5275352+01:00 0HLCGP2P3EAU5:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js   (ca22a1cb)
2018-03-23T18:30:36.5282580+01:00 0HLCGP2P3EAU5:00000001 [INF] The file "/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js" was not modified (f1f8d725)
2018-03-23T18:30:36.5285275+01:00 0HLCGP2P3EAU5:00000001 [INF] Request finished in 1.0845ms 304 application/javascript (791a596a)
2018-03-23T18:30:41.4987294+01:00 0HLCGP2P3EAU6:00000001 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Dfb055c47aff4470bb4af94b69c898ac9%26nonce%3Dcd78d19545f24f3a863e306b2b28662d application/x-www-form-urlencoded 233 (ca22a1cb)
2018-03-23T18:30:41.7854647+01:00 0HLCGP2P3EAU6:00000001 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=fb055c47aff4470bb4af94b69c898ac9&nonce=cd78d19545f24f3a863e306b2b28662d"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T18:30:41.7857452+01:00 0HLCGP2P3EAU6:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T18:30:41.7891322+01:00 0HLCGP2P3EAU6:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T18:30:41.7997957+01:00 0HLCGP2P3EAU6:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T18:30:41.8023142+01:00 0HLCGP2P3EAU6:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T18:30:41.8027004+01:00 0HLCGP2P3EAU6:00000001 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T18:30:41.8027342+01:00 0HLCGP2P3EAU6:00000001 [INF] User logged in. (fdce0db4)
2018-03-23T18:30:41.8027996+01:00 0HLCGP2P3EAU6:00000001 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=fb055c47aff4470bb4af94b69c898ac9&nonce=cd78d19545f24f3a863e306b2b28662d". (d98d540e)
2018-03-23T18:30:41.8029814+01:00 0HLCGP2P3EAU6:00000001 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 18.1372ms (afa2e885)
2018-03-23T18:30:41.8031122+01:00 0HLCGP2P3EAU6:00000001 [INF] Request finished in 304.4948ms 302  (791a596a)
2018-03-23T18:30:41.8061241+01:00 0HLCGP2P3EAU6:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=fb055c47aff4470bb4af94b69c898ac9&nonce=cd78d19545f24f3a863e306b2b28662d   (ca22a1cb)
2018-03-23T18:30:41.8070427+01:00 0HLCGP2P3EAU6:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:30:41.8071620+01:00 0HLCGP2P3EAU6:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:30:41.8072724+01:00 0HLCGP2P3EAU6:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T18:30:41.8081239+01:00 0HLCGP2P3EAU6:00000002 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"fb055c47aff4470bb4af94b69c898ac9\",
  \"Nonce\": \"cd78d19545f24f3a863e306b2b28662d\",
  \"SessionId\": \"f73c1121e475588006bccf333537c4ae\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"fb055c47aff4470bb4af94b69c898ac9\",
    \"nonce\": \"cd78d19545f24f3a863e306b2b28662d\"
  }
}" (9a175e33)
2018-03-23T18:30:41.8085669+01:00 0HLCGP2P3EAU6:00000002 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T18:30:41.8103618+01:00 0HLCGP2P3EAU6:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T18:30:41.8342616+01:00 0HLCGP2P3EAU6:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T18:30:41.8359624+01:00 0HLCGP2P3EAU6:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T18:30:41.8466793+01:00 0HLCGP2P3EAU6:00000002 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"fb055c47aff4470bb4af94b69c898ac9\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T18:30:41.8471383+01:00 0HLCGP2P3EAU6:00000002 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T18:30:41.8473495+01:00 0HLCGP2P3EAU6:00000002 [INF] Request finished in 41.3155ms 302  (791a596a)
2018-03-23T18:30:43.7217315+01:00 0HLCGP2P3EAU9:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T18:30:43.7221651+01:00 0HLCGP2P3EAU9:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T18:30:43.8946086+01:00 0HLCGP2P3EAU9:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T18:30:43.8951924+01:00 0HLCGP2P3EAU9:00000001 [INF] Request finished in 173.4305ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T18:30:45.2841068+01:00 0HLCGP2P3EAU9:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T18:30:45.2846256+01:00 0HLCGP2P3EAU9:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T18:30:45.2850028+01:00 0HLCGP2P3EAU9:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T18:30:45.2851623+01:00 0HLCGP2P3EAU9:00000002 [INF] Request finished in 1.0776ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T18:30:45.3168686+01:00 0HLCGP2P3EAU9:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T18:30:45.3172431+01:00 0HLCGP2P3EAU9:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T18:30:45.3173317+01:00 0HLCGP2P3EAU9:00000003 [INF] Request finished in 0.5029ms 204  (791a596a)
2018-03-23T18:30:45.5632367+01:00 0HLCGP2P3EAU9:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T18:30:45.5637280+01:00 0HLCGP2P3EAU9:00000004 [INF] Policy execution successful. (0204925d)
2018-03-23T18:30:45.5640830+01:00 0HLCGP2P3EAU9:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T18:30:45.5782571+01:00 0HLCGP2P3EAU9:00000004 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T18:30:45.5796680+01:00 0HLCGP2P3EAU9:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T18:30:45.5818011+01:00 0HLCGP2P3EAU9:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T18:30:45.5840206+01:00 0HLCGP2P3EAU9:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T18:30:45.5842498+01:00 0HLCGP2P3EAU9:00000004 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T18:30:45.5844893+01:00 0HLCGP2P3EAU9:00000004 [INF] Request finished in 21.2967ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T18:30:45.6245284+01:00 0HLCGP2P3EAU6:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T18:30:45.6254701+01:00 0HLCGP2P3EAU6:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:30:45.6255287+01:00 0HLCGP2P3EAU6:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:30:45.6255877+01:00 0HLCGP2P3EAU6:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T18:30:45.6271286+01:00 0HLCGP2P3EAU6:00000003 [INF] Request finished in 2.1194ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T18:30:46.5293930+01:00 0HLCGP2P3EAU9:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T18:30:46.5299917+01:00 0HLCGP2P3EAU9:00000005 [INF] Policy execution successful. (0204925d)
2018-03-23T18:30:46.5303904+01:00 0HLCGP2P3EAU9:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T18:30:46.5308115+01:00 0HLCGP2P3EAU9:00000005 [INF] Request finished in 1.4138ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T18:30:47.0093904+01:00 0HLCGP2P3EAU6:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T18:30:47.0103243+01:00 0HLCGP2P3EAU6:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:30:47.0103731+01:00 0HLCGP2P3EAU6:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:30:47.0104249+01:00 0HLCGP2P3EAU6:00000004 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T18:30:47.0107670+01:00 0HLCGP2P3EAU6:00000004 [INF] Request finished in 1.424ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T18:37:33.1862969+01:00 0HLCGP2P3EAUB:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3Dfb055c47aff4470bb4af94b69c898ac9%26nonce%3Dcd78d19545f24f3a863e306b2b28662d   (ca22a1cb)
2018-03-23T18:37:33.1876137+01:00 0HLCGP2P3EAUB:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:37:33.1876851+01:00 0HLCGP2P3EAUB:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:37:33.1884074+01:00 0HLCGP2P3EAUB:00000001 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=fb055c47aff4470bb4af94b69c898ac9&nonce=cd78d19545f24f3a863e306b2b28662d"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T18:37:33.1885652+01:00 0HLCGP2P3EAUB:00000001 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T18:37:33.1889946+01:00 0HLCGP2P3EAUB:00000001 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T18:37:33.1928327+01:00 0HLCGP2P3EAUB:00000001 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 4.9492ms (afa2e885)
2018-03-23T18:37:33.1931142+01:00 0HLCGP2P3EAUB:00000001 [INF] Request finished in 6.9468ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T18:37:37.8494925+01:00 0HLCGP2P3EAUB:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T18:37:37.8505658+01:00 0HLCGP2P3EAUB:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:37:37.8506249+01:00 0HLCGP2P3EAUB:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:37:37.8506920+01:00 0HLCGP2P3EAUB:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T18:37:37.8510940+01:00 0HLCGP2P3EAUB:00000002 [INF] Request finished in 1.6152ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T18:37:39.6079748+01:00 0HLCGP2P3EAUB:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MjYyNDEsImV4cCI6MTUyMTgyNjU0MSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiJjZDc4ZDE5NTQ1ZjI0ZjNhODYzZTMwNmIyYjI4NjYyZCIsImlhdCI6MTUyMTgyNjI0MSwiYXRfaGFzaCI6InB6Y1k1cW4weUt5c0hQSUR6Sm9WTkEiLCJzaWQiOiJmNzNjMTEyMWU0NzU1ODgwMDZiY2NmMzMzNTM3YzRhZSIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgyNjI0MSwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.MDiv2hddO28JxAf_59HFxbr1Tqs-mqBv7UhiMCZFwlKJ5LJG4H5AIqW9yA2bQoMKvM1qeWKs4L9jiyUhTA6Uh8ZzuB0GTUKFIKn943189kiix-Fue3JeCdQ1sOqXwKSFu4FKBuz721_SnrWeeG83v2f_sgKHKObmnTPyuurU8cVpSS1l7H4B2cNVvg0ewRyhuMURC-fCoGEnnnQ96uCjNfyTibqb2IUc6Rcmw9MgHDRaPId25ucrGNrGILm0mnH4_aV_SkDuBXRimXbCVQ5-_FHn2tG14fZAFIRoNmmpJZVJzmwwHDCXzhe2aOAPzhCCx2luXa4bKbDTVL4LsNU3Ow&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fhome   (ca22a1cb)
2018-03-23T18:37:39.6276075+01:00 0HLCGP2P3EAUB:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:37:39.6277871+01:00 0HLCGP2P3EAUB:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:37:39.6279449+01:00 0HLCGP2P3EAUB:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2018-03-23T18:37:39.6356452+01:00 0HLCGP2P3EAUB:00000003 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T18:37:39.6477153+01:00 0HLCGP2P3EAUB:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T18:37:39.6487464+01:00 0HLCGP2P3EAUB:00000003 [INF] End session request validation success
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"PostLogOutUri\": \"http://localhost:51540/home\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MjYyNDEsImV4cCI6MTUyMTgyNjU0MSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiJjZDc4ZDE5NTQ1ZjI0ZjNhODYzZTMwNmIyYjI4NjYyZCIsImlhdCI6MTUyMTgyNjI0MSwiYXRfaGFzaCI6InB6Y1k1cW4weUt5c0hQSUR6Sm9WTkEiLCJzaWQiOiJmNzNjMTEyMWU0NzU1ODgwMDZiY2NmMzMzNTM3YzRhZSIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgyNjI0MSwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.MDiv2hddO28JxAf_59HFxbr1Tqs-mqBv7UhiMCZFwlKJ5LJG4H5AIqW9yA2bQoMKvM1qeWKs4L9jiyUhTA6Uh8ZzuB0GTUKFIKn943189kiix-Fue3JeCdQ1sOqXwKSFu4FKBuz721_SnrWeeG83v2f_sgKHKObmnTPyuurU8cVpSS1l7H4B2cNVvg0ewRyhuMURC-fCoGEnnnQ96uCjNfyTibqb2IUc6Rcmw9MgHDRaPId25ucrGNrGILm0mnH4_aV_SkDuBXRimXbCVQ5-_FHn2tG14fZAFIRoNmmpJZVJzmwwHDCXzhe2aOAPzhCCx2luXa4bKbDTVL4LsNU3Ow\",
    \"post_logout_redirect_uri\": \"http://localhost:51540/home\"
  }
}" (8a893fca)
2018-03-23T18:37:39.6516344+01:00 0HLCGP2P3EAUB:00000003 [INF] Request finished in 43.1168ms 302  (791a596a)
2018-03-23T18:37:39.6909382+01:00 0HLCGP2P3EAUB:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8I8cZ24bSc5BkaJobKJXk0Lg2pvDQskmwdC1BZZAw9QwKAAZ-4f_ujOLyEN9voUGFN7XOp-7lAA8v_a_8kyc-alzFHTW6A-tFX0UMdQWvhJHfkmo0sJwlW5KtZZaOV4N8HDzDeDHmbErknvtDymK9CQJiOaD-UMjtgocKNn5Xus1OUPsZjdBi1kz4Yu0pLTvG-lYZ7knbNQUbo9qLbi2beqmIlrCdW1M1WxF7As4DxecbEjRA9J9bfRb63xWQETKzBWPJuE4MBzXuyK7nWUULVm4afDekdE3v42KJ9AKGIQw858eAV6B6K60QvkvwFoNoNtsgeALN1YrjZp1ek79C0Jy9xoOM-a9vGc3_fVntNgTg9FwoTR4xyy5E90GfTG5HayTGbyWH3-gO5OBhO1w0XlZdln_KY8qO27gcP5TlUjbFjs2x849TE_nJO9DnShbZrIdG3xVwDMHDp9WBo28XZMHY_tFJNWTAb23PVwdsjyv   (ca22a1cb)
2018-03-23T18:37:39.6918222+01:00 0HLCGP2P3EAUB:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:37:39.6918970+01:00 0HLCGP2P3EAUB:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:37:39.6922661+01:00 0HLCGP2P3EAUB:00000004 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0Lg2pvDQskmwdC1BZZAw9QwKAAZ-4f_ujOLyEN9voUGFN7XOp-7lAA8v_a_8kyc-alzFHTW6A-tFX0UMdQWvhJHfkmo0sJwlW5KtZZaOV4N8HDzDeDHmbErknvtDymK9CQJiOaD-UMjtgocKNn5Xus1OUPsZjdBi1kz4Yu0pLTvG-lYZ7knbNQUbo9qLbi2beqmIlrCdW1M1WxF7As4DxecbEjRA9J9bfRb63xWQETKzBWPJuE4MBzXuyK7nWUULVm4afDekdE3v42KJ9AKGIQw858eAV6B6K60QvkvwFoNoNtsgeALN1YrjZp1ek79C0Jy9xoOM-a9vGc3_fVntNgTg9FwoTR4xyy5E90GfTG5HayTGbyWH3-gO5OBhO1w0XlZdln_KY8qO27gcP5TlUjbFjs2x849TE_nJO9DnShbZrIdG3xVwDMHDp9WBo28XZMHY_tFJNWTAb23PVwdsjyv"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T18:37:39.6928713+01:00 0HLCGP2P3EAUB:00000004 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2018-03-23T18:37:39.6930076+01:00 0HLCGP2P3EAUB:00000004 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T18:37:39.6930923+01:00 0HLCGP2P3EAUB:00000004 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2018-03-23T18:37:39.6931150+01:00 0HLCGP2P3EAUB:00000004 [INF] User logged out. (f9c27106)
2018-03-23T18:37:39.6933468+01:00 0HLCGP2P3EAUB:00000004 [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2018-03-23T18:37:39.6944617+01:00 0HLCGP2P3EAUB:00000004 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (IdentityServerWithAspNetIdentity)" in 2.2793ms (afa2e885)
2018-03-23T18:37:39.6947101+01:00 0HLCGP2P3EAUB:00000004 [INF] Request finished in 3.7825ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T18:37:39.8332336+01:00 0HLCGP2P3EAUB:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8I8cZ24bSc5BkaJobKJXk0LHZF0DHnT5g6rOYtiJko-9F6cANlrZBvU9YokrXT1wdEXwdtHbHZMvMEZYcQqUpjzCFabWFoHdEpNkvuslotj8ZJL0kWAemvGUvMHYa5TFc95SmVkacl27lWVZZXUHrSyRgLgGgBhjqJWZSPTX9Nx0agzD7eYPh5KMQ_FfwnYk3pkYe_DUFHch3TAEXceZaQFwMfUvRCxnMf50aML1yr4xj3v3VVTd4s2Bmc5sm3W9qdTlmPJSpsdRctMn9m6-AJrv1eu9iP7nw2URexcSwrTX4sZGqmKPxoX_EicacoEFmM9o2kxWvVl9bTW560rPb4g   (ca22a1cb)
2018-03-23T18:37:39.8339777+01:00 0HLCGP2P3EAUB:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback" (f7642de5)
2018-03-23T18:37:39.8341508+01:00 0HLCGP2P3EAUB:00000005 [INF] Successful signout callback. (d13fac4f)
2018-03-23T18:37:39.8343830+01:00 0HLCGP2P3EAUB:00000005 [INF] Request finished in 1.1858ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T18:37:49.8210459+01:00 0HLCGP2P3EAUI:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T18:37:49.8214393+01:00 0HLCGP2P3EAUI:00000001 [INF] Policy execution successful. (0204925d)
2018-03-23T18:37:49.8219474+01:00 0HLCGP2P3EAUI:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T18:37:49.8224669+01:00 0HLCGP2P3EAUI:00000001 [INF] Request finished in 1.3924ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T18:37:49.8327186+01:00 0HLCGP2P3EAUB:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=9dea519dc7dd454b95095fbeafafc974&nonce=6f9fe8cc286a46a186fc4886cdd855f3   (ca22a1cb)
2018-03-23T18:37:49.8334769+01:00 0HLCGP2P3EAUB:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T18:37:49.8340363+01:00 0HLCGP2P3EAUB:00000006 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"9dea519dc7dd454b95095fbeafafc974\",
  \"Nonce\": \"6f9fe8cc286a46a186fc4886cdd855f3\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"9dea519dc7dd454b95095fbeafafc974\",
    \"nonce\": \"6f9fe8cc286a46a186fc4886cdd855f3\"
  }
}" (9a175e33)
2018-03-23T18:37:49.8340722+01:00 0HLCGP2P3EAUB:00000006 [INF] Showing login: User is not authenticated (4b8d50b2)
2018-03-23T18:37:49.8348081+01:00 0HLCGP2P3EAUB:00000006 [INF] Request finished in 1.5985ms 302  (791a596a)
2018-03-23T18:37:49.8376961+01:00 0HLCGP2P3EAUB:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D9dea519dc7dd454b95095fbeafafc974%26nonce%3D6f9fe8cc286a46a186fc4886cdd855f3   (ca22a1cb)
2018-03-23T18:37:49.8393900+01:00 0HLCGP2P3EAUB:00000007 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=9dea519dc7dd454b95095fbeafafc974&nonce=6f9fe8cc286a46a186fc4886cdd855f3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T18:37:49.8395764+01:00 0HLCGP2P3EAUB:00000007 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2018-03-23T18:37:49.8400494+01:00 0HLCGP2P3EAUB:00000007 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2018-03-23T18:37:49.8697021+01:00 0HLCGP2P3EAUB:00000007 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 30.7273ms (afa2e885)
2018-03-23T18:37:49.8698048+01:00 0HLCGP2P3EAUB:00000007 [INF] Request finished in 32.1804ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T18:37:54.5539813+01:00 0HLCGP2P3EAUB:00000008 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Doidcreactwev%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A51540%252Fcallback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520apiApp%26state%3D9dea519dc7dd454b95095fbeafafc974%26nonce%3D6f9fe8cc286a46a186fc4886cdd855f3 application/x-www-form-urlencoded 233 (ca22a1cb)
2018-03-23T18:37:54.6024893+01:00 0HLCGP2P3EAUB:00000008 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" with arguments (["IdentityServerWithAspNetIdentity.Models.AccountViewModels.LoginViewModel", "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=9dea519dc7dd454b95095fbeafafc974&nonce=6f9fe8cc286a46a186fc4886cdd855f3"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T18:37:54.6031153+01:00 0HLCGP2P3EAUB:00000008 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T18:37:54.6061162+01:00 0HLCGP2P3EAUB:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[Bio], [u].[ConcurrencyStamp], [u].[Dob], [u].[Doi], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[Gender], [u].[IsRestaurant], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RestaurantName], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[profilepic]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2018-03-23T18:37:54.6201479+01:00 0HLCGP2P3EAUB:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T18:37:54.6226565+01:00 0HLCGP2P3EAUB:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T18:37:54.6230803+01:00 0HLCGP2P3EAUB:00000008 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T18:37:54.6231154+01:00 0HLCGP2P3EAUB:00000008 [INF] User logged in. (fdce0db4)
2018-03-23T18:37:54.6234037+01:00 0HLCGP2P3EAUB:00000008 [INF] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=9dea519dc7dd454b95095fbeafafc974&nonce=6f9fe8cc286a46a186fc4886cdd855f3". (d98d540e)
2018-03-23T18:37:54.6235144+01:00 0HLCGP2P3EAUB:00000008 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (IdentityServerWithAspNetIdentity)" in 68.974ms (afa2e885)
2018-03-23T18:37:54.6236710+01:00 0HLCGP2P3EAUB:00000008 [INF] Request finished in 69.7695ms 302  (791a596a)
2018-03-23T18:37:54.6581556+01:00 0HLCGP2P3EAUB:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%3A51540%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=9dea519dc7dd454b95095fbeafafc974&nonce=6f9fe8cc286a46a186fc4886cdd855f3   (ca22a1cb)
2018-03-23T18:37:54.6596118+01:00 0HLCGP2P3EAUB:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:37:54.6597311+01:00 0HLCGP2P3EAUB:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:37:54.6599676+01:00 0HLCGP2P3EAUB:00000009 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback" (f7642de5)
2018-03-23T18:37:54.6604744+01:00 0HLCGP2P3EAUB:00000009 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid profile apiApp\",
  \"State\": \"9dea519dc7dd454b95095fbeafafc974\",
  \"Nonce\": \"6f9fe8cc286a46a186fc4886cdd855f3\",
  \"SessionId\": \"0463dce354f2cbcd73505302bbeffd29\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost:51540/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"9dea519dc7dd454b95095fbeafafc974\",
    \"nonce\": \"6f9fe8cc286a46a186fc4886cdd855f3\"
  }
}" (9a175e33)
2018-03-23T18:37:54.6609345+01:00 0HLCGP2P3EAUB:00000009 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T18:37:54.6624929+01:00 0HLCGP2P3EAUB:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T18:37:54.6635342+01:00 0HLCGP2P3EAUB:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T18:37:54.6644870+01:00 0HLCGP2P3EAUB:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T18:37:54.6701205+01:00 0HLCGP2P3EAUB:00000009 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"ClientId\": \"oidcreactwev\",
  \"RedirectUri\": \"http://localhost:51540/callback\",
  \"State\": \"9dea519dc7dd454b95095fbeafafc974\",
  \"Scope\": \"openid profile apiApp\"
}" (5993a9fa)
2018-03-23T18:37:54.6705097+01:00 0HLCGP2P3EAUB:00000009 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2018-03-23T18:37:54.6706949+01:00 0HLCGP2P3EAUB:00000009 [INF] Request finished in 12.6876ms 302  (791a596a)
2018-03-23T18:37:56.4144599+01:00 0HLCGP2P3EAUI:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T18:37:56.4258970+01:00 0HLCGP2P3EAUI:00000002 [INF] Policy execution successful. (0204925d)
2018-03-23T18:37:56.4263649+01:00 0HLCGP2P3EAUI:00000002 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T18:37:56.4267195+01:00 0HLCGP2P3EAUI:00000002 [INF] Request finished in 12.3215ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T18:37:56.5429325+01:00 0HLCGP2P3EAUI:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (ca22a1cb)
2018-03-23T18:37:56.5432777+01:00 0HLCGP2P3EAUI:00000003 [INF] Policy execution successful. (0204925d)
2018-03-23T18:37:56.5438618+01:00 0HLCGP2P3EAUI:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2018-03-23T18:37:56.5440371+01:00 0HLCGP2P3EAUI:00000003 [INF] Request finished in 1.1358ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T18:37:56.6567743+01:00 0HLCGP2P3EAUI:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T18:37:56.6571604+01:00 0HLCGP2P3EAUI:00000004 [INF] Policy execution successful. (0204925d)
2018-03-23T18:37:56.6574568+01:00 0HLCGP2P3EAUI:00000004 [INF] Request finished in 0.6538ms 204  (791a596a)
2018-03-23T18:37:56.6930543+01:00 0HLCGP2P3EAUI:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   (ca22a1cb)
2018-03-23T18:37:56.7218507+01:00 0HLCGP2P3EAUI:00000005 [INF] Policy execution successful. (0204925d)
2018-03-23T18:37:56.7227202+01:00 0HLCGP2P3EAUI:00000005 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2018-03-23T18:37:56.7268043+01:00 0HLCGP2P3EAUI:00000005 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T18:37:56.7712268+01:00 0HLCGP2P3EAUI:00000005 [INF] Executed DbCommand ("43"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T18:37:56.7910032+01:00 0HLCGP2P3EAUI:00000005 [INF] Executed DbCommand ("17"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T18:37:56.7998393+01:00 0HLCGP2P3EAUI:00000005 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T18:37:56.8002619+01:00 0HLCGP2P3EAUI:00000005 [INF] Profile service returned to the following claim types: "sub preferred_username name name UserName role email" (a9217bec)
2018-03-23T18:37:56.8011885+01:00 0HLCGP2P3EAUI:00000005 [INF] Request finished in 108.2651ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T18:37:56.8731828+01:00 0HLCGP2P3EAUB:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T18:37:56.8745248+01:00 0HLCGP2P3EAUB:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:37:56.8748373+01:00 0HLCGP2P3EAUB:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:37:56.8774285+01:00 0HLCGP2P3EAUB:0000000A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T18:37:56.8786400+01:00 0HLCGP2P3EAUB:0000000A [INF] Request finished in 5.172ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T18:37:57.7631677+01:00 0HLCGP2P3EAUI:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (ca22a1cb)
2018-03-23T18:37:57.7635624+01:00 0HLCGP2P3EAUI:00000006 [INF] Policy execution successful. (0204925d)
2018-03-23T18:37:57.7639720+01:00 0HLCGP2P3EAUI:00000006 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2018-03-23T18:37:57.7643304+01:00 0HLCGP2P3EAUI:00000006 [INF] Request finished in 1.1991ms 200 application/json; charset=UTF-8 (791a596a)
2018-03-23T18:37:58.1876620+01:00 0HLCGP2P3EAUB:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (ca22a1cb)
2018-03-23T18:37:58.1886143+01:00 0HLCGP2P3EAUB:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:37:58.1886738+01:00 0HLCGP2P3EAUB:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T18:37:58.1887345+01:00 0HLCGP2P3EAUB:0000000B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2018-03-23T18:37:58.1889223+01:00 0HLCGP2P3EAUB:0000000B [INF] Request finished in 1.3064ms 200 text/html; charset=UTF-8 (791a596a)
2018-03-23T19:36:57.7787552+01:00 0HLCGP2P3EAUN:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=7465703859b149dc92b80265ba2c96c3&nonce=06331ac716b64c4092783390aa372f13&prompt=none&id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MjY2NzQsImV4cCI6MTUyMTgyNjk3NCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiI2ZjlmZThjYzI4NmE0NmExODZmYzQ4ODZjZGQ4NTVmMyIsImlhdCI6MTUyMTgyNjY3NCwiYXRfaGFzaCI6Im0yZWQyX1BJRm5OUnZBUHdzam1OeHciLCJzaWQiOiIwNDYzZGNlMzU0ZjJjYmNkNzM1MDUzMDJiYmVmZmQyOSIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgyNjY3NCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.scQUeQDlQ_lbvM36mKOl8bpBAtpKckZdejeXX1iRPS7-plQ7JaIvkh8fhCuU4shBinaqa4oMOAiHrQveVX4k06vpQTr9Qm-Gdw9YMlEUGpVYy6-tpwgP-2aEsbCpPb20zXQrW4bAtNJJtOsvYzVwk788rL3M018NOuJPI_6Qow9xGyMMv-TWczFlnnqKdRfCUsOEMIEG41RqodZjsEEDr1mo0naJ7-bIshjwzSrRmqxagD6jQYNSQOGOk_bc9n_3s8r8C_fM_oQpF65ouXvHyLfewUDxaT9-i6sm929BNTtIVNvlucnNjnmRgufxP274qlSkES-tMReivofDUzljIA   (ca22a1cb)
2018-03-23T19:36:57.7803409+01:00 0HLCGP2P3EAUN:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-03-23T19:36:57.7869635+01:00 0HLCGP2P3EAUN:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Address], [e].[Bio], [e].[ConcurrencyStamp], [e].[Dob], [e].[Doi], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[Gender], [e].[IsRestaurant], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RestaurantName], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName], [e].[profilepic]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2018-03-23T19:36:57.7891989+01:00 0HLCGP2P3EAUN:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2018-03-23T19:36:57.7921809+01:00 0HLCGP2P3EAUN:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2018-03-23T19:36:57.7924251+01:00 0HLCGP2P3EAUN:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T19:36:57.7926497+01:00 0HLCGP2P3EAUN:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T19:36:57.7928169+01:00 0HLCGP2P3EAUN:00000001 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T19:36:57.7932672+01:00 0HLCGP2P3EAUN:00000001 [ERR] Invalid redirect_uri: "http://localhost/callback"
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"7465703859b149dc92b80265ba2c96c3\",
    \"nonce\": \"06331ac716b64c4092783390aa372f13\",
    \"prompt\": \"none\",
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MjY2NzQsImV4cCI6MTUyMTgyNjk3NCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiI2ZjlmZThjYzI4NmE0NmExODZmYzQ4ODZjZGQ4NTVmMyIsImlhdCI6MTUyMTgyNjY3NCwiYXRfaGFzaCI6Im0yZWQyX1BJRm5OUnZBUHdzam1OeHciLCJzaWQiOiIwNDYzZGNlMzU0ZjJjYmNkNzM1MDUzMDJiYmVmZmQyOSIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgyNjY3NCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.scQUeQDlQ_lbvM36mKOl8bpBAtpKckZdejeXX1iRPS7-plQ7JaIvkh8fhCuU4shBinaqa4oMOAiHrQveVX4k06vpQTr9Qm-Gdw9YMlEUGpVYy6-tpwgP-2aEsbCpPb20zXQrW4bAtNJJtOsvYzVwk788rL3M018NOuJPI_6Qow9xGyMMv-TWczFlnnqKdRfCUsOEMIEG41RqodZjsEEDr1mo0naJ7-bIshjwzSrRmqxagD6jQYNSQOGOk_bc9n_3s8r8C_fM_oQpF65ouXvHyLfewUDxaT9-i6sm929BNTtIVNvlucnNjnmRgufxP274qlSkES-tMReivofDUzljIA\"
  }
}" (aa493bc4)
2018-03-23T19:36:57.7934429+01:00 0HLCGP2P3EAUN:00000001 [ERR] Request validation failed (abd529bc)
2018-03-23T19:36:57.7936465+01:00 0HLCGP2P3EAUN:00000001 [INF] "{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"7465703859b149dc92b80265ba2c96c3\",
    \"nonce\": \"06331ac716b64c4092783390aa372f13\",
    \"prompt\": \"none\",
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MjY2NzQsImV4cCI6MTUyMTgyNjk3NCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiI2ZjlmZThjYzI4NmE0NmExODZmYzQ4ODZjZGQ4NTVmMyIsImlhdCI6MTUyMTgyNjY3NCwiYXRfaGFzaCI6Im0yZWQyX1BJRm5OUnZBUHdzam1OeHciLCJzaWQiOiIwNDYzZGNlMzU0ZjJjYmNkNzM1MDUzMDJiYmVmZmQyOSIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgyNjY3NCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.scQUeQDlQ_lbvM36mKOl8bpBAtpKckZdejeXX1iRPS7-plQ7JaIvkh8fhCuU4shBinaqa4oMOAiHrQveVX4k06vpQTr9Qm-Gdw9YMlEUGpVYy6-tpwgP-2aEsbCpPb20zXQrW4bAtNJJtOsvYzVwk788rL3M018NOuJPI_6Qow9xGyMMv-TWczFlnnqKdRfCUsOEMIEG41RqodZjsEEDr1mo0naJ7-bIshjwzSrRmqxagD6jQYNSQOGOk_bc9n_3s8r8C_fM_oQpF65ouXvHyLfewUDxaT9-i6sm929BNTtIVNvlucnNjnmRgufxP274qlSkES-tMReivofDUzljIA\"
  }
}" (9899f104)
2018-03-23T19:36:57.7943163+01:00 0HLCGP2P3EAUN:00000001 [INF] Request finished in 15.6906ms 302  (791a596a)
2018-03-23T19:36:57.7959900+01:00 0HLCGP2P3EAUN:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8I8cZ24bSc5BkaJobKJXk0KlEDG3m3J3OUfkQUnCWCRUZUM_y5w4UO7q-2lj-HKSOAQHhLJDZFJQQSci7b9zxwnR4kliOEH6FWFM1rvA5Bd_kM2zNTkvaKEfptfHhjB1xdQubY3SQcvE9pRZ-O_wCvF2WSteFYlsfUc1X3FlruA7YNspoAWGPLicD8-CbRjC_6s9NeyaOa-2A7HmBrvr8EHosQtc91pvqQ7_avutUgKV41JgRTxVB4op6-pNyCg2ZqtqLXYgD0mHrIxgLjtRA6lvSAW9eXFA1NzI5ing-6zSz5HOkQWHdOQP_ANo2WOVHQ   (ca22a1cb)
2018-03-23T19:36:57.7968347+01:00 0HLCGP2P3EAUN:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T19:36:57.7968890+01:00 0HLCGP2P3EAUN:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T19:36:57.7973585+01:00 0HLCGP2P3EAUN:00000002 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.HomeController.Error (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0KlEDG3m3J3OUfkQUnCWCRUZUM_y5w4UO7q-2lj-HKSOAQHhLJDZFJQQSci7b9zxwnR4kliOEH6FWFM1rvA5Bd_kM2zNTkvaKEfptfHhjB1xdQubY3SQcvE9pRZ-O_wCvF2WSteFYlsfUc1X3FlruA7YNspoAWGPLicD8-CbRjC_6s9NeyaOa-2A7HmBrvr8EHosQtc91pvqQ7_avutUgKV41JgRTxVB4op6-pNyCg2ZqtqLXYgD0mHrIxgLjtRA6lvSAW9eXFA1NzI5ing-6zSz5HOkQWHdOQP_ANo2WOVHQ"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T19:36:57.8010752+01:00 0HLCGP2P3EAUN:00000002 [INF] Executing ViewResult, running view at path "/Views/Shared/Error.cshtml". (9707eebe)
2018-03-23T19:36:57.8033453+01:00 0HLCGP2P3EAUN:00000002 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.HomeController.Error (IdentityServerWithAspNetIdentity)" in 6.1466ms (afa2e885)
2018-03-23T19:36:57.8035338+01:00 0HLCGP2P3EAUN:00000002 [INF] Request finished in 7.5934ms 200 text/html; charset=utf-8 (791a596a)
2018-03-23T19:36:58.7771335+01:00 0HLCGP2P3EAUN:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=oidcreactwev&redirect_uri=http%3A%2F%2Flocalhost%2Fcallback&response_type=id_token%20token&scope=openid%20profile%20apiApp&state=d897d6ebca1f4b54b31cd2dda01d5bc2&nonce=e5caf25a34e44fe1860f19b1aa56b5ea&prompt=none&id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MjY2NzQsImV4cCI6MTUyMTgyNjk3NCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiI2ZjlmZThjYzI4NmE0NmExODZmYzQ4ODZjZGQ4NTVmMyIsImlhdCI6MTUyMTgyNjY3NCwiYXRfaGFzaCI6Im0yZWQyX1BJRm5OUnZBUHdzam1OeHciLCJzaWQiOiIwNDYzZGNlMzU0ZjJjYmNkNzM1MDUzMDJiYmVmZmQyOSIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgyNjY3NCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.scQUeQDlQ_lbvM36mKOl8bpBAtpKckZdejeXX1iRPS7-plQ7JaIvkh8fhCuU4shBinaqa4oMOAiHrQveVX4k06vpQTr9Qm-Gdw9YMlEUGpVYy6-tpwgP-2aEsbCpPb20zXQrW4bAtNJJtOsvYzVwk788rL3M018NOuJPI_6Qow9xGyMMv-TWczFlnnqKdRfCUsOEMIEG41RqodZjsEEDr1mo0naJ7-bIshjwzSrRmqxagD6jQYNSQOGOk_bc9n_3s8r8C_fM_oQpF65ouXvHyLfewUDxaT9-i6sm929BNTtIVNvlucnNjnmRgufxP274qlSkES-tMReivofDUzljIA   (ca22a1cb)
2018-03-23T19:36:58.7780867+01:00 0HLCGP2P3EAUN:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T19:36:58.7781397+01:00 0HLCGP2P3EAUN:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T19:36:58.7782539+01:00 0HLCGP2P3EAUN:00000003 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2018-03-23T19:36:58.7786658+01:00 0HLCGP2P3EAUN:00000003 [ERR] Invalid redirect_uri: "http://localhost/callback"
"{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"d897d6ebca1f4b54b31cd2dda01d5bc2\",
    \"nonce\": \"e5caf25a34e44fe1860f19b1aa56b5ea\",
    \"prompt\": \"none\",
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MjY2NzQsImV4cCI6MTUyMTgyNjk3NCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiI2ZjlmZThjYzI4NmE0NmExODZmYzQ4ODZjZGQ4NTVmMyIsImlhdCI6MTUyMTgyNjY3NCwiYXRfaGFzaCI6Im0yZWQyX1BJRm5OUnZBUHdzam1OeHciLCJzaWQiOiIwNDYzZGNlMzU0ZjJjYmNkNzM1MDUzMDJiYmVmZmQyOSIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgyNjY3NCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.scQUeQDlQ_lbvM36mKOl8bpBAtpKckZdejeXX1iRPS7-plQ7JaIvkh8fhCuU4shBinaqa4oMOAiHrQveVX4k06vpQTr9Qm-Gdw9YMlEUGpVYy6-tpwgP-2aEsbCpPb20zXQrW4bAtNJJtOsvYzVwk788rL3M018NOuJPI_6Qow9xGyMMv-TWczFlnnqKdRfCUsOEMIEG41RqodZjsEEDr1mo0naJ7-bIshjwzSrRmqxagD6jQYNSQOGOk_bc9n_3s8r8C_fM_oQpF65ouXvHyLfewUDxaT9-i6sm929BNTtIVNvlucnNjnmRgufxP274qlSkES-tMReivofDUzljIA\"
  }
}" (aa493bc4)
2018-03-23T19:36:58.7786880+01:00 0HLCGP2P3EAUN:00000003 [ERR] Request validation failed (abd529bc)
2018-03-23T19:36:58.7788810+01:00 0HLCGP2P3EAUN:00000003 [INF] "{
  \"ClientId\": \"oidcreactwev\",
  \"ClientName\": \"React Web\",
  \"AllowedRedirectUris\": [
    \"http://localhost:51540/callback\"
  ],
  \"SubjectId\": \"63dd3fb7-8153-4eb7-9b7f-2a6cbc2e14f5\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"oidcreactwev\",
    \"redirect_uri\": \"http://localhost/callback\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid profile apiApp\",
    \"state\": \"d897d6ebca1f4b54b31cd2dda01d5bc2\",
    \"nonce\": \"e5caf25a34e44fe1860f19b1aa56b5ea\",
    \"prompt\": \"none\",
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdlZmM5OTJjNGZkMzhlZjljYzAxZjAwNjI0NDU0MTJiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MjE4MjY2NzQsImV4cCI6MTUyMTgyNjk3NCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoib2lkY3JlYWN0d2V2Iiwibm9uY2UiOiI2ZjlmZThjYzI4NmE0NmExODZmYzQ4ODZjZGQ4NTVmMyIsImlhdCI6MTUyMTgyNjY3NCwiYXRfaGFzaCI6Im0yZWQyX1BJRm5OUnZBUHdzam1OeHciLCJzaWQiOiIwNDYzZGNlMzU0ZjJjYmNkNzM1MDUzMDJiYmVmZmQyOSIsInN1YiI6IjYzZGQzZmI3LTgxNTMtNGViNy05YjdmLTJhNmNiYzJlMTRmNSIsImF1dGhfdGltZSI6MTUyMTgyNjY3NCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.scQUeQDlQ_lbvM36mKOl8bpBAtpKckZdejeXX1iRPS7-plQ7JaIvkh8fhCuU4shBinaqa4oMOAiHrQveVX4k06vpQTr9Qm-Gdw9YMlEUGpVYy6-tpwgP-2aEsbCpPb20zXQrW4bAtNJJtOsvYzVwk788rL3M018NOuJPI_6Qow9xGyMMv-TWczFlnnqKdRfCUsOEMIEG41RqodZjsEEDr1mo0naJ7-bIshjwzSrRmqxagD6jQYNSQOGOk_bc9n_3s8r8C_fM_oQpF65ouXvHyLfewUDxaT9-i6sm929BNTtIVNvlucnNjnmRgufxP274qlSkES-tMReivofDUzljIA\"
  }
}" (9899f104)
2018-03-23T19:36:58.7791166+01:00 0HLCGP2P3EAUN:00000003 [INF] Request finished in 2.0741ms 302  (791a596a)
2018-03-23T19:36:58.7808198+01:00 0HLCGP2P3EAUN:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8I8cZ24bSc5BkaJobKJXk0KNcVZMLs2uakTqMLKVirgOxDTOhiOy49gp2zjyZIT8KX4TQWLvnWWeQaXHDePqE49pcprCwGOCplWf3wiMHBVXgL7f_CsXXztkh2FZGw-V0Lgivucm-jxirIkoa9wFMPtgHoHe02CiPZvdtDbDfHrpxNxMXcZ-w92043FkCDaVF3WnPkIbVrUmmakuWE0F8Fua_AdgdwCatvuYoqe4dOkxgxIs52Q6l5efKoHSW8utzX3cD6AtG8Cd8qMTbL7s-zne1kKTEs9Fcux98bMGgfbu5H-CJ9L_SAeYBgYfBJYNHg   (ca22a1cb)
2018-03-23T19:36:58.7816260+01:00 0HLCGP2P3EAUN:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T19:36:58.7817906+01:00 0HLCGP2P3EAUN:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2018-03-23T19:36:58.7820289+01:00 0HLCGP2P3EAUN:00000004 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.HomeController.Error (IdentityServerWithAspNetIdentity)" with arguments (["CfDJ8I8cZ24bSc5BkaJobKJXk0KNcVZMLs2uakTqMLKVirgOxDTOhiOy49gp2zjyZIT8KX4TQWLvnWWeQaXHDePqE49pcprCwGOCplWf3wiMHBVXgL7f_CsXXztkh2FZGw-V0Lgivucm-jxirIkoa9wFMPtgHoHe02CiPZvdtDbDfHrpxNxMXcZ-w92043FkCDaVF3WnPkIbVrUmmakuWE0F8Fua_AdgdwCatvuYoqe4dOkxgxIs52Q6l5efKoHSW8utzX3cD6AtG8Cd8qMTbL7s-zne1kKTEs9Fcux98bMGgfbu5H-CJ9L_SAeYBgYfBJYNHg"]) - ModelState is Valid (ba7f4ac2)
2018-03-23T19:36:58.7821897+01:00 0HLCGP2P3EAUN:00000004 [INF] Executing ViewResult, running view at path "/Views/Shared/Error.cshtml". (9707eebe)
2018-03-23T19:36:58.7831814+01:00 0HLCGP2P3EAUN:00000004 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.HomeController.Error (IdentityServerWithAspNetIdentity)" in 1.2628ms (afa2e885)
2018-03-23T19:36:58.7833276+01:00 0HLCGP2P3EAUN:00000004 [INF] Request finished in 2.58ms 200 text/html; charset=utf-8 (791a596a)
